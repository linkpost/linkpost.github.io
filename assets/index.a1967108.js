(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))d(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const b of h.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function l(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerpolicy&&(h.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?h.credentials="include":f.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(f){if(f.ep)return;f.ep=!0;const h=l(f);fetch(f.href,h)}})();function Di(e,o){const l=Object.create(null),d=e.split(",");for(let f=0;f<d.length;f++)l[d[f]]=!0;return o?f=>!!l[f.toLowerCase()]:f=>!!l[f]}function Dr(e){if(Se(e)){const o={};for(let l=0;l<e.length;l++){const d=e[l],f=Ze(d)?Dc(d):Dr(d);if(f)for(const h in f)o[h]=f[h]}return o}else{if(Ze(e))return e;if(Ke(e))return e}}const Hc=/;(?![^(]*\))/g,Nc=/:([^]+)/,Oc=/\/\*.*?\*\//gs;function Dc(e){const o={};return e.replace(Oc,"").split(Hc).forEach(l=>{if(l){const d=l.split(Nc);d.length>1&&(o[d[0].trim()]=d[1].trim())}}),o}function Nn(e){let o="";if(Ze(e))o=e;else if(Se(e))for(let l=0;l<e.length;l++){const d=Nn(e[l]);d&&(o+=d+" ")}else if(Ke(e))for(const l in e)e[l]&&(o+=l+" ");return o.trim()}function Ft(e){if(!e)return null;let{class:o,style:l}=e;return o&&!Ze(o)&&(e.class=Nn(o)),l&&(e.style=Dr(l)),e}const Ic="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pc=Di(Ic);function Os(e){return!!e||e===""}const Ir=e=>Ze(e)?e:e==null?"":Se(e)||Ke(e)&&(e.toString===Rs||!Me(e.toString))?JSON.stringify(e,Ds,2):String(e),Ds=(e,o)=>o&&o.__v_isRef?Ds(e,o.value):Tn(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((l,[d,f])=>(l[`${d} =>`]=f,l),{})}:Is(o)?{[`Set(${o.size})`]:[...o.values()]}:Ke(o)&&!Se(o)&&!js(o)?String(o):o,ze={},xn=[],Ot=()=>{},Rc=()=>!1,jc=/^on[^a-z]/,Pr=e=>jc.test(e),Ii=e=>e.startsWith("onUpdate:"),at=Object.assign,Pi=(e,o)=>{const l=e.indexOf(o);l>-1&&e.splice(l,1)},Bc=Object.prototype.hasOwnProperty,Ie=(e,o)=>Bc.call(e,o),Se=Array.isArray,Tn=e=>Rr(e)==="[object Map]",Is=e=>Rr(e)==="[object Set]",Me=e=>typeof e=="function",Ze=e=>typeof e=="string",Ri=e=>typeof e=="symbol",Ke=e=>e!==null&&typeof e=="object",Ps=e=>Ke(e)&&Me(e.then)&&Me(e.catch),Rs=Object.prototype.toString,Rr=e=>Rs.call(e),Uc=e=>Rr(e).slice(8,-1),js=e=>Rr(e)==="[object Object]",ji=e=>Ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cr=Di(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jr=e=>{const o=Object.create(null);return l=>o[l]||(o[l]=e(l))},qc=/-(\w)/g,Rt=jr(e=>e.replace(qc,(o,l)=>l?l.toUpperCase():"")),Fc=/\B([A-Z])/g,In=jr(e=>e.replace(Fc,"-$1").toLowerCase()),Br=jr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ci=jr(e=>e?`on${Br(e)}`:""),Jn=(e,o)=>!Object.is(e,o),di=(e,o)=>{for(let l=0;l<e.length;l++)e[l](o)},Lr=(e,o,l)=>{Object.defineProperty(e,o,{configurable:!0,enumerable:!1,value:l})},Vc=e=>{const o=parseFloat(e);return isNaN(o)?e:o},Kc=e=>{const o=Ze(e)?Number(e):NaN;return isNaN(o)?e:o};let Ko;const Wc=()=>Ko||(Ko=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Mt;class zc{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Mt,!o&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const l=Mt;try{return Mt=this,o()}finally{Mt=l}}}on(){Mt=this}off(){Mt=this.parent}stop(o){if(this._active){let l,d;for(l=0,d=this.effects.length;l<d;l++)this.effects[l].stop();for(l=0,d=this.cleanups.length;l<d;l++)this.cleanups[l]();if(this.scopes)for(l=0,d=this.scopes.length;l<d;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!o){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function $c(e,o=Mt){o&&o.active&&o.effects.push(e)}function Gc(){return Mt}const Bi=e=>{const o=new Set(e);return o.w=0,o.n=0,o},Bs=e=>(e.w&tn)>0,Us=e=>(e.n&tn)>0,Zc=({deps:e})=>{if(e.length)for(let o=0;o<e.length;o++)e[o].w|=tn},Jc=e=>{const{deps:o}=e;if(o.length){let l=0;for(let d=0;d<o.length;d++){const f=o[d];Bs(f)&&!Us(f)?f.delete(e):o[l++]=f,f.w&=~tn,f.n&=~tn}o.length=l}},wi=new WeakMap;let Kn=0,tn=1;const Ei=30;let Ht;const vn=Symbol(""),_i=Symbol("");class Ui{constructor(o,l=null,d){this.fn=o,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,$c(this,d)}run(){if(!this.active)return this.fn();let o=Ht,l=Qt;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=Ht,Ht=this,Qt=!0,tn=1<<++Kn,Kn<=Ei?Zc(this):Wo(this),this.fn()}finally{Kn<=Ei&&Jc(this),tn=1<<--Kn,Ht=this.parent,Qt=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ht===this?this.deferStop=!0:this.active&&(Wo(this),this.onStop&&this.onStop(),this.active=!1)}}function Wo(e){const{deps:o}=e;if(o.length){for(let l=0;l<o.length;l++)o[l].delete(e);o.length=0}}let Qt=!0;const qs=[];function Pn(){qs.push(Qt),Qt=!1}function Rn(){const e=qs.pop();Qt=e===void 0?!0:e}function yt(e,o,l){if(Qt&&Ht){let d=wi.get(e);d||wi.set(e,d=new Map);let f=d.get(l);f||d.set(l,f=Bi()),Fs(f)}}function Fs(e,o){let l=!1;Kn<=Ei?Us(e)||(e.n|=tn,l=!Bs(e)):l=!e.has(Ht),l&&(e.add(Ht),Ht.deps.push(e))}function Vt(e,o,l,d,f,h){const b=wi.get(e);if(!b)return;let y=[];if(o==="clear")y=[...b.values()];else if(l==="length"&&Se(e)){const g=Number(d);b.forEach((u,v)=>{(v==="length"||v>=g)&&y.push(u)})}else switch(l!==void 0&&y.push(b.get(l)),o){case"add":Se(e)?ji(l)&&y.push(b.get("length")):(y.push(b.get(vn)),Tn(e)&&y.push(b.get(_i)));break;case"delete":Se(e)||(y.push(b.get(vn)),Tn(e)&&y.push(b.get(_i)));break;case"set":Tn(e)&&y.push(b.get(vn));break}if(y.length===1)y[0]&&Ci(y[0]);else{const g=[];for(const u of y)u&&g.push(...u);Ci(Bi(g))}}function Ci(e,o){const l=Se(e)?e:[...e];for(const d of l)d.computed&&zo(d);for(const d of l)d.computed||zo(d)}function zo(e,o){(e!==Ht||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Xc=Di("__proto__,__v_isRef,__isVue"),Vs=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ri)),Yc=qi(),Qc=qi(!1,!0),ed=qi(!0),$o=td();function td(){const e={};return["includes","indexOf","lastIndexOf"].forEach(o=>{e[o]=function(...l){const d=Pe(this);for(let h=0,b=this.length;h<b;h++)yt(d,"get",h+"");const f=d[o](...l);return f===-1||f===!1?d[o](...l.map(Pe)):f}}),["push","pop","shift","unshift","splice"].forEach(o=>{e[o]=function(...l){Pn();const d=Pe(this)[o].apply(this,l);return Rn(),d}}),e}function nd(e){const o=Pe(this);return yt(o,"has",e),o.hasOwnProperty(e)}function qi(e=!1,o=!1){return function(d,f,h){if(f==="__v_isReactive")return!e;if(f==="__v_isReadonly")return e;if(f==="__v_isShallow")return o;if(f==="__v_raw"&&h===(e?o?yd:Gs:o?$s:zs).get(d))return d;const b=Se(d);if(!e){if(b&&Ie($o,f))return Reflect.get($o,f,h);if(f==="hasOwnProperty")return nd}const y=Reflect.get(d,f,h);return(Ri(f)?Vs.has(f):Xc(f))||(e||yt(d,"get",f),o)?y:ut(y)?b&&ji(f)?y:y.value:Ke(y)?e?Ar(y):Ki(y):y}}const rd=Ks(),id=Ks(!0);function Ks(e=!1){return function(l,d,f,h){let b=l[d];if(On(b)&&ut(b)&&!ut(f))return!1;if(!e&&(!Mr(f)&&!On(f)&&(b=Pe(b),f=Pe(f)),!Se(l)&&ut(b)&&!ut(f)))return b.value=f,!0;const y=Se(l)&&ji(d)?Number(d)<l.length:Ie(l,d),g=Reflect.set(l,d,f,h);return l===Pe(h)&&(y?Jn(f,b)&&Vt(l,"set",d,f):Vt(l,"add",d,f)),g}}function od(e,o){const l=Ie(e,o);e[o];const d=Reflect.deleteProperty(e,o);return d&&l&&Vt(e,"delete",o,void 0),d}function sd(e,o){const l=Reflect.has(e,o);return(!Ri(o)||!Vs.has(o))&&yt(e,"has",o),l}function ad(e){return yt(e,"iterate",Se(e)?"length":vn),Reflect.ownKeys(e)}const Ws={get:Yc,set:rd,deleteProperty:od,has:sd,ownKeys:ad},ld={get:ed,set(e,o){return!0},deleteProperty(e,o){return!0}},cd=at({},Ws,{get:Qc,set:id}),Fi=e=>e,Ur=e=>Reflect.getPrototypeOf(e);function hr(e,o,l=!1,d=!1){e=e.__v_raw;const f=Pe(e),h=Pe(o);l||(o!==h&&yt(f,"get",o),yt(f,"get",h));const{has:b}=Ur(f),y=d?Fi:l?zi:Xn;if(b.call(f,o))return y(e.get(o));if(b.call(f,h))return y(e.get(h));e!==f&&e.get(o)}function vr(e,o=!1){const l=this.__v_raw,d=Pe(l),f=Pe(e);return o||(e!==f&&yt(d,"has",e),yt(d,"has",f)),e===f?l.has(e):l.has(e)||l.has(f)}function gr(e,o=!1){return e=e.__v_raw,!o&&yt(Pe(e),"iterate",vn),Reflect.get(e,"size",e)}function Go(e){e=Pe(e);const o=Pe(this);return Ur(o).has.call(o,e)||(o.add(e),Vt(o,"add",e,e)),this}function Zo(e,o){o=Pe(o);const l=Pe(this),{has:d,get:f}=Ur(l);let h=d.call(l,e);h||(e=Pe(e),h=d.call(l,e));const b=f.call(l,e);return l.set(e,o),h?Jn(o,b)&&Vt(l,"set",e,o):Vt(l,"add",e,o),this}function Jo(e){const o=Pe(this),{has:l,get:d}=Ur(o);let f=l.call(o,e);f||(e=Pe(e),f=l.call(o,e)),d&&d.call(o,e);const h=o.delete(e);return f&&Vt(o,"delete",e,void 0),h}function Xo(){const e=Pe(this),o=e.size!==0,l=e.clear();return o&&Vt(e,"clear",void 0,void 0),l}function yr(e,o){return function(d,f){const h=this,b=h.__v_raw,y=Pe(b),g=o?Fi:e?zi:Xn;return!e&&yt(y,"iterate",vn),b.forEach((u,v)=>d.call(f,g(u),g(v),h))}}function br(e,o,l){return function(...d){const f=this.__v_raw,h=Pe(f),b=Tn(h),y=e==="entries"||e===Symbol.iterator&&b,g=e==="keys"&&b,u=f[e](...d),v=l?Fi:o?zi:Xn;return!o&&yt(h,"iterate",g?_i:vn),{next(){const{value:p,done:E}=u.next();return E?{value:p,done:E}:{value:y?[v(p[0]),v(p[1])]:v(p),done:E}},[Symbol.iterator](){return this}}}}function Gt(e){return function(...o){return e==="delete"?!1:this}}function dd(){const e={get(h){return hr(this,h)},get size(){return gr(this)},has:vr,add:Go,set:Zo,delete:Jo,clear:Xo,forEach:yr(!1,!1)},o={get(h){return hr(this,h,!1,!0)},get size(){return gr(this)},has:vr,add:Go,set:Zo,delete:Jo,clear:Xo,forEach:yr(!1,!0)},l={get(h){return hr(this,h,!0)},get size(){return gr(this,!0)},has(h){return vr.call(this,h,!0)},add:Gt("add"),set:Gt("set"),delete:Gt("delete"),clear:Gt("clear"),forEach:yr(!0,!1)},d={get(h){return hr(this,h,!0,!0)},get size(){return gr(this,!0)},has(h){return vr.call(this,h,!0)},add:Gt("add"),set:Gt("set"),delete:Gt("delete"),clear:Gt("clear"),forEach:yr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{e[h]=br(h,!1,!1),l[h]=br(h,!0,!1),o[h]=br(h,!1,!0),d[h]=br(h,!0,!0)}),[e,l,o,d]}const[ud,fd,pd,md]=dd();function Vi(e,o){const l=o?e?md:pd:e?fd:ud;return(d,f,h)=>f==="__v_isReactive"?!e:f==="__v_isReadonly"?e:f==="__v_raw"?d:Reflect.get(Ie(l,f)&&f in d?l:d,f,h)}const hd={get:Vi(!1,!1)},vd={get:Vi(!1,!0)},gd={get:Vi(!0,!1)},zs=new WeakMap,$s=new WeakMap,Gs=new WeakMap,yd=new WeakMap;function bd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wd(e){return e.__v_skip||!Object.isExtensible(e)?0:bd(Uc(e))}function Ki(e){return On(e)?e:Wi(e,!1,Ws,hd,zs)}function Ed(e){return Wi(e,!1,cd,vd,$s)}function Ar(e){return Wi(e,!0,ld,gd,Gs)}function Wi(e,o,l,d,f){if(!Ke(e)||e.__v_raw&&!(o&&e.__v_isReactive))return e;const h=f.get(e);if(h)return h;const b=wd(e);if(b===0)return e;const y=new Proxy(e,b===2?d:l);return f.set(e,y),y}function Ln(e){return On(e)?Ln(e.__v_raw):!!(e&&e.__v_isReactive)}function On(e){return!!(e&&e.__v_isReadonly)}function Mr(e){return!!(e&&e.__v_isShallow)}function Zs(e){return Ln(e)||On(e)}function Pe(e){const o=e&&e.__v_raw;return o?Pe(o):e}function Js(e){return Lr(e,"__v_skip",!0),e}const Xn=e=>Ke(e)?Ki(e):e,zi=e=>Ke(e)?Ar(e):e;function Xs(e){Qt&&Ht&&(e=Pe(e),Fs(e.dep||(e.dep=Bi())))}function Ys(e,o){e=Pe(e);const l=e.dep;l&&Ci(l)}function ut(e){return!!(e&&e.__v_isRef===!0)}function Kt(e){return _d(e,!1)}function _d(e,o){return ut(e)?e:new Cd(e,o)}class Cd{constructor(o,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?o:Pe(o),this._value=l?o:Xn(o)}get value(){return Xs(this),this._value}set value(o){const l=this.__v_isShallow||Mr(o)||On(o);o=l?o:Pe(o),Jn(o,this._rawValue)&&(this._rawValue=o,this._value=l?o:Xn(o),Ys(this))}}function Xe(e){return ut(e)?e.value:e}const kd={get:(e,o,l)=>Xe(Reflect.get(e,o,l)),set:(e,o,l,d)=>{const f=e[o];return ut(f)&&!ut(l)?(f.value=l,!0):Reflect.set(e,o,l,d)}};function Qs(e){return Ln(e)?e:new Proxy(e,kd)}var ea;class Sd{constructor(o,l,d,f){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this[ea]=!1,this._dirty=!0,this.effect=new Ui(o,()=>{this._dirty||(this._dirty=!0,Ys(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=d}get value(){const o=Pe(this);return Xs(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}ea="__v_isReadonly";function xd(e,o,l=!1){let d,f;const h=Me(e);return h?(d=e,f=Ot):(d=e.get,f=e.set),new Sd(d,f,h||!f,l)}function en(e,o,l,d){let f;try{f=d?e(...d):e()}catch(h){qr(h,o,l)}return f}function kt(e,o,l,d){if(Me(e)){const h=en(e,o,l,d);return h&&Ps(h)&&h.catch(b=>{qr(b,o,l)}),h}const f=[];for(let h=0;h<e.length;h++)f.push(kt(e[h],o,l,d));return f}function qr(e,o,l,d=!0){const f=o?o.vnode:null;if(o){let h=o.parent;const b=o.proxy,y=l;for(;h;){const u=h.ec;if(u){for(let v=0;v<u.length;v++)if(u[v](e,b,y)===!1)return}h=h.parent}const g=o.appContext.config.errorHandler;if(g){en(g,null,10,[e,b,y]);return}}Td(e,l,f,d)}function Td(e,o,l,d=!0){console.error(e)}let Yn=!1,ki=!1;const dt=[];let Pt=0;const An=[];let qt=null,fn=0;const ta=Promise.resolve();let $i=null;function na(e){const o=$i||ta;return e?o.then(this?e.bind(this):e):o}function Ld(e){let o=Pt+1,l=dt.length;for(;o<l;){const d=o+l>>>1;Qn(dt[d])<e?o=d+1:l=d}return o}function Gi(e){(!dt.length||!dt.includes(e,Yn&&e.allowRecurse?Pt+1:Pt))&&(e.id==null?dt.push(e):dt.splice(Ld(e.id),0,e),ra())}function ra(){!Yn&&!ki&&(ki=!0,$i=ta.then(oa))}function Ad(e){const o=dt.indexOf(e);o>Pt&&dt.splice(o,1)}function Md(e){Se(e)?An.push(...e):(!qt||!qt.includes(e,e.allowRecurse?fn+1:fn))&&An.push(e),ra()}function Yo(e,o=Yn?Pt+1:0){for(;o<dt.length;o++){const l=dt[o];l&&l.pre&&(dt.splice(o,1),o--,l())}}function ia(e){if(An.length){const o=[...new Set(An)];if(An.length=0,qt){qt.push(...o);return}for(qt=o,qt.sort((l,d)=>Qn(l)-Qn(d)),fn=0;fn<qt.length;fn++)qt[fn]();qt=null,fn=0}}const Qn=e=>e.id==null?1/0:e.id,Hd=(e,o)=>{const l=Qn(e)-Qn(o);if(l===0){if(e.pre&&!o.pre)return-1;if(o.pre&&!e.pre)return 1}return l};function oa(e){ki=!1,Yn=!0,dt.sort(Hd);const o=Ot;try{for(Pt=0;Pt<dt.length;Pt++){const l=dt[Pt];l&&l.active!==!1&&en(l,null,14)}}finally{Pt=0,dt.length=0,ia(),Yn=!1,$i=null,(dt.length||An.length)&&oa()}}function Nd(e,o,...l){if(e.isUnmounted)return;const d=e.vnode.props||ze;let f=l;const h=o.startsWith("update:"),b=h&&o.slice(7);if(b&&b in d){const v=`${b==="modelValue"?"model":b}Modifiers`,{number:p,trim:E}=d[v]||ze;E&&(f=l.map(m=>Ze(m)?m.trim():m)),p&&(f=l.map(Vc))}let y,g=d[y=ci(o)]||d[y=ci(Rt(o))];!g&&h&&(g=d[y=ci(In(o))]),g&&kt(g,e,6,f);const u=d[y+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[y])return;e.emitted[y]=!0,kt(u,e,6,f)}}function sa(e,o,l=!1){const d=o.emitsCache,f=d.get(e);if(f!==void 0)return f;const h=e.emits;let b={},y=!1;if(!Me(e)){const g=u=>{const v=sa(u,o,!0);v&&(y=!0,at(b,v))};!l&&o.mixins.length&&o.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!h&&!y?(Ke(e)&&d.set(e,null),null):(Se(h)?h.forEach(g=>b[g]=null):at(b,h),Ke(e)&&d.set(e,b),b)}function Fr(e,o){return!e||!Pr(o)?!1:(o=o.slice(2).replace(/Once$/,""),Ie(e,o[0].toLowerCase()+o.slice(1))||Ie(e,In(o))||Ie(e,o))}let ft=null,aa=null;function Hr(e){const o=ft;return ft=e,aa=e&&e.type.__scopeId||null,o}function Yt(e,o=ft,l){if(!o||e._n)return e;const d=(...f)=>{d._d&&cs(-1);const h=Hr(o);let b;try{b=e(...f)}finally{Hr(h),d._d&&cs(1)}return b};return d._n=!0,d._c=!0,d._d=!0,d}function ui(e){const{type:o,vnode:l,proxy:d,withProxy:f,props:h,propsOptions:[b],slots:y,attrs:g,emit:u,render:v,renderCache:p,data:E,setupState:m,ctx:w,inheritAttrs:C}=e;let L,O;const N=Hr(e);try{if(l.shapeFlag&4){const M=f||d;L=It(v.call(M,M,p,h,m,E,w)),O=g}else{const M=o;L=It(M.length>1?M(h,{attrs:g,slots:y,emit:u}):M(h,null)),O=o.props?g:Od(g)}}catch(M){Zn.length=0,qr(M,e,1),L=Ve(St)}let I=L;if(O&&C!==!1){const M=Object.keys(O),{shapeFlag:H}=I;M.length&&H&7&&(b&&M.some(Ii)&&(O=Dd(O,b)),I=nn(I,O))}return l.dirs&&(I=nn(I),I.dirs=I.dirs?I.dirs.concat(l.dirs):l.dirs),l.transition&&(I.transition=l.transition),L=I,Hr(N),L}const Od=e=>{let o;for(const l in e)(l==="class"||l==="style"||Pr(l))&&((o||(o={}))[l]=e[l]);return o},Dd=(e,o)=>{const l={};for(const d in e)(!Ii(d)||!(d.slice(9)in o))&&(l[d]=e[d]);return l};function Id(e,o,l){const{props:d,children:f,component:h}=e,{props:b,children:y,patchFlag:g}=o,u=h.emitsOptions;if(o.dirs||o.transition)return!0;if(l&&g>=0){if(g&1024)return!0;if(g&16)return d?Qo(d,b,u):!!b;if(g&8){const v=o.dynamicProps;for(let p=0;p<v.length;p++){const E=v[p];if(b[E]!==d[E]&&!Fr(u,E))return!0}}}else return(f||y)&&(!y||!y.$stable)?!0:d===b?!1:d?b?Qo(d,b,u):!0:!!b;return!1}function Qo(e,o,l){const d=Object.keys(o);if(d.length!==Object.keys(e).length)return!0;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==e[h]&&!Fr(l,h))return!0}return!1}function Pd({vnode:e,parent:o},l){for(;o&&o.subTree===e;)(e=o.vnode).el=l,o=o.parent}const Rd=e=>e.__isSuspense;function jd(e,o){o&&o.pendingBranch?Se(e)?o.effects.push(...e):o.effects.push(e):Md(e)}function Bd(e,o){if(Ye){let l=Ye.provides;const d=Ye.parent&&Ye.parent.provides;d===l&&(l=Ye.provides=Object.create(d)),l[e]=o}}function kr(e,o,l=!1){const d=Ye||ft;if(d){const f=d.parent==null?d.vnode.appContext&&d.vnode.appContext.provides:d.parent.provides;if(f&&e in f)return f[e];if(arguments.length>1)return l&&Me(o)?o.call(d.proxy):o}}function Ud(e,o){return Zi(e,null,o)}const wr={};function fi(e,o,l){return Zi(e,o,l)}function Zi(e,o,{immediate:l,deep:d,flush:f,onTrack:h,onTrigger:b}=ze){const y=Gc()===(Ye==null?void 0:Ye.scope)?Ye:null;let g,u=!1,v=!1;if(ut(e)?(g=()=>e.value,u=Mr(e)):Ln(e)?(g=()=>e,d=!0):Se(e)?(v=!0,u=e.some(I=>Ln(I)||Mr(I)),g=()=>e.map(I=>{if(ut(I))return I.value;if(Ln(I))return Sn(I);if(Me(I))return en(I,y,2)})):Me(e)?o?g=()=>en(e,y,2):g=()=>{if(!(y&&y.isUnmounted))return p&&p(),kt(e,y,3,[E])}:g=Ot,o&&d){const I=g;g=()=>Sn(I())}let p,E=I=>{p=O.onStop=()=>{en(I,y,4)}},m;if(rr)if(E=Ot,o?l&&kt(o,y,3,[g(),v?[]:void 0,E]):g(),f==="sync"){const I=Nu();m=I.__watcherHandles||(I.__watcherHandles=[])}else return Ot;let w=v?new Array(e.length).fill(wr):wr;const C=()=>{if(!!O.active)if(o){const I=O.run();(d||u||(v?I.some((M,H)=>Jn(M,w[H])):Jn(I,w)))&&(p&&p(),kt(o,y,3,[I,w===wr?void 0:v&&w[0]===wr?[]:w,E]),w=I)}else O.run()};C.allowRecurse=!!o;let L;f==="sync"?L=C:f==="post"?L=()=>gt(C,y&&y.suspense):(C.pre=!0,y&&(C.id=y.uid),L=()=>Gi(C));const O=new Ui(g,L);o?l?C():w=O.run():f==="post"?gt(O.run.bind(O),y&&y.suspense):O.run();const N=()=>{O.stop(),y&&y.scope&&Pi(y.scope.effects,O)};return m&&m.push(N),N}function qd(e,o,l){const d=this.proxy,f=Ze(e)?e.includes(".")?la(d,e):()=>d[e]:e.bind(d,d);let h;Me(o)?h=o:(h=o.handler,l=o);const b=Ye;Dn(this);const y=Zi(f,h.bind(d),l);return b?Dn(b):yn(),y}function la(e,o){const l=o.split(".");return()=>{let d=e;for(let f=0;f<l.length&&d;f++)d=d[l[f]];return d}}function Sn(e,o){if(!Ke(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),ut(e))Sn(e.value,o);else if(Se(e))for(let l=0;l<e.length;l++)Sn(e[l],o);else if(Is(e)||Tn(e))e.forEach(l=>{Sn(l,o)});else if(js(e))for(const l in e)Sn(e[l],o);return e}function ca(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xi(()=>{e.isMounted=!0}),ma(()=>{e.isUnmounting=!0}),e}const Ct=[Function,Array],Fd={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ct,onEnter:Ct,onAfterEnter:Ct,onEnterCancelled:Ct,onBeforeLeave:Ct,onLeave:Ct,onAfterLeave:Ct,onLeaveCancelled:Ct,onBeforeAppear:Ct,onAppear:Ct,onAfterAppear:Ct,onAppearCancelled:Ct},setup(e,{slots:o}){const l=Na(),d=ca();let f;return()=>{const h=o.default&&Ji(o.default(),!0);if(!h||!h.length)return;let b=h[0];if(h.length>1){for(const C of h)if(C.type!==St){b=C;break}}const y=Pe(e),{mode:g}=y;if(d.isLeaving)return pi(b);const u=es(b);if(!u)return pi(b);const v=er(u,y,d,l);tr(u,v);const p=l.subTree,E=p&&es(p);let m=!1;const{getTransitionKey:w}=u.type;if(w){const C=w();f===void 0?f=C:C!==f&&(f=C,m=!0)}if(E&&E.type!==St&&(!pn(u,E)||m)){const C=er(E,y,d,l);if(tr(E,C),g==="out-in")return d.isLeaving=!0,C.afterLeave=()=>{d.isLeaving=!1,l.update.active!==!1&&l.update()},pi(b);g==="in-out"&&u.type!==St&&(C.delayLeave=(L,O,N)=>{const I=ua(d,E);I[String(E.key)]=E,L._leaveCb=()=>{O(),L._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=N})}return b}}},da=Fd;function ua(e,o){const{leavingVNodes:l}=e;let d=l.get(o.type);return d||(d=Object.create(null),l.set(o.type,d)),d}function er(e,o,l,d){const{appear:f,mode:h,persisted:b=!1,onBeforeEnter:y,onEnter:g,onAfterEnter:u,onEnterCancelled:v,onBeforeLeave:p,onLeave:E,onAfterLeave:m,onLeaveCancelled:w,onBeforeAppear:C,onAppear:L,onAfterAppear:O,onAppearCancelled:N}=o,I=String(e.key),M=ua(l,e),H=(q,X)=>{q&&kt(q,d,9,X)},k=(q,X)=>{const ee=X[1];H(q,X),Se(q)?q.every(le=>le.length<=1)&&ee():q.length<=1&&ee()},F={mode:h,persisted:b,beforeEnter(q){let X=y;if(!l.isMounted)if(f)X=C||y;else return;q._leaveCb&&q._leaveCb(!0);const ee=M[I];ee&&pn(e,ee)&&ee.el._leaveCb&&ee.el._leaveCb(),H(X,[q])},enter(q){let X=g,ee=u,le=v;if(!l.isMounted)if(f)X=L||g,ee=O||u,le=N||v;else return;let $=!1;const be=q._enterCb=ke=>{$||($=!0,ke?H(le,[q]):H(ee,[q]),F.delayedLeave&&F.delayedLeave(),q._enterCb=void 0)};X?k(X,[q,be]):be()},leave(q,X){const ee=String(e.key);if(q._enterCb&&q._enterCb(!0),l.isUnmounting)return X();H(p,[q]);let le=!1;const $=q._leaveCb=be=>{le||(le=!0,X(),be?H(w,[q]):H(m,[q]),q._leaveCb=void 0,M[ee]===e&&delete M[ee])};M[ee]=e,E?k(E,[q,$]):$()},clone(q){return er(q,o,l,d)}};return F}function pi(e){if(Vr(e))return e=nn(e),e.children=null,e}function es(e){return Vr(e)?e.children?e.children[0]:void 0:e}function tr(e,o){e.shapeFlag&6&&e.component?tr(e.component.subTree,o):e.shapeFlag&128?(e.ssContent.transition=o.clone(e.ssContent),e.ssFallback.transition=o.clone(e.ssFallback)):e.transition=o}function Ji(e,o=!1,l){let d=[],f=0;for(let h=0;h<e.length;h++){let b=e[h];const y=l==null?b.key:String(l)+String(b.key!=null?b.key:h);b.type===rt?(b.patchFlag&128&&f++,d=d.concat(Ji(b.children,o,y))):(o||b.type!==St)&&d.push(y!=null?nn(b,{key:y}):b)}if(f>1)for(let h=0;h<d.length;h++)d[h].patchFlag=-2;return d}function rn(e){return Me(e)?{setup:e,name:e.name}:e}const zn=e=>!!e.type.__asyncLoader,Vr=e=>e.type.__isKeepAlive;function Vd(e,o){fa(e,"a",o)}function Kd(e,o){fa(e,"da",o)}function fa(e,o,l=Ye){const d=e.__wdc||(e.__wdc=()=>{let f=l;for(;f;){if(f.isDeactivated)return;f=f.parent}return e()});if(Kr(o,d,l),l){let f=l.parent;for(;f&&f.parent;)Vr(f.parent.vnode)&&Wd(d,o,l,f),f=f.parent}}function Wd(e,o,l,d){const f=Kr(o,e,d,!0);ha(()=>{Pi(d[o],f)},l)}function Kr(e,o,l=Ye,d=!1){if(l){const f=l[e]||(l[e]=[]),h=o.__weh||(o.__weh=(...b)=>{if(l.isUnmounted)return;Pn(),Dn(l);const y=kt(o,l,e,b);return yn(),Rn(),y});return d?f.unshift(h):f.push(h),h}}const Wt=e=>(o,l=Ye)=>(!rr||e==="sp")&&Kr(e,(...d)=>o(...d),l),zd=Wt("bm"),Xi=Wt("m"),$d=Wt("bu"),pa=Wt("u"),ma=Wt("bum"),ha=Wt("um"),Gd=Wt("sp"),Zd=Wt("rtg"),Jd=Wt("rtc");function Xd(e,o=Ye){Kr("ec",e,o)}function ln(e,o,l,d){const f=e.dirs,h=o&&o.dirs;for(let b=0;b<f.length;b++){const y=f[b];h&&(y.oldValue=h[b].value);let g=y.dir[d];g&&(Pn(),kt(g,l,8,[e.el,y,e,o]),Rn())}}const va="components",ga=Symbol();function Yd(e){return Ze(e)?Qd(va,e,!1)||e:e||ga}function Qd(e,o,l=!0,d=!1){const f=ft||Ye;if(f){const h=f.type;if(e===va){const y=Lu(h,!1);if(y&&(y===o||y===Rt(o)||y===Br(Rt(o))))return h}const b=ts(f[e]||h[e],o)||ts(f.appContext[e],o);return!b&&d?h:b}}function ts(e,o){return e&&(e[o]||e[Rt(o)]||e[Br(Rt(o))])}function ya(e,o,l,d){let f;const h=l&&l[d];if(Se(e)||Ze(e)){f=new Array(e.length);for(let b=0,y=e.length;b<y;b++)f[b]=o(e[b],b,void 0,h&&h[b])}else if(typeof e=="number"){f=new Array(e);for(let b=0;b<e;b++)f[b]=o(b+1,b,void 0,h&&h[b])}else if(Ke(e))if(e[Symbol.iterator])f=Array.from(e,(b,y)=>o(b,y,void 0,h&&h[y]));else{const b=Object.keys(e);f=new Array(b.length);for(let y=0,g=b.length;y<g;y++){const u=b[y];f[y]=o(e[u],u,y,h&&h[y])}}else f=[];return l&&(l[d]=f),f}function gn(e,o,l={},d,f){if(ft.isCE||ft.parent&&zn(ft.parent)&&ft.parent.isCE)return o!=="default"&&(l.name=o),Ve("slot",l,d&&d());let h=e[o];h&&h._c&&(h._d=!1),st();const b=h&&ba(h(l)),y=jn(rt,{key:l.key||b&&b.key||`_${o}`},b||(d?d():[]),b&&e._===1?64:-2);return!f&&y.scopeId&&(y.slotScopeIds=[y.scopeId+"-s"]),h&&h._c&&(h._d=!0),y}function ba(e){return e.some(o=>Or(o)?!(o.type===St||o.type===rt&&!ba(o.children)):!0)?e:null}const Si=e=>e?Oa(e)?no(e)||e.proxy:Si(e.parent):null,$n=at(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Si(e.parent),$root:e=>Si(e.root),$emit:e=>e.emit,$options:e=>Yi(e),$forceUpdate:e=>e.f||(e.f=()=>Gi(e.update)),$nextTick:e=>e.n||(e.n=na.bind(e.proxy)),$watch:e=>qd.bind(e)}),mi=(e,o)=>e!==ze&&!e.__isScriptSetup&&Ie(e,o),eu={get({_:e},o){const{ctx:l,setupState:d,data:f,props:h,accessCache:b,type:y,appContext:g}=e;let u;if(o[0]!=="$"){const m=b[o];if(m!==void 0)switch(m){case 1:return d[o];case 2:return f[o];case 4:return l[o];case 3:return h[o]}else{if(mi(d,o))return b[o]=1,d[o];if(f!==ze&&Ie(f,o))return b[o]=2,f[o];if((u=e.propsOptions[0])&&Ie(u,o))return b[o]=3,h[o];if(l!==ze&&Ie(l,o))return b[o]=4,l[o];xi&&(b[o]=0)}}const v=$n[o];let p,E;if(v)return o==="$attrs"&&yt(e,"get",o),v(e);if((p=y.__cssModules)&&(p=p[o]))return p;if(l!==ze&&Ie(l,o))return b[o]=4,l[o];if(E=g.config.globalProperties,Ie(E,o))return E[o]},set({_:e},o,l){const{data:d,setupState:f,ctx:h}=e;return mi(f,o)?(f[o]=l,!0):d!==ze&&Ie(d,o)?(d[o]=l,!0):Ie(e.props,o)||o[0]==="$"&&o.slice(1)in e?!1:(h[o]=l,!0)},has({_:{data:e,setupState:o,accessCache:l,ctx:d,appContext:f,propsOptions:h}},b){let y;return!!l[b]||e!==ze&&Ie(e,b)||mi(o,b)||(y=h[0])&&Ie(y,b)||Ie(d,b)||Ie($n,b)||Ie(f.config.globalProperties,b)},defineProperty(e,o,l){return l.get!=null?e._.accessCache[o]=0:Ie(l,"value")&&this.set(e,o,l.value,null),Reflect.defineProperty(e,o,l)}};let xi=!0;function tu(e){const o=Yi(e),l=e.proxy,d=e.ctx;xi=!1,o.beforeCreate&&ns(o.beforeCreate,e,"bc");const{data:f,computed:h,methods:b,watch:y,provide:g,inject:u,created:v,beforeMount:p,mounted:E,beforeUpdate:m,updated:w,activated:C,deactivated:L,beforeDestroy:O,beforeUnmount:N,destroyed:I,unmounted:M,render:H,renderTracked:k,renderTriggered:F,errorCaptured:q,serverPrefetch:X,expose:ee,inheritAttrs:le,components:$,directives:be,filters:ke}=o;if(u&&nu(u,d,null,e.appContext.config.unwrapInjectedRef),b)for(const Te in b){const Ee=b[Te];Me(Ee)&&(d[Te]=Ee.bind(l))}if(f){const Te=f.call(l,l);Ke(Te)&&(e.data=Ki(Te))}if(xi=!0,h)for(const Te in h){const Ee=h[Te],ct=Me(Ee)?Ee.bind(l,l):Me(Ee.get)?Ee.get.bind(l,l):Ot,Ue=!Me(Ee)&&Me(Ee.set)?Ee.set.bind(l):Ot,P=Ia({get:ct,set:Ue});Object.defineProperty(d,Te,{enumerable:!0,configurable:!0,get:()=>P.value,set:Je=>P.value=Je})}if(y)for(const Te in y)wa(y[Te],d,l,Te);if(g){const Te=Me(g)?g.call(l):g;Reflect.ownKeys(Te).forEach(Ee=>{Bd(Ee,Te[Ee])})}v&&ns(v,e,"c");function _e(Te,Ee){Se(Ee)?Ee.forEach(ct=>Te(ct.bind(l))):Ee&&Te(Ee.bind(l))}if(_e(zd,p),_e(Xi,E),_e($d,m),_e(pa,w),_e(Vd,C),_e(Kd,L),_e(Xd,q),_e(Jd,k),_e(Zd,F),_e(ma,N),_e(ha,M),_e(Gd,X),Se(ee))if(ee.length){const Te=e.exposed||(e.exposed={});ee.forEach(Ee=>{Object.defineProperty(Te,Ee,{get:()=>l[Ee],set:ct=>l[Ee]=ct})})}else e.exposed||(e.exposed={});H&&e.render===Ot&&(e.render=H),le!=null&&(e.inheritAttrs=le),$&&(e.components=$),be&&(e.directives=be)}function nu(e,o,l=Ot,d=!1){Se(e)&&(e=Ti(e));for(const f in e){const h=e[f];let b;Ke(h)?"default"in h?b=kr(h.from||f,h.default,!0):b=kr(h.from||f):b=kr(h),ut(b)&&d?Object.defineProperty(o,f,{enumerable:!0,configurable:!0,get:()=>b.value,set:y=>b.value=y}):o[f]=b}}function ns(e,o,l){kt(Se(e)?e.map(d=>d.bind(o.proxy)):e.bind(o.proxy),o,l)}function wa(e,o,l,d){const f=d.includes(".")?la(l,d):()=>l[d];if(Ze(e)){const h=o[e];Me(h)&&fi(f,h)}else if(Me(e))fi(f,e.bind(l));else if(Ke(e))if(Se(e))e.forEach(h=>wa(h,o,l,d));else{const h=Me(e.handler)?e.handler.bind(l):o[e.handler];Me(h)&&fi(f,h,e)}}function Yi(e){const o=e.type,{mixins:l,extends:d}=o,{mixins:f,optionsCache:h,config:{optionMergeStrategies:b}}=e.appContext,y=h.get(o);let g;return y?g=y:!f.length&&!l&&!d?g=o:(g={},f.length&&f.forEach(u=>Nr(g,u,b,!0)),Nr(g,o,b)),Ke(o)&&h.set(o,g),g}function Nr(e,o,l,d=!1){const{mixins:f,extends:h}=o;h&&Nr(e,h,l,!0),f&&f.forEach(b=>Nr(e,b,l,!0));for(const b in o)if(!(d&&b==="expose")){const y=ru[b]||l&&l[b];e[b]=y?y(e[b],o[b]):o[b]}return e}const ru={data:rs,props:un,emits:un,methods:un,computed:un,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:un,directives:un,watch:ou,provide:rs,inject:iu};function rs(e,o){return o?e?function(){return at(Me(e)?e.call(this,this):e,Me(o)?o.call(this,this):o)}:o:e}function iu(e,o){return un(Ti(e),Ti(o))}function Ti(e){if(Se(e)){const o={};for(let l=0;l<e.length;l++)o[e[l]]=e[l];return o}return e}function ht(e,o){return e?[...new Set([].concat(e,o))]:o}function un(e,o){return e?at(at(Object.create(null),e),o):o}function ou(e,o){if(!e)return o;if(!o)return e;const l=at(Object.create(null),e);for(const d in o)l[d]=ht(e[d],o[d]);return l}function su(e,o,l,d=!1){const f={},h={};Lr(h,zr,1),e.propsDefaults=Object.create(null),Ea(e,o,f,h);for(const b in e.propsOptions[0])b in f||(f[b]=void 0);l?e.props=d?f:Ed(f):e.type.props?e.props=f:e.props=h,e.attrs=h}function au(e,o,l,d){const{props:f,attrs:h,vnode:{patchFlag:b}}=e,y=Pe(f),[g]=e.propsOptions;let u=!1;if((d||b>0)&&!(b&16)){if(b&8){const v=e.vnode.dynamicProps;for(let p=0;p<v.length;p++){let E=v[p];if(Fr(e.emitsOptions,E))continue;const m=o[E];if(g)if(Ie(h,E))m!==h[E]&&(h[E]=m,u=!0);else{const w=Rt(E);f[w]=Li(g,y,w,m,e,!1)}else m!==h[E]&&(h[E]=m,u=!0)}}}else{Ea(e,o,f,h)&&(u=!0);let v;for(const p in y)(!o||!Ie(o,p)&&((v=In(p))===p||!Ie(o,v)))&&(g?l&&(l[p]!==void 0||l[v]!==void 0)&&(f[p]=Li(g,y,p,void 0,e,!0)):delete f[p]);if(h!==y)for(const p in h)(!o||!Ie(o,p)&&!0)&&(delete h[p],u=!0)}u&&Vt(e,"set","$attrs")}function Ea(e,o,l,d){const[f,h]=e.propsOptions;let b=!1,y;if(o)for(let g in o){if(Cr(g))continue;const u=o[g];let v;f&&Ie(f,v=Rt(g))?!h||!h.includes(v)?l[v]=u:(y||(y={}))[v]=u:Fr(e.emitsOptions,g)||(!(g in d)||u!==d[g])&&(d[g]=u,b=!0)}if(h){const g=Pe(l),u=y||ze;for(let v=0;v<h.length;v++){const p=h[v];l[p]=Li(f,g,p,u[p],e,!Ie(u,p))}}return b}function Li(e,o,l,d,f,h){const b=e[l];if(b!=null){const y=Ie(b,"default");if(y&&d===void 0){const g=b.default;if(b.type!==Function&&Me(g)){const{propsDefaults:u}=f;l in u?d=u[l]:(Dn(f),d=u[l]=g.call(null,o),yn())}else d=g}b[0]&&(h&&!y?d=!1:b[1]&&(d===""||d===In(l))&&(d=!0))}return d}function _a(e,o,l=!1){const d=o.propsCache,f=d.get(e);if(f)return f;const h=e.props,b={},y=[];let g=!1;if(!Me(e)){const v=p=>{g=!0;const[E,m]=_a(p,o,!0);at(b,E),m&&y.push(...m)};!l&&o.mixins.length&&o.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!h&&!g)return Ke(e)&&d.set(e,xn),xn;if(Se(h))for(let v=0;v<h.length;v++){const p=Rt(h[v]);is(p)&&(b[p]=ze)}else if(h)for(const v in h){const p=Rt(v);if(is(p)){const E=h[v],m=b[p]=Se(E)||Me(E)?{type:E}:Object.assign({},E);if(m){const w=as(Boolean,m.type),C=as(String,m.type);m[0]=w>-1,m[1]=C<0||w<C,(w>-1||Ie(m,"default"))&&y.push(p)}}}const u=[b,y];return Ke(e)&&d.set(e,u),u}function is(e){return e[0]!=="$"}function os(e){const o=e&&e.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:e===null?"null":""}function ss(e,o){return os(e)===os(o)}function as(e,o){return Se(o)?o.findIndex(l=>ss(l,e)):Me(o)&&ss(o,e)?0:-1}const Ca=e=>e[0]==="_"||e==="$stable",Qi=e=>Se(e)?e.map(It):[It(e)],lu=(e,o,l)=>{if(o._n)return o;const d=Yt((...f)=>Qi(o(...f)),l);return d._c=!1,d},ka=(e,o,l)=>{const d=e._ctx;for(const f in e){if(Ca(f))continue;const h=e[f];if(Me(h))o[f]=lu(f,h,d);else if(h!=null){const b=Qi(h);o[f]=()=>b}}},Sa=(e,o)=>{const l=Qi(o);e.slots.default=()=>l},cu=(e,o)=>{if(e.vnode.shapeFlag&32){const l=o._;l?(e.slots=Pe(o),Lr(o,"_",l)):ka(o,e.slots={})}else e.slots={},o&&Sa(e,o);Lr(e.slots,zr,1)},du=(e,o,l)=>{const{vnode:d,slots:f}=e;let h=!0,b=ze;if(d.shapeFlag&32){const y=o._;y?l&&y===1?h=!1:(at(f,o),!l&&y===1&&delete f._):(h=!o.$stable,ka(o,f)),b=o}else o&&(Sa(e,o),b={default:1});if(h)for(const y in f)!Ca(y)&&!(y in b)&&delete f[y]};function xa(){return{app:null,config:{isNativeTag:Rc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uu=0;function fu(e,o){return function(d,f=null){Me(d)||(d=Object.assign({},d)),f!=null&&!Ke(f)&&(f=null);const h=xa(),b=new Set;let y=!1;const g=h.app={_uid:uu++,_component:d,_props:f,_container:null,_context:h,_instance:null,version:Ou,get config(){return h.config},set config(u){},use(u,...v){return b.has(u)||(u&&Me(u.install)?(b.add(u),u.install(g,...v)):Me(u)&&(b.add(u),u(g,...v))),g},mixin(u){return h.mixins.includes(u)||h.mixins.push(u),g},component(u,v){return v?(h.components[u]=v,g):h.components[u]},directive(u,v){return v?(h.directives[u]=v,g):h.directives[u]},mount(u,v,p){if(!y){const E=Ve(d,f);return E.appContext=h,v&&o?o(E,u):e(E,u,p),y=!0,g._container=u,u.__vue_app__=g,no(E.component)||E.component.proxy}},unmount(){y&&(e(null,g._container),delete g._container.__vue_app__)},provide(u,v){return h.provides[u]=v,g}};return g}}function Ai(e,o,l,d,f=!1){if(Se(e)){e.forEach((E,m)=>Ai(E,o&&(Se(o)?o[m]:o),l,d,f));return}if(zn(d)&&!f)return;const h=d.shapeFlag&4?no(d.component)||d.component.proxy:d.el,b=f?null:h,{i:y,r:g}=e,u=o&&o.r,v=y.refs===ze?y.refs={}:y.refs,p=y.setupState;if(u!=null&&u!==g&&(Ze(u)?(v[u]=null,Ie(p,u)&&(p[u]=null)):ut(u)&&(u.value=null)),Me(g))en(g,y,12,[b,v]);else{const E=Ze(g),m=ut(g);if(E||m){const w=()=>{if(e.f){const C=E?Ie(p,g)?p[g]:v[g]:g.value;f?Se(C)&&Pi(C,h):Se(C)?C.includes(h)||C.push(h):E?(v[g]=[h],Ie(p,g)&&(p[g]=v[g])):(g.value=[h],e.k&&(v[e.k]=g.value))}else E?(v[g]=b,Ie(p,g)&&(p[g]=b)):m&&(g.value=b,e.k&&(v[e.k]=b))};b?(w.id=-1,gt(w,l)):w()}}}const gt=jd;function pu(e){return mu(e)}function mu(e,o){const l=Wc();l.__VUE__=!0;const{insert:d,remove:f,patchProp:h,createElement:b,createText:y,createComment:g,setText:u,setElementText:v,parentNode:p,nextSibling:E,setScopeId:m=Ot,insertStaticContent:w}=e,C=(A,D,R,K=null,z=null,ie=null,se=!1,V=null,oe=!!D.dynamicChildren)=>{if(A===D)return;A&&!pn(A,D)&&(K=Q(A),Je(A,z,ie,!0),A=null),D.patchFlag===-2&&(oe=!1,D.dynamicChildren=null);const{type:G,ref:ve,shapeFlag:fe}=D;switch(G){case Wr:L(A,D,R,K);break;case St:O(A,D,R,K);break;case hi:A==null&&N(D,R,K,se);break;case rt:$(A,D,R,K,z,ie,se,V,oe);break;default:fe&1?H(A,D,R,K,z,ie,se,V,oe):fe&6?be(A,D,R,K,z,ie,se,V,oe):(fe&64||fe&128)&&G.process(A,D,R,K,z,ie,se,V,oe,Re)}ve!=null&&z&&Ai(ve,A&&A.ref,ie,D||A,!D)},L=(A,D,R,K)=>{if(A==null)d(D.el=y(D.children),R,K);else{const z=D.el=A.el;D.children!==A.children&&u(z,D.children)}},O=(A,D,R,K)=>{A==null?d(D.el=g(D.children||""),R,K):D.el=A.el},N=(A,D,R,K)=>{[A.el,A.anchor]=w(A.children,D,R,K,A.el,A.anchor)},I=({el:A,anchor:D},R,K)=>{let z;for(;A&&A!==D;)z=E(A),d(A,R,K),A=z;d(D,R,K)},M=({el:A,anchor:D})=>{let R;for(;A&&A!==D;)R=E(A),f(A),A=R;f(D)},H=(A,D,R,K,z,ie,se,V,oe)=>{se=se||D.type==="svg",A==null?k(D,R,K,z,ie,se,V,oe):X(A,D,z,ie,se,V,oe)},k=(A,D,R,K,z,ie,se,V)=>{let oe,G;const{type:ve,props:fe,shapeFlag:he,transition:we,dirs:ge}=A;if(oe=A.el=b(A.type,ie,fe&&fe.is,fe),he&8?v(oe,A.children):he&16&&q(A.children,oe,null,K,z,ie&&ve!=="foreignObject",se,V),ge&&ln(A,null,K,"created"),F(oe,A,A.scopeId,se,K),fe){for(const Le in fe)Le!=="value"&&!Cr(Le)&&h(oe,Le,null,fe[Le],ie,A.children,K,z,te);"value"in fe&&h(oe,"value",null,fe.value),(G=fe.onVnodeBeforeMount)&&Dt(G,K,A)}ge&&ln(A,null,K,"beforeMount");const De=(!z||z&&!z.pendingBranch)&&we&&!we.persisted;De&&we.beforeEnter(oe),d(oe,D,R),((G=fe&&fe.onVnodeMounted)||De||ge)&&gt(()=>{G&&Dt(G,K,A),De&&we.enter(oe),ge&&ln(A,null,K,"mounted")},z)},F=(A,D,R,K,z)=>{if(R&&m(A,R),K)for(let ie=0;ie<K.length;ie++)m(A,K[ie]);if(z){let ie=z.subTree;if(D===ie){const se=z.vnode;F(A,se,se.scopeId,se.slotScopeIds,z.parent)}}},q=(A,D,R,K,z,ie,se,V,oe=0)=>{for(let G=oe;G<A.length;G++){const ve=A[G]=V?Xt(A[G]):It(A[G]);C(null,ve,D,R,K,z,ie,se,V)}},X=(A,D,R,K,z,ie,se)=>{const V=D.el=A.el;let{patchFlag:oe,dynamicChildren:G,dirs:ve}=D;oe|=A.patchFlag&16;const fe=A.props||ze,he=D.props||ze;let we;R&&cn(R,!1),(we=he.onVnodeBeforeUpdate)&&Dt(we,R,D,A),ve&&ln(D,A,R,"beforeUpdate"),R&&cn(R,!0);const ge=z&&D.type!=="foreignObject";if(G?ee(A.dynamicChildren,G,V,R,K,ge,ie):se||Ee(A,D,V,null,R,K,ge,ie,!1),oe>0){if(oe&16)le(V,D,fe,he,R,K,z);else if(oe&2&&fe.class!==he.class&&h(V,"class",null,he.class,z),oe&4&&h(V,"style",fe.style,he.style,z),oe&8){const De=D.dynamicProps;for(let Le=0;Le<De.length;Le++){const $e=De[Le],it=fe[$e],bt=he[$e];(bt!==it||$e==="value")&&h(V,$e,it,bt,z,A.children,R,K,te)}}oe&1&&A.children!==D.children&&v(V,D.children)}else!se&&G==null&&le(V,D,fe,he,R,K,z);((we=he.onVnodeUpdated)||ve)&&gt(()=>{we&&Dt(we,R,D,A),ve&&ln(D,A,R,"updated")},K)},ee=(A,D,R,K,z,ie,se)=>{for(let V=0;V<D.length;V++){const oe=A[V],G=D[V],ve=oe.el&&(oe.type===rt||!pn(oe,G)||oe.shapeFlag&70)?p(oe.el):R;C(oe,G,ve,null,K,z,ie,se,!0)}},le=(A,D,R,K,z,ie,se)=>{if(R!==K){if(R!==ze)for(const V in R)!Cr(V)&&!(V in K)&&h(A,V,R[V],null,se,D.children,z,ie,te);for(const V in K){if(Cr(V))continue;const oe=K[V],G=R[V];oe!==G&&V!=="value"&&h(A,V,G,oe,se,D.children,z,ie,te)}"value"in K&&h(A,"value",R.value,K.value)}},$=(A,D,R,K,z,ie,se,V,oe)=>{const G=D.el=A?A.el:y(""),ve=D.anchor=A?A.anchor:y("");let{patchFlag:fe,dynamicChildren:he,slotScopeIds:we}=D;we&&(V=V?V.concat(we):we),A==null?(d(G,R,K),d(ve,R,K),q(D.children,R,ve,z,ie,se,V,oe)):fe>0&&fe&64&&he&&A.dynamicChildren?(ee(A.dynamicChildren,he,R,z,ie,se,V),(D.key!=null||z&&D===z.subTree)&&eo(A,D,!0)):Ee(A,D,R,ve,z,ie,se,V,oe)},be=(A,D,R,K,z,ie,se,V,oe)=>{D.slotScopeIds=V,A==null?D.shapeFlag&512?z.ctx.activate(D,R,K,se,oe):ke(D,R,K,z,ie,se,oe):He(A,D,oe)},ke=(A,D,R,K,z,ie,se)=>{const V=A.component=Cu(A,K,z);if(Vr(A)&&(V.ctx.renderer=Re),ku(V),V.asyncDep){if(z&&z.registerDep(V,_e),!A.el){const oe=V.subTree=Ve(St);O(null,oe,D,R)}return}_e(V,A,D,R,z,ie,se)},He=(A,D,R)=>{const K=D.component=A.component;if(Id(A,D,R))if(K.asyncDep&&!K.asyncResolved){Te(K,D,R);return}else K.next=D,Ad(K.update),K.update();else D.el=A.el,K.vnode=D},_e=(A,D,R,K,z,ie,se)=>{const V=()=>{if(A.isMounted){let{next:ve,bu:fe,u:he,parent:we,vnode:ge}=A,De=ve,Le;cn(A,!1),ve?(ve.el=ge.el,Te(A,ve,se)):ve=ge,fe&&di(fe),(Le=ve.props&&ve.props.onVnodeBeforeUpdate)&&Dt(Le,we,ve,ge),cn(A,!0);const $e=ui(A),it=A.subTree;A.subTree=$e,C(it,$e,p(it.el),Q(it),A,z,ie),ve.el=$e.el,De===null&&Pd(A,$e.el),he&&gt(he,z),(Le=ve.props&&ve.props.onVnodeUpdated)&&gt(()=>Dt(Le,we,ve,ge),z)}else{let ve;const{el:fe,props:he}=D,{bm:we,m:ge,parent:De}=A,Le=zn(D);if(cn(A,!1),we&&di(we),!Le&&(ve=he&&he.onVnodeBeforeMount)&&Dt(ve,De,D),cn(A,!0),fe&&qe){const $e=()=>{A.subTree=ui(A),qe(fe,A.subTree,A,z,null)};Le?D.type.__asyncLoader().then(()=>!A.isUnmounted&&$e()):$e()}else{const $e=A.subTree=ui(A);C(null,$e,R,K,A,z,ie),D.el=$e.el}if(ge&&gt(ge,z),!Le&&(ve=he&&he.onVnodeMounted)){const $e=D;gt(()=>Dt(ve,De,$e),z)}(D.shapeFlag&256||De&&zn(De.vnode)&&De.vnode.shapeFlag&256)&&A.a&&gt(A.a,z),A.isMounted=!0,D=R=K=null}},oe=A.effect=new Ui(V,()=>Gi(G),A.scope),G=A.update=()=>oe.run();G.id=A.uid,cn(A,!0),G()},Te=(A,D,R)=>{D.component=A;const K=A.vnode.props;A.vnode=D,A.next=null,au(A,D.props,K,R),du(A,D.children,R),Pn(),Yo(),Rn()},Ee=(A,D,R,K,z,ie,se,V,oe=!1)=>{const G=A&&A.children,ve=A?A.shapeFlag:0,fe=D.children,{patchFlag:he,shapeFlag:we}=D;if(he>0){if(he&128){Ue(G,fe,R,K,z,ie,se,V,oe);return}else if(he&256){ct(G,fe,R,K,z,ie,se,V,oe);return}}we&8?(ve&16&&te(G,z,ie),fe!==G&&v(R,fe)):ve&16?we&16?Ue(G,fe,R,K,z,ie,se,V,oe):te(G,z,ie,!0):(ve&8&&v(R,""),we&16&&q(fe,R,K,z,ie,se,V,oe))},ct=(A,D,R,K,z,ie,se,V,oe)=>{A=A||xn,D=D||xn;const G=A.length,ve=D.length,fe=Math.min(G,ve);let he;for(he=0;he<fe;he++){const we=D[he]=oe?Xt(D[he]):It(D[he]);C(A[he],we,R,null,z,ie,se,V,oe)}G>ve?te(A,z,ie,!0,!1,fe):q(D,R,K,z,ie,se,V,oe,fe)},Ue=(A,D,R,K,z,ie,se,V,oe)=>{let G=0;const ve=D.length;let fe=A.length-1,he=ve-1;for(;G<=fe&&G<=he;){const we=A[G],ge=D[G]=oe?Xt(D[G]):It(D[G]);if(pn(we,ge))C(we,ge,R,null,z,ie,se,V,oe);else break;G++}for(;G<=fe&&G<=he;){const we=A[fe],ge=D[he]=oe?Xt(D[he]):It(D[he]);if(pn(we,ge))C(we,ge,R,null,z,ie,se,V,oe);else break;fe--,he--}if(G>fe){if(G<=he){const we=he+1,ge=we<ve?D[we].el:K;for(;G<=he;)C(null,D[G]=oe?Xt(D[G]):It(D[G]),R,ge,z,ie,se,V,oe),G++}}else if(G>he)for(;G<=fe;)Je(A[G],z,ie,!0),G++;else{const we=G,ge=G,De=new Map;for(G=ge;G<=he;G++){const Qe=D[G]=oe?Xt(D[G]):It(D[G]);Qe.key!=null&&De.set(Qe.key,G)}let Le,$e=0;const it=he-ge+1;let bt=!1,pt=0;const Tt=new Array(it);for(G=0;G<it;G++)Tt[G]=0;for(G=we;G<=fe;G++){const Qe=A[G];if($e>=it){Je(Qe,z,ie,!0);continue}let wt;if(Qe.key!=null)wt=De.get(Qe.key);else for(Le=ge;Le<=he;Le++)if(Tt[Le-ge]===0&&pn(Qe,D[Le])){wt=Le;break}wt===void 0?Je(Qe,z,ie,!0):(Tt[wt-ge]=G+1,wt>=pt?pt=wt:bt=!0,C(Qe,D[wt],R,null,z,ie,se,V,oe),$e++)}const bn=bt?hu(Tt):xn;for(Le=bn.length-1,G=it-1;G>=0;G--){const Qe=ge+G,wt=D[Qe],or=Qe+1<ve?D[Qe+1].el:K;Tt[G]===0?C(null,wt,R,or,z,ie,se,V,oe):bt&&(Le<0||G!==bn[Le]?P(wt,R,or,2):Le--)}}},P=(A,D,R,K,z=null)=>{const{el:ie,type:se,transition:V,children:oe,shapeFlag:G}=A;if(G&6){P(A.component.subTree,D,R,K);return}if(G&128){A.suspense.move(D,R,K);return}if(G&64){se.move(A,D,R,Re);return}if(se===rt){d(ie,D,R);for(let fe=0;fe<oe.length;fe++)P(oe[fe],D,R,K);d(A.anchor,D,R);return}if(se===hi){I(A,D,R);return}if(K!==2&&G&1&&V)if(K===0)V.beforeEnter(ie),d(ie,D,R),gt(()=>V.enter(ie),z);else{const{leave:fe,delayLeave:he,afterLeave:we}=V,ge=()=>d(ie,D,R),De=()=>{fe(ie,()=>{ge(),we&&we()})};he?he(ie,ge,De):De()}else d(ie,D,R)},Je=(A,D,R,K=!1,z=!1)=>{const{type:ie,props:se,ref:V,children:oe,dynamicChildren:G,shapeFlag:ve,patchFlag:fe,dirs:he}=A;if(V!=null&&Ai(V,null,R,A,!0),ve&256){D.ctx.deactivate(A);return}const we=ve&1&&he,ge=!zn(A);let De;if(ge&&(De=se&&se.onVnodeBeforeUnmount)&&Dt(De,D,A),ve&6)je(A.component,R,K);else{if(ve&128){A.suspense.unmount(R,K);return}we&&ln(A,null,D,"beforeUnmount"),ve&64?A.type.remove(A,D,R,z,Re,K):G&&(ie!==rt||fe>0&&fe&64)?te(G,D,R,!1,!0):(ie===rt&&fe&384||!z&&ve&16)&&te(oe,D,R),K&&on(A)}(ge&&(De=se&&se.onVnodeUnmounted)||we)&&gt(()=>{De&&Dt(De,D,A),we&&ln(A,null,D,"unmounted")},R)},on=A=>{const{type:D,el:R,anchor:K,transition:z}=A;if(D===rt){de(R,K);return}if(D===hi){M(A);return}const ie=()=>{f(R),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(A.shapeFlag&1&&z&&!z.persisted){const{leave:se,delayLeave:V}=z,oe=()=>se(R,ie);V?V(A.el,ie,oe):oe()}else ie()},de=(A,D)=>{let R;for(;A!==D;)R=E(A),f(A),A=R;f(D)},je=(A,D,R)=>{const{bum:K,scope:z,update:ie,subTree:se,um:V}=A;K&&di(K),z.stop(),ie&&(ie.active=!1,Je(se,A,D,R)),V&&gt(V,D),gt(()=>{A.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},te=(A,D,R,K=!1,z=!1,ie=0)=>{for(let se=ie;se<A.length;se++)Je(A[se],D,R,K,z)},Q=A=>A.shapeFlag&6?Q(A.component.subTree):A.shapeFlag&128?A.suspense.next():E(A.anchor||A.el),ue=(A,D,R)=>{A==null?D._vnode&&Je(D._vnode,null,null,!0):C(D._vnode||null,A,D,null,null,null,R),Yo(),ia(),D._vnode=A},Re={p:C,um:Je,m:P,r:on,mt:ke,mc:q,pc:Ee,pbc:ee,n:Q,o:e};let Oe,qe;return o&&([Oe,qe]=o(Re)),{render:ue,hydrate:Oe,createApp:fu(ue,Oe)}}function cn({effect:e,update:o},l){e.allowRecurse=o.allowRecurse=l}function eo(e,o,l=!1){const d=e.children,f=o.children;if(Se(d)&&Se(f))for(let h=0;h<d.length;h++){const b=d[h];let y=f[h];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=f[h]=Xt(f[h]),y.el=b.el),l||eo(b,y)),y.type===Wr&&(y.el=b.el)}}function hu(e){const o=e.slice(),l=[0];let d,f,h,b,y;const g=e.length;for(d=0;d<g;d++){const u=e[d];if(u!==0){if(f=l[l.length-1],e[f]<u){o[d]=f,l.push(d);continue}for(h=0,b=l.length-1;h<b;)y=h+b>>1,e[l[y]]<u?h=y+1:b=y;u<e[l[h]]&&(h>0&&(o[d]=l[h-1]),l[h]=d)}}for(h=l.length,b=l[h-1];h-- >0;)l[h]=b,b=o[b];return l}const vu=e=>e.__isTeleport,Gn=e=>e&&(e.disabled||e.disabled===""),ls=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Mi=(e,o)=>{const l=e&&e.to;return Ze(l)?o?o(l):null:l},gu={__isTeleport:!0,process(e,o,l,d,f,h,b,y,g,u){const{mc:v,pc:p,pbc:E,o:{insert:m,querySelector:w,createText:C,createComment:L}}=u,O=Gn(o.props);let{shapeFlag:N,children:I,dynamicChildren:M}=o;if(e==null){const H=o.el=C(""),k=o.anchor=C("");m(H,l,d),m(k,l,d);const F=o.target=Mi(o.props,w),q=o.targetAnchor=C("");F&&(m(q,F),b=b||ls(F));const X=(ee,le)=>{N&16&&v(I,ee,le,f,h,b,y,g)};O?X(l,k):F&&X(F,q)}else{o.el=e.el;const H=o.anchor=e.anchor,k=o.target=e.target,F=o.targetAnchor=e.targetAnchor,q=Gn(e.props),X=q?l:k,ee=q?H:F;if(b=b||ls(k),M?(E(e.dynamicChildren,M,X,f,h,b,y),eo(e,o,!0)):g||p(e,o,X,ee,f,h,b,y,!1),O)q||Er(o,l,H,u,1);else if((o.props&&o.props.to)!==(e.props&&e.props.to)){const le=o.target=Mi(o.props,w);le&&Er(o,le,null,u,0)}else q&&Er(o,k,F,u,1)}La(o)},remove(e,o,l,d,{um:f,o:{remove:h}},b){const{shapeFlag:y,children:g,anchor:u,targetAnchor:v,target:p,props:E}=e;if(p&&h(v),(b||!Gn(E))&&(h(u),y&16))for(let m=0;m<g.length;m++){const w=g[m];f(w,o,l,!0,!!w.dynamicChildren)}},move:Er,hydrate:yu};function Er(e,o,l,{o:{insert:d},m:f},h=2){h===0&&d(e.targetAnchor,o,l);const{el:b,anchor:y,shapeFlag:g,children:u,props:v}=e,p=h===2;if(p&&d(b,o,l),(!p||Gn(v))&&g&16)for(let E=0;E<u.length;E++)f(u[E],o,l,2);p&&d(y,o,l)}function yu(e,o,l,d,f,h,{o:{nextSibling:b,parentNode:y,querySelector:g}},u){const v=o.target=Mi(o.props,g);if(v){const p=v._lpa||v.firstChild;if(o.shapeFlag&16)if(Gn(o.props))o.anchor=u(b(e),o,y(e),l,d,f,h),o.targetAnchor=p;else{o.anchor=b(e);let E=p;for(;E;)if(E=b(E),E&&E.nodeType===8&&E.data==="teleport anchor"){o.targetAnchor=E,v._lpa=o.targetAnchor&&b(o.targetAnchor);break}u(p,o,v,l,d,f,h)}La(o)}return o.anchor&&b(o.anchor)}const Ta=gu;function La(e){const o=e.ctx;if(o&&o.ut){let l=e.children[0].el;for(;l!==e.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",o.uid),l=l.nextSibling;o.ut()}}const rt=Symbol(void 0),Wr=Symbol(void 0),St=Symbol(void 0),hi=Symbol(void 0),Zn=[];let Nt=null;function st(e=!1){Zn.push(Nt=e?null:[])}function bu(){Zn.pop(),Nt=Zn[Zn.length-1]||null}let nr=1;function cs(e){nr+=e}function Aa(e){return e.dynamicChildren=nr>0?Nt||xn:null,bu(),nr>0&&Nt&&Nt.push(e),e}function xt(e,o,l,d,f,h){return Aa(ot(e,o,l,d,f,h,!0))}function jn(e,o,l,d,f){return Aa(Ve(e,o,l,d,f,!0))}function Or(e){return e?e.__v_isVNode===!0:!1}function pn(e,o){return e.type===o.type&&e.key===o.key}const zr="__vInternal",Ma=({key:e})=>e!=null?e:null,Sr=({ref:e,ref_key:o,ref_for:l})=>e!=null?Ze(e)||ut(e)||Me(e)?{i:ft,r:e,k:o,f:!!l}:e:null;function ot(e,o=null,l=null,d=0,f=null,h=e===rt?0:1,b=!1,y=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:o,key:o&&Ma(o),ref:o&&Sr(o),scopeId:aa,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:d,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:ft};return y?(to(g,l),h&128&&e.normalize(g)):l&&(g.shapeFlag|=Ze(l)?8:16),nr>0&&!b&&Nt&&(g.patchFlag>0||h&6)&&g.patchFlag!==32&&Nt.push(g),g}const Ve=wu;function wu(e,o=null,l=null,d=0,f=null,h=!1){if((!e||e===ga)&&(e=St),Or(e)){const y=nn(e,o,!0);return l&&to(y,l),nr>0&&!h&&Nt&&(y.shapeFlag&6?Nt[Nt.indexOf(e)]=y:Nt.push(y)),y.patchFlag|=-2,y}if(Au(e)&&(e=e.__vccOpts),o){o=hn(o);let{class:y,style:g}=o;y&&!Ze(y)&&(o.class=Nn(y)),Ke(g)&&(Zs(g)&&!Se(g)&&(g=at({},g)),o.style=Dr(g))}const b=Ze(e)?1:Rd(e)?128:vu(e)?64:Ke(e)?4:Me(e)?2:0;return ot(e,o,l,d,f,b,h,!0)}function hn(e){return e?Zs(e)||zr in e?at({},e):e:null}function nn(e,o,l=!1){const{props:d,ref:f,patchFlag:h,children:b}=e,y=o?Mn(d||{},o):d;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&Ma(y),ref:o&&o.ref?l&&f?Se(f)?f.concat(Sr(o)):[f,Sr(o)]:Sr(o):f,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:b,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:o&&e.type!==rt?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&nn(e.ssContent),ssFallback:e.ssFallback&&nn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ha(e=" ",o=0){return Ve(Wr,null,e,o)}function ir(e="",o=!1){return o?(st(),jn(St,null,e)):Ve(St,null,e)}function It(e){return e==null||typeof e=="boolean"?Ve(St):Se(e)?Ve(rt,null,e.slice()):typeof e=="object"?Xt(e):Ve(Wr,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:nn(e)}function to(e,o){let l=0;const{shapeFlag:d}=e;if(o==null)o=null;else if(Se(o))l=16;else if(typeof o=="object")if(d&65){const f=o.default;f&&(f._c&&(f._d=!1),to(e,f()),f._c&&(f._d=!0));return}else{l=32;const f=o._;!f&&!(zr in o)?o._ctx=ft:f===3&&ft&&(ft.slots._===1?o._=1:(o._=2,e.patchFlag|=1024))}else Me(o)?(o={default:o,_ctx:ft},l=32):(o=String(o),d&64?(l=16,o=[Ha(o)]):l=8);e.children=o,e.shapeFlag|=l}function Mn(...e){const o={};for(let l=0;l<e.length;l++){const d=e[l];for(const f in d)if(f==="class")o.class!==d.class&&(o.class=Nn([o.class,d.class]));else if(f==="style")o.style=Dr([o.style,d.style]);else if(Pr(f)){const h=o[f],b=d[f];b&&h!==b&&!(Se(h)&&h.includes(b))&&(o[f]=h?[].concat(h,b):b)}else f!==""&&(o[f]=d[f])}return o}function Dt(e,o,l,d=null){kt(e,o,7,[l,d])}const Eu=xa();let _u=0;function Cu(e,o,l){const d=e.type,f=(o?o.appContext:e.appContext)||Eu,h={uid:_u++,vnode:e,type:d,parent:o,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new zc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_a(d,f),emitsOptions:sa(d,f),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:d.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=o?o.root:h,h.emit=Nd.bind(null,h),e.ce&&e.ce(h),h}let Ye=null;const Na=()=>Ye||ft,Dn=e=>{Ye=e,e.scope.on()},yn=()=>{Ye&&Ye.scope.off(),Ye=null};function Oa(e){return e.vnode.shapeFlag&4}let rr=!1;function ku(e,o=!1){rr=o;const{props:l,children:d}=e.vnode,f=Oa(e);su(e,l,f,o),cu(e,d);const h=f?Su(e,o):void 0;return rr=!1,h}function Su(e,o){const l=e.type;e.accessCache=Object.create(null),e.proxy=Js(new Proxy(e.ctx,eu));const{setup:d}=l;if(d){const f=e.setupContext=d.length>1?Tu(e):null;Dn(e),Pn();const h=en(d,e,0,[e.props,f]);if(Rn(),yn(),Ps(h)){if(h.then(yn,yn),o)return h.then(b=>{ds(e,b,o)}).catch(b=>{qr(b,e,0)});e.asyncDep=h}else ds(e,h,o)}else Da(e,o)}function ds(e,o,l){Me(o)?e.type.__ssrInlineRender?e.ssrRender=o:e.render=o:Ke(o)&&(e.setupState=Qs(o)),Da(e,l)}let us;function Da(e,o,l){const d=e.type;if(!e.render){if(!o&&us&&!d.render){const f=d.template||Yi(e).template;if(f){const{isCustomElement:h,compilerOptions:b}=e.appContext.config,{delimiters:y,compilerOptions:g}=d,u=at(at({isCustomElement:h,delimiters:y},b),g);d.render=us(f,u)}}e.render=d.render||Ot}Dn(e),Pn(),tu(e),Rn(),yn()}function xu(e){return new Proxy(e.attrs,{get(o,l){return yt(e,"get","$attrs"),o[l]}})}function Tu(e){const o=d=>{e.exposed=d||{}};let l;return{get attrs(){return l||(l=xu(e))},slots:e.slots,emit:e.emit,expose:o}}function no(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Qs(Js(e.exposed)),{get(o,l){if(l in o)return o[l];if(l in $n)return $n[l](e)},has(o,l){return l in o||l in $n}}))}function Lu(e,o=!0){return Me(e)?e.displayName||e.name:e.name||o&&e.__name}function Au(e){return Me(e)&&"__vccOpts"in e}const Ia=(e,o)=>xd(e,o,rr);function Mu(e,o,l){const d=arguments.length;return d===2?Ke(o)&&!Se(o)?Or(o)?Ve(e,null,[o]):Ve(e,o):Ve(e,null,o):(d>3?l=Array.prototype.slice.call(arguments,2):d===3&&Or(l)&&(l=[l]),Ve(e,o,l))}const Hu=Symbol(""),Nu=()=>kr(Hu),Ou="3.2.47",Du="http://www.w3.org/2000/svg",mn=typeof document<"u"?document:null,fs=mn&&mn.createElement("template"),Iu={insert:(e,o,l)=>{o.insertBefore(e,l||null)},remove:e=>{const o=e.parentNode;o&&o.removeChild(e)},createElement:(e,o,l,d)=>{const f=o?mn.createElementNS(Du,e):mn.createElement(e,l?{is:l}:void 0);return e==="select"&&d&&d.multiple!=null&&f.setAttribute("multiple",d.multiple),f},createText:e=>mn.createTextNode(e),createComment:e=>mn.createComment(e),setText:(e,o)=>{e.nodeValue=o},setElementText:(e,o)=>{e.textContent=o},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mn.querySelector(e),setScopeId(e,o){e.setAttribute(o,"")},insertStaticContent(e,o,l,d,f,h){const b=l?l.previousSibling:o.lastChild;if(f&&(f===h||f.nextSibling))for(;o.insertBefore(f.cloneNode(!0),l),!(f===h||!(f=f.nextSibling)););else{fs.innerHTML=d?`<svg>${e}</svg>`:e;const y=fs.content;if(d){const g=y.firstChild;for(;g.firstChild;)y.appendChild(g.firstChild);y.removeChild(g)}o.insertBefore(y,l)}return[b?b.nextSibling:o.firstChild,l?l.previousSibling:o.lastChild]}};function Pu(e,o,l){const d=e._vtc;d&&(o=(o?[o,...d]:[...d]).join(" ")),o==null?e.removeAttribute("class"):l?e.setAttribute("class",o):e.className=o}function Ru(e,o,l){const d=e.style,f=Ze(l);if(l&&!f){if(o&&!Ze(o))for(const h in o)l[h]==null&&Hi(d,h,"");for(const h in l)Hi(d,h,l[h])}else{const h=d.display;f?o!==l&&(d.cssText=l):o&&e.removeAttribute("style"),"_vod"in e&&(d.display=h)}}const ps=/\s*!important$/;function Hi(e,o,l){if(Se(l))l.forEach(d=>Hi(e,o,d));else if(l==null&&(l=""),o.startsWith("--"))e.setProperty(o,l);else{const d=ju(e,o);ps.test(l)?e.setProperty(In(d),l.replace(ps,""),"important"):e[d]=l}}const ms=["Webkit","Moz","ms"],vi={};function ju(e,o){const l=vi[o];if(l)return l;let d=Rt(o);if(d!=="filter"&&d in e)return vi[o]=d;d=Br(d);for(let f=0;f<ms.length;f++){const h=ms[f]+d;if(h in e)return vi[o]=h}return o}const hs="http://www.w3.org/1999/xlink";function Bu(e,o,l,d,f){if(d&&o.startsWith("xlink:"))l==null?e.removeAttributeNS(hs,o.slice(6,o.length)):e.setAttributeNS(hs,o,l);else{const h=Pc(o);l==null||h&&!Os(l)?e.removeAttribute(o):e.setAttribute(o,h?"":l)}}function Uu(e,o,l,d,f,h,b){if(o==="innerHTML"||o==="textContent"){d&&b(d,f,h),e[o]=l==null?"":l;return}if(o==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=l;const g=l==null?"":l;(e.value!==g||e.tagName==="OPTION")&&(e.value=g),l==null&&e.removeAttribute(o);return}let y=!1;if(l===""||l==null){const g=typeof e[o];g==="boolean"?l=Os(l):l==null&&g==="string"?(l="",y=!0):g==="number"&&(l=0,y=!0)}try{e[o]=l}catch{}y&&e.removeAttribute(o)}function qu(e,o,l,d){e.addEventListener(o,l,d)}function Fu(e,o,l,d){e.removeEventListener(o,l,d)}function Vu(e,o,l,d,f=null){const h=e._vei||(e._vei={}),b=h[o];if(d&&b)b.value=d;else{const[y,g]=Ku(o);if(d){const u=h[o]=$u(d,f);qu(e,y,u,g)}else b&&(Fu(e,y,b,g),h[o]=void 0)}}const vs=/(?:Once|Passive|Capture)$/;function Ku(e){let o;if(vs.test(e)){o={};let d;for(;d=e.match(vs);)e=e.slice(0,e.length-d[0].length),o[d[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):In(e.slice(2)),o]}let gi=0;const Wu=Promise.resolve(),zu=()=>gi||(Wu.then(()=>gi=0),gi=Date.now());function $u(e,o){const l=d=>{if(!d._vts)d._vts=Date.now();else if(d._vts<=l.attached)return;kt(Gu(d,l.value),o,5,[d])};return l.value=e,l.attached=zu(),l}function Gu(e,o){if(Se(o)){const l=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{l.call(e),e._stopped=!0},o.map(d=>f=>!f._stopped&&d&&d(f))}else return o}const gs=/^on[a-z]/,Zu=(e,o,l,d,f=!1,h,b,y,g)=>{o==="class"?Pu(e,d,f):o==="style"?Ru(e,l,d):Pr(o)?Ii(o)||Vu(e,o,l,d,b):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):Ju(e,o,d,f))?Uu(e,o,d,h,b,y,g):(o==="true-value"?e._trueValue=d:o==="false-value"&&(e._falseValue=d),Bu(e,o,d,f))};function Ju(e,o,l,d){return d?!!(o==="innerHTML"||o==="textContent"||o in e&&gs.test(o)&&Me(l)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&e.tagName==="INPUT"||o==="type"&&e.tagName==="TEXTAREA"||gs.test(o)&&Ze(l)?!1:o in e}const Zt="transition",Vn="animation",ro=(e,{slots:o})=>Mu(da,Ra(e),o);ro.displayName="Transition";const Pa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Xu=ro.props=at({},da.props,Pa),dn=(e,o=[])=>{Se(e)?e.forEach(l=>l(...o)):e&&e(...o)},ys=e=>e?Se(e)?e.some(o=>o.length>1):e.length>1:!1;function Ra(e){const o={};for(const $ in e)$ in Pa||(o[$]=e[$]);if(e.css===!1)return o;const{name:l="v",type:d,duration:f,enterFromClass:h=`${l}-enter-from`,enterActiveClass:b=`${l}-enter-active`,enterToClass:y=`${l}-enter-to`,appearFromClass:g=h,appearActiveClass:u=b,appearToClass:v=y,leaveFromClass:p=`${l}-leave-from`,leaveActiveClass:E=`${l}-leave-active`,leaveToClass:m=`${l}-leave-to`}=e,w=Yu(f),C=w&&w[0],L=w&&w[1],{onBeforeEnter:O,onEnter:N,onEnterCancelled:I,onLeave:M,onLeaveCancelled:H,onBeforeAppear:k=O,onAppear:F=N,onAppearCancelled:q=I}=o,X=($,be,ke)=>{Jt($,be?v:y),Jt($,be?u:b),ke&&ke()},ee=($,be)=>{$._isLeaving=!1,Jt($,p),Jt($,m),Jt($,E),be&&be()},le=$=>(be,ke)=>{const He=$?F:N,_e=()=>X(be,$,ke);dn(He,[be,_e]),bs(()=>{Jt(be,$?g:h),Ut(be,$?v:y),ys(He)||ws(be,d,C,_e)})};return at(o,{onBeforeEnter($){dn(O,[$]),Ut($,h),Ut($,b)},onBeforeAppear($){dn(k,[$]),Ut($,g),Ut($,u)},onEnter:le(!1),onAppear:le(!0),onLeave($,be){$._isLeaving=!0;const ke=()=>ee($,be);Ut($,p),Ba(),Ut($,E),bs(()=>{!$._isLeaving||(Jt($,p),Ut($,m),ys(M)||ws($,d,L,ke))}),dn(M,[$,ke])},onEnterCancelled($){X($,!1),dn(I,[$])},onAppearCancelled($){X($,!0),dn(q,[$])},onLeaveCancelled($){ee($),dn(H,[$])}})}function Yu(e){if(e==null)return null;if(Ke(e))return[yi(e.enter),yi(e.leave)];{const o=yi(e);return[o,o]}}function yi(e){return Kc(e)}function Ut(e,o){o.split(/\s+/).forEach(l=>l&&e.classList.add(l)),(e._vtc||(e._vtc=new Set)).add(o)}function Jt(e,o){o.split(/\s+/).forEach(d=>d&&e.classList.remove(d));const{_vtc:l}=e;l&&(l.delete(o),l.size||(e._vtc=void 0))}function bs(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Qu=0;function ws(e,o,l,d){const f=e._endId=++Qu,h=()=>{f===e._endId&&d()};if(l)return setTimeout(h,l);const{type:b,timeout:y,propCount:g}=ja(e,o);if(!b)return d();const u=b+"end";let v=0;const p=()=>{e.removeEventListener(u,E),h()},E=m=>{m.target===e&&++v>=g&&p()};setTimeout(()=>{v<g&&p()},y+1),e.addEventListener(u,E)}function ja(e,o){const l=window.getComputedStyle(e),d=w=>(l[w]||"").split(", "),f=d(`${Zt}Delay`),h=d(`${Zt}Duration`),b=Es(f,h),y=d(`${Vn}Delay`),g=d(`${Vn}Duration`),u=Es(y,g);let v=null,p=0,E=0;o===Zt?b>0&&(v=Zt,p=b,E=h.length):o===Vn?u>0&&(v=Vn,p=u,E=g.length):(p=Math.max(b,u),v=p>0?b>u?Zt:Vn:null,E=v?v===Zt?h.length:g.length:0);const m=v===Zt&&/\b(transform|all)(,|$)/.test(d(`${Zt}Property`).toString());return{type:v,timeout:p,propCount:E,hasTransform:m}}function Es(e,o){for(;e.length<o.length;)e=e.concat(e);return Math.max(...o.map((l,d)=>_s(l)+_s(e[d])))}function _s(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Ba(){return document.body.offsetHeight}const Ua=new WeakMap,qa=new WeakMap,Fa={name:"TransitionGroup",props:at({},Xu,{tag:String,moveClass:String}),setup(e,{slots:o}){const l=Na(),d=ca();let f,h;return pa(()=>{if(!f.length)return;const b=e.moveClass||`${e.name||"v"}-move`;if(!sf(f[0].el,l.vnode.el,b))return;f.forEach(nf),f.forEach(rf);const y=f.filter(of);Ba(),y.forEach(g=>{const u=g.el,v=u.style;Ut(u,b),v.transform=v.webkitTransform=v.transitionDuration="";const p=u._moveCb=E=>{E&&E.target!==u||(!E||/transform$/.test(E.propertyName))&&(u.removeEventListener("transitionend",p),u._moveCb=null,Jt(u,b))};u.addEventListener("transitionend",p)})}),()=>{const b=Pe(e),y=Ra(b);let g=b.tag||rt;f=h,h=o.default?Ji(o.default()):[];for(let u=0;u<h.length;u++){const v=h[u];v.key!=null&&tr(v,er(v,y,d,l))}if(f)for(let u=0;u<f.length;u++){const v=f[u];tr(v,er(v,y,d,l)),Ua.set(v,v.el.getBoundingClientRect())}return Ve(g,null,h)}}},ef=e=>delete e.mode;Fa.props;const tf=Fa;function nf(e){const o=e.el;o._moveCb&&o._moveCb(),o._enterCb&&o._enterCb()}function rf(e){qa.set(e,e.el.getBoundingClientRect())}function of(e){const o=Ua.get(e),l=qa.get(e),d=o.left-l.left,f=o.top-l.top;if(d||f){const h=e.el.style;return h.transform=h.webkitTransform=`translate(${d}px,${f}px)`,h.transitionDuration="0s",e}}function sf(e,o,l){const d=e.cloneNode();e._vtc&&e._vtc.forEach(b=>{b.split(/\s+/).forEach(y=>y&&d.classList.remove(y))}),l.split(/\s+/).forEach(b=>b&&d.classList.add(b)),d.style.display="none";const f=o.nodeType===1?o:o.parentNode;f.appendChild(d);const{hasTransform:h}=ja(d);return f.removeChild(d),h}const af=at({patchProp:Zu},Iu);let Cs;function lf(){return Cs||(Cs=pu(af))}const cf=(...e)=>{const o=lf().createApp(...e),{mount:l}=o;return o.mount=d=>{const f=df(d);if(!f)return;const h=o._component;!Me(h)&&!h.render&&!h.template&&(h.template=f.innerHTML),f.innerHTML="";const b=l(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),b},o};function df(e){return Ze(e)?document.querySelector(e):e}const uf=()=>({innerHeight:window.innerHeight,innerWidth:window.innerWidth}),ff=()=>{const e=()=>{const o=uf();document.documentElement.style.setProperty("--actVw",`${o.innerWidth}px`),document.documentElement.style.setProperty("--actVh",`${o.innerHeight}px`)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},pf={class:"flex items-center"},mf=["src"],hf={class:"px-2"},vf=rn({__name:"User",props:{info:null},emits:["logout"],setup(e){return(o,l)=>(st(),xt("div",pf,[e.info?(st(),xt(rt,{key:0},[ot("img",{src:e.info.avatar_url,class:"w-8 h-8 rounded-full",alt:""},null,8,mf),ot("div",hf,Ir(e.info.name),1),ot("button",{class:"normal-button font-bold text-stone-400",onClick:l[0]||(l[0]=d=>o.$emit("logout"))},"Log out")],64)):ir("",!0)]))}}),io=async(e,o)=>{const l=localStorage.getItem("github_access_token");return await(await fetch(e,{headers:{accept:"application/json",Authorization:`Bearer ${l}`},...o})).json()},gf=async()=>await io("https://api.github.com/user"),yf=async({user:e,repo:o,path:l,content:d,message:f,sha:h})=>{await io(`https://api.github.com/repos/${e}/${o}/contents/${l}`,{method:"put",body:JSON.stringify({content:d,message:f,sha:h})})},bf=async({user:e,repo:o,path:l})=>io(`https://api.github.com/repos/${e}/${o}/contents/${l}`,{method:"get"}),wf="ca9e273e5bec4299799c",Ef=`https://linkhub-navy.vercel.app/api/oath/redirect?origin=${window.origin}`,_f={width:626,height:436},Cf=(e,o)=>{const l=window.innerWidth||document.documentElement.clientWidth||window.screenX,d=window.innerHeight||document.documentElement.clientHeight||window.screenY,f=l/window.screen.availWidth,h=(l-e)/2/f+(window.screenLeft!==void 0?window.screenLeft:window.screenX),b=(d-o)/2/f+(window.screenTop!==void 0?window.screenTop:window.screenY);return{left:h,top:b}},kf=(e,o)=>{const l={..._f},d=Cf(l.width,l.height);return window.open(e,o,`,height=${l.height},width=${l.width},left=${d.left},top=${d.top},screenX=${d.left},screenY=${d.top}`)},ks="github_access_token",Sf=()=>({showLogin:()=>{const l=kf(`https://github.com/login/oauth/authorize?client_id=${wf}&scope=repo&redirect_uri=${Ef}`,"login");return new Promise(d=>{window.addEventListener("message",f=>{console.log(f),f.data.accessToken&&(console.log("loginsuccess"),l==null||l.close(),localStorage.setItem(ks,f.data.accessToken),d())})})},logout:()=>{localStorage.removeItem(ks),location.reload()}}),Ss=Sf(),xf=(e,o)=>Object.fromEntries(Object.entries(e).filter(([l])=>o.includes(l))),xs=()=>localStorage.getItem("github_access_token"),Tf=()=>{const e=localStorage.getItem("github_user_info");if(!!e)return JSON.parse(e)},$r=(()=>{const e=Kt(Boolean(xs())),o=Kt(Tf()),l=async()=>{const h=await gf();o.value=xf(h,["name","login","avatar_url"]),localStorage.setItem("github_user_info",JSON.stringify(h))},d=async()=>{await Ss.showLogin(),e.value=Boolean(xs()),await l()},f=()=>{localStorage.removeItem("github_user_info"),Ss.logout()};return e.value&&l(),()=>({login:d,logout:f,userInfo:Ar(o),isLogin:Ar(e)})})(),Lf=rn({__name:"Login",setup(e){const{login:o,userInfo:l,isLogin:d,logout:f}=$r();return(h,b)=>(st(),xt(rt,null,[Xe(d)?ir("",!0):(st(),xt("button",{key:0,class:"primary-button text-white font-bold",onClick:b[0]||(b[0]=(...y)=>Xe(o)&&Xe(o)(...y))},"login")),Ve(vf,{info:Xe(l),onLogout:Xe(f)},null,8,["info","onLogout"])],64))}});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Va={exports:{}};(function(e,o){(function(l,d){e.exports=d()})(Af,function(){return(()=>{var l={14:b=>{var y=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},g=-1;y.Diff=function(u,v){return[u,v]},y.prototype.diff_main=function(u,v,p,E){E===void 0&&(E=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);var m=E;if(u==null||v==null)throw new Error("Null input. (diff_main)");if(u==v)return u?[new y.Diff(0,u)]:[];p===void 0&&(p=!0);var w=p,C=this.diff_commonPrefix(u,v),L=u.substring(0,C);u=u.substring(C),v=v.substring(C),C=this.diff_commonSuffix(u,v);var O=u.substring(u.length-C);u=u.substring(0,u.length-C),v=v.substring(0,v.length-C);var N=this.diff_compute_(u,v,w,m);return L&&N.unshift(new y.Diff(0,L)),O&&N.push(new y.Diff(0,O)),this.diff_cleanupMerge(N),N},y.prototype.diff_compute_=function(u,v,p,E){var m;if(!u)return[new y.Diff(1,v)];if(!v)return[new y.Diff(g,u)];var w=u.length>v.length?u:v,C=u.length>v.length?v:u,L=w.indexOf(C);if(L!=-1)return m=[new y.Diff(1,w.substring(0,L)),new y.Diff(0,C),new y.Diff(1,w.substring(L+C.length))],u.length>v.length&&(m[0][0]=m[2][0]=g),m;if(C.length==1)return[new y.Diff(g,u),new y.Diff(1,v)];var O=this.diff_halfMatch_(u,v);if(O){var N=O[0],I=O[1],M=O[2],H=O[3],k=O[4],F=this.diff_main(N,M,p,E),q=this.diff_main(I,H,p,E);return F.concat([new y.Diff(0,k)],q)}return p&&u.length>100&&v.length>100?this.diff_lineMode_(u,v,E):this.diff_bisect_(u,v,E)},y.prototype.diff_lineMode_=function(u,v,p){var E=this.diff_linesToChars_(u,v);u=E.chars1,v=E.chars2;var m=E.lineArray,w=this.diff_main(u,v,!1,p);this.diff_charsToLines_(w,m),this.diff_cleanupSemantic(w),w.push(new y.Diff(0,""));for(var C=0,L=0,O=0,N="",I="";C<w.length;){switch(w[C][0]){case 1:O++,I+=w[C][1];break;case g:L++,N+=w[C][1];break;case 0:if(L>=1&&O>=1){w.splice(C-L-O,L+O),C=C-L-O;for(var M=this.diff_main(N,I,!1,p),H=M.length-1;H>=0;H--)w.splice(C,0,M[H]);C+=M.length}O=0,L=0,N="",I=""}C++}return w.pop(),w},y.prototype.diff_bisect_=function(u,v,p){for(var E=u.length,m=v.length,w=Math.ceil((E+m)/2),C=w,L=2*w,O=new Array(L),N=new Array(L),I=0;I<L;I++)O[I]=-1,N[I]=-1;O[C+1]=0,N[C+1]=0;for(var M=E-m,H=M%2!=0,k=0,F=0,q=0,X=0,ee=0;ee<w&&!(new Date().getTime()>p);ee++){for(var le=-ee+k;le<=ee-F;le+=2){for(var $=C+le,be=(Ee=le==-ee||le!=ee&&O[$-1]<O[$+1]?O[$+1]:O[$-1]+1)-le;Ee<E&&be<m&&u.charAt(Ee)==v.charAt(be);)Ee++,be++;if(O[$]=Ee,Ee>E)F+=2;else if(be>m)k+=2;else if(H&&(_e=C+M-le)>=0&&_e<L&&N[_e]!=-1&&Ee>=(He=E-N[_e]))return this.diff_bisectSplit_(u,v,Ee,be,p)}for(var ke=-ee+q;ke<=ee-X;ke+=2){for(var He,_e=C+ke,Te=(He=ke==-ee||ke!=ee&&N[_e-1]<N[_e+1]?N[_e+1]:N[_e-1]+1)-ke;He<E&&Te<m&&u.charAt(E-He-1)==v.charAt(m-Te-1);)He++,Te++;if(N[_e]=He,He>E)X+=2;else if(Te>m)q+=2;else if(!H&&($=C+M-ke)>=0&&$<L&&O[$]!=-1){var Ee;if(be=C+(Ee=O[$])-$,Ee>=(He=E-He))return this.diff_bisectSplit_(u,v,Ee,be,p)}}}return[new y.Diff(g,u),new y.Diff(1,v)]},y.prototype.diff_bisectSplit_=function(u,v,p,E,m){var w=u.substring(0,p),C=v.substring(0,E),L=u.substring(p),O=v.substring(E),N=this.diff_main(w,C,!1,m),I=this.diff_main(L,O,!1,m);return N.concat(I)},y.prototype.diff_linesToChars_=function(u,v){var p=[],E={};function m(L){for(var O="",N=0,I=-1,M=p.length;I<L.length-1;){(I=L.indexOf(`
`,N))==-1&&(I=L.length-1);var H=L.substring(N,I+1);(E.hasOwnProperty?E.hasOwnProperty(H):E[H]!==void 0)?O+=String.fromCharCode(E[H]):(M==w&&(H=L.substring(N),I=L.length),O+=String.fromCharCode(M),E[H]=M,p[M++]=H),N=I+1}return O}p[0]="";var w=4e4,C=m(u);return w=65535,{chars1:C,chars2:m(v),lineArray:p}},y.prototype.diff_charsToLines_=function(u,v){for(var p=0;p<u.length;p++){for(var E=u[p][1],m=[],w=0;w<E.length;w++)m[w]=v[E.charCodeAt(w)];u[p][1]=m.join("")}},y.prototype.diff_commonPrefix=function(u,v){if(!u||!v||u.charAt(0)!=v.charAt(0))return 0;for(var p=0,E=Math.min(u.length,v.length),m=E,w=0;p<m;)u.substring(w,m)==v.substring(w,m)?w=p=m:E=m,m=Math.floor((E-p)/2+p);return m},y.prototype.diff_commonSuffix=function(u,v){if(!u||!v||u.charAt(u.length-1)!=v.charAt(v.length-1))return 0;for(var p=0,E=Math.min(u.length,v.length),m=E,w=0;p<m;)u.substring(u.length-m,u.length-w)==v.substring(v.length-m,v.length-w)?w=p=m:E=m,m=Math.floor((E-p)/2+p);return m},y.prototype.diff_commonOverlap_=function(u,v){var p=u.length,E=v.length;if(p==0||E==0)return 0;p>E?u=u.substring(p-E):p<E&&(v=v.substring(0,p));var m=Math.min(p,E);if(u==v)return m;for(var w=0,C=1;;){var L=u.substring(m-C),O=v.indexOf(L);if(O==-1)return w;C+=O,O!=0&&u.substring(m-C)!=v.substring(0,C)||(w=C,C++)}},y.prototype.diff_halfMatch_=function(u,v){if(this.Diff_Timeout<=0)return null;var p=u.length>v.length?u:v,E=u.length>v.length?v:u;if(p.length<4||2*E.length<p.length)return null;var m=this;function w(k,F,q){for(var X,ee,le,$,be=k.substring(q,q+Math.floor(k.length/4)),ke=-1,He="";(ke=F.indexOf(be,ke+1))!=-1;){var _e=m.diff_commonPrefix(k.substring(q),F.substring(ke)),Te=m.diff_commonSuffix(k.substring(0,q),F.substring(0,ke));He.length<Te+_e&&(He=F.substring(ke-Te,ke)+F.substring(ke,ke+_e),X=k.substring(0,q-Te),ee=k.substring(q+_e),le=F.substring(0,ke-Te),$=F.substring(ke+_e))}return 2*He.length>=k.length?[X,ee,le,$,He]:null}var C,L,O,N,I,M=w(p,E,Math.ceil(p.length/4)),H=w(p,E,Math.ceil(p.length/2));return M||H?(C=H?M&&M[4].length>H[4].length?M:H:M,u.length>v.length?(L=C[0],O=C[1],N=C[2],I=C[3]):(N=C[0],I=C[1],L=C[2],O=C[3]),[L,O,N,I,C[4]]):null},y.prototype.diff_cleanupSemantic=function(u){for(var v=!1,p=[],E=0,m=null,w=0,C=0,L=0,O=0,N=0;w<u.length;)u[w][0]==0?(p[E++]=w,C=O,L=N,O=0,N=0,m=u[w][1]):(u[w][0]==1?O+=u[w][1].length:N+=u[w][1].length,m&&m.length<=Math.max(C,L)&&m.length<=Math.max(O,N)&&(u.splice(p[E-1],0,new y.Diff(g,m)),u[p[E-1]+1][0]=1,E--,w=--E>0?p[E-1]:-1,C=0,L=0,O=0,N=0,m=null,v=!0)),w++;for(v&&this.diff_cleanupMerge(u),this.diff_cleanupSemanticLossless(u),w=1;w<u.length;){if(u[w-1][0]==g&&u[w][0]==1){var I=u[w-1][1],M=u[w][1],H=this.diff_commonOverlap_(I,M),k=this.diff_commonOverlap_(M,I);H>=k?(H>=I.length/2||H>=M.length/2)&&(u.splice(w,0,new y.Diff(0,M.substring(0,H))),u[w-1][1]=I.substring(0,I.length-H),u[w+1][1]=M.substring(H),w++):(k>=I.length/2||k>=M.length/2)&&(u.splice(w,0,new y.Diff(0,I.substring(0,k))),u[w-1][0]=1,u[w-1][1]=M.substring(0,M.length-k),u[w+1][0]=g,u[w+1][1]=I.substring(k),w++),w++}w++}},y.prototype.diff_cleanupSemanticLossless=function(u){function v(k,F){if(!k||!F)return 6;var q=k.charAt(k.length-1),X=F.charAt(0),ee=q.match(y.nonAlphaNumericRegex_),le=X.match(y.nonAlphaNumericRegex_),$=ee&&q.match(y.whitespaceRegex_),be=le&&X.match(y.whitespaceRegex_),ke=$&&q.match(y.linebreakRegex_),He=be&&X.match(y.linebreakRegex_),_e=ke&&k.match(y.blanklineEndRegex_),Te=He&&F.match(y.blanklineStartRegex_);return _e||Te?5:ke||He?4:ee&&!$&&be?3:$||be?2:ee||le?1:0}for(var p=1;p<u.length-1;){if(u[p-1][0]==0&&u[p+1][0]==0){var E=u[p-1][1],m=u[p][1],w=u[p+1][1],C=this.diff_commonSuffix(E,m);if(C){var L=m.substring(m.length-C);E=E.substring(0,E.length-C),m=L+m.substring(0,m.length-C),w=L+w}for(var O=E,N=m,I=w,M=v(E,m)+v(m,w);m.charAt(0)===w.charAt(0);){E+=m.charAt(0),m=m.substring(1)+w.charAt(0),w=w.substring(1);var H=v(E,m)+v(m,w);H>=M&&(M=H,O=E,N=m,I=w)}u[p-1][1]!=O&&(O?u[p-1][1]=O:(u.splice(p-1,1),p--),u[p][1]=N,I?u[p+1][1]=I:(u.splice(p+1,1),p--))}p++}},y.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,y.whitespaceRegex_=/\s/,y.linebreakRegex_=/[\r\n]/,y.blanklineEndRegex_=/\n\r?\n$/,y.blanklineStartRegex_=/^\r?\n\r?\n/,y.prototype.diff_cleanupEfficiency=function(u){for(var v=!1,p=[],E=0,m=null,w=0,C=!1,L=!1,O=!1,N=!1;w<u.length;)u[w][0]==0?(u[w][1].length<this.Diff_EditCost&&(O||N)?(p[E++]=w,C=O,L=N,m=u[w][1]):(E=0,m=null),O=N=!1):(u[w][0]==g?N=!0:O=!0,m&&(C&&L&&O&&N||m.length<this.Diff_EditCost/2&&C+L+O+N==3)&&(u.splice(p[E-1],0,new y.Diff(g,m)),u[p[E-1]+1][0]=1,E--,m=null,C&&L?(O=N=!0,E=0):(w=--E>0?p[E-1]:-1,O=N=!1),v=!0)),w++;v&&this.diff_cleanupMerge(u)},y.prototype.diff_cleanupMerge=function(u){u.push(new y.Diff(0,""));for(var v,p=0,E=0,m=0,w="",C="";p<u.length;)switch(u[p][0]){case 1:m++,C+=u[p][1],p++;break;case g:E++,w+=u[p][1],p++;break;case 0:E+m>1?(E!==0&&m!==0&&((v=this.diff_commonPrefix(C,w))!==0&&(p-E-m>0&&u[p-E-m-1][0]==0?u[p-E-m-1][1]+=C.substring(0,v):(u.splice(0,0,new y.Diff(0,C.substring(0,v))),p++),C=C.substring(v),w=w.substring(v)),(v=this.diff_commonSuffix(C,w))!==0&&(u[p][1]=C.substring(C.length-v)+u[p][1],C=C.substring(0,C.length-v),w=w.substring(0,w.length-v))),p-=E+m,u.splice(p,E+m),w.length&&(u.splice(p,0,new y.Diff(g,w)),p++),C.length&&(u.splice(p,0,new y.Diff(1,C)),p++),p++):p!==0&&u[p-1][0]==0?(u[p-1][1]+=u[p][1],u.splice(p,1)):p++,m=0,E=0,w="",C=""}u[u.length-1][1]===""&&u.pop();var L=!1;for(p=1;p<u.length-1;)u[p-1][0]==0&&u[p+1][0]==0&&(u[p][1].substring(u[p][1].length-u[p-1][1].length)==u[p-1][1]?(u[p][1]=u[p-1][1]+u[p][1].substring(0,u[p][1].length-u[p-1][1].length),u[p+1][1]=u[p-1][1]+u[p+1][1],u.splice(p-1,1),L=!0):u[p][1].substring(0,u[p+1][1].length)==u[p+1][1]&&(u[p-1][1]+=u[p+1][1],u[p][1]=u[p][1].substring(u[p+1][1].length)+u[p+1][1],u.splice(p+1,1),L=!0)),p++;L&&this.diff_cleanupMerge(u)},y.prototype.diff_xIndex=function(u,v){var p,E=0,m=0,w=0,C=0;for(p=0;p<u.length&&(u[p][0]!==1&&(E+=u[p][1].length),u[p][0]!==g&&(m+=u[p][1].length),!(E>v));p++)w=E,C=m;return u.length!=p&&u[p][0]===g?C:C+(v-w)},y.prototype.diff_prettyHtml=function(u){for(var v=[],p=/&/g,E=/</g,m=/>/g,w=/\n/g,C=0;C<u.length;C++){var L=u[C][0],O=u[C][1].replace(p,"&amp;").replace(E,"&lt;").replace(m,"&gt;").replace(w,"&para;<br>");switch(L){case 1:v[C]='<ins style="background:#e6ffe6;">'+O+"</ins>";break;case g:v[C]='<del style="background:#ffe6e6;">'+O+"</del>";break;case 0:v[C]="<span>"+O+"</span>"}}return v.join("")},y.prototype.diff_text1=function(u){for(var v=[],p=0;p<u.length;p++)u[p][0]!==1&&(v[p]=u[p][1]);return v.join("")},y.prototype.diff_text2=function(u){for(var v=[],p=0;p<u.length;p++)u[p][0]!==g&&(v[p]=u[p][1]);return v.join("")},y.prototype.diff_levenshtein=function(u){for(var v=0,p=0,E=0,m=0;m<u.length;m++){var w=u[m][0],C=u[m][1];switch(w){case 1:p+=C.length;break;case g:E+=C.length;break;case 0:v+=Math.max(p,E),p=0,E=0}}return v+=Math.max(p,E)},y.prototype.diff_toDelta=function(u){for(var v=[],p=0;p<u.length;p++)switch(u[p][0]){case 1:v[p]="+"+encodeURI(u[p][1]);break;case g:v[p]="-"+u[p][1].length;break;case 0:v[p]="="+u[p][1].length}return v.join("	").replace(/%20/g," ")},y.prototype.diff_fromDelta=function(u,v){for(var p=[],E=0,m=0,w=v.split(/\t/g),C=0;C<w.length;C++){var L=w[C].substring(1);switch(w[C].charAt(0)){case"+":try{p[E++]=new y.Diff(1,decodeURI(L))}catch{throw new Error("Illegal escape in diff_fromDelta: "+L)}break;case"-":case"=":var O=parseInt(L,10);if(isNaN(O)||O<0)throw new Error("Invalid number in diff_fromDelta: "+L);var N=u.substring(m,m+=O);w[C].charAt(0)=="="?p[E++]=new y.Diff(0,N):p[E++]=new y.Diff(g,N);break;default:if(w[C])throw new Error("Invalid diff operation in diff_fromDelta: "+w[C])}}if(m!=u.length)throw new Error("Delta length ("+m+") does not equal source text length ("+u.length+").");return p},y.prototype.match_main=function(u,v,p){if(u==null||v==null||p==null)throw new Error("Null input. (match_main)");return p=Math.max(0,Math.min(p,u.length)),u==v?0:u.length?u.substring(p,p+v.length)==v?p:this.match_bitap_(u,v,p):-1},y.prototype.match_bitap_=function(u,v,p){if(v.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var E=this.match_alphabet_(v),m=this;function w(be,ke){var He=be/v.length,_e=Math.abs(p-ke);return m.Match_Distance?He+_e/m.Match_Distance:_e?1:He}var C=this.Match_Threshold,L=u.indexOf(v,p);L!=-1&&(C=Math.min(w(0,L),C),(L=u.lastIndexOf(v,p+v.length))!=-1&&(C=Math.min(w(0,L),C)));var O,N,I=1<<v.length-1;L=-1;for(var M,H=v.length+u.length,k=0;k<v.length;k++){for(O=0,N=H;O<N;)w(k,p+N)<=C?O=N:H=N,N=Math.floor((H-O)/2+O);H=N;var F=Math.max(1,p-N+1),q=Math.min(p+N,u.length)+v.length,X=Array(q+2);X[q+1]=(1<<k)-1;for(var ee=q;ee>=F;ee--){var le=E[u.charAt(ee-1)];if(X[ee]=k===0?(X[ee+1]<<1|1)&le:(X[ee+1]<<1|1)&le|(M[ee+1]|M[ee])<<1|1|M[ee+1],X[ee]&I){var $=w(k,ee-1);if($<=C){if(C=$,!((L=ee-1)>p))break;F=Math.max(1,2*p-L)}}}if(w(k+1,p)>C)break;M=X}return L},y.prototype.match_alphabet_=function(u){for(var v={},p=0;p<u.length;p++)v[u.charAt(p)]=0;for(p=0;p<u.length;p++)v[u.charAt(p)]|=1<<u.length-p-1;return v},y.prototype.patch_addContext_=function(u,v){if(v.length!=0){if(u.start2===null)throw Error("patch not initialized");for(var p=v.substring(u.start2,u.start2+u.length1),E=0;v.indexOf(p)!=v.lastIndexOf(p)&&p.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)E+=this.Patch_Margin,p=v.substring(u.start2-E,u.start2+u.length1+E);E+=this.Patch_Margin;var m=v.substring(u.start2-E,u.start2);m&&u.diffs.unshift(new y.Diff(0,m));var w=v.substring(u.start2+u.length1,u.start2+u.length1+E);w&&u.diffs.push(new y.Diff(0,w)),u.start1-=m.length,u.start2-=m.length,u.length1+=m.length+w.length,u.length2+=m.length+w.length}},y.prototype.patch_make=function(u,v,p){var E,m;if(typeof u=="string"&&typeof v=="string"&&p===void 0)E=u,(m=this.diff_main(E,v,!0)).length>2&&(this.diff_cleanupSemantic(m),this.diff_cleanupEfficiency(m));else if(u&&typeof u=="object"&&v===void 0&&p===void 0)m=u,E=this.diff_text1(m);else if(typeof u=="string"&&v&&typeof v=="object"&&p===void 0)E=u,m=v;else{if(typeof u!="string"||typeof v!="string"||!p||typeof p!="object")throw new Error("Unknown call format to patch_make.");E=u,m=p}if(m.length===0)return[];for(var w=[],C=new y.patch_obj,L=0,O=0,N=0,I=E,M=E,H=0;H<m.length;H++){var k=m[H][0],F=m[H][1];switch(L||k===0||(C.start1=O,C.start2=N),k){case 1:C.diffs[L++]=m[H],C.length2+=F.length,M=M.substring(0,N)+F+M.substring(N);break;case g:C.length1+=F.length,C.diffs[L++]=m[H],M=M.substring(0,N)+M.substring(N+F.length);break;case 0:F.length<=2*this.Patch_Margin&&L&&m.length!=H+1?(C.diffs[L++]=m[H],C.length1+=F.length,C.length2+=F.length):F.length>=2*this.Patch_Margin&&L&&(this.patch_addContext_(C,I),w.push(C),C=new y.patch_obj,L=0,I=M,O=N)}k!==1&&(O+=F.length),k!==g&&(N+=F.length)}return L&&(this.patch_addContext_(C,I),w.push(C)),w},y.prototype.patch_deepCopy=function(u){for(var v=[],p=0;p<u.length;p++){var E=u[p],m=new y.patch_obj;m.diffs=[];for(var w=0;w<E.diffs.length;w++)m.diffs[w]=new y.Diff(E.diffs[w][0],E.diffs[w][1]);m.start1=E.start1,m.start2=E.start2,m.length1=E.length1,m.length2=E.length2,v[p]=m}return v},y.prototype.patch_apply=function(u,v){if(u.length==0)return[v,[]];u=this.patch_deepCopy(u);var p=this.patch_addPadding(u);v=p+v+p,this.patch_splitMax(u);for(var E=0,m=[],w=0;w<u.length;w++){var C,L,O=u[w].start2+E,N=this.diff_text1(u[w].diffs),I=-1;if(N.length>this.Match_MaxBits?(C=this.match_main(v,N.substring(0,this.Match_MaxBits),O))!=-1&&((I=this.match_main(v,N.substring(N.length-this.Match_MaxBits),O+N.length-this.Match_MaxBits))==-1||C>=I)&&(C=-1):C=this.match_main(v,N,O),C==-1)m[w]=!1,E-=u[w].length2-u[w].length1;else if(m[w]=!0,E=C-O,N==(L=I==-1?v.substring(C,C+N.length):v.substring(C,I+this.Match_MaxBits)))v=v.substring(0,C)+this.diff_text2(u[w].diffs)+v.substring(C+N.length);else{var M=this.diff_main(N,L,!1);if(N.length>this.Match_MaxBits&&this.diff_levenshtein(M)/N.length>this.Patch_DeleteThreshold)m[w]=!1;else{this.diff_cleanupSemanticLossless(M);for(var H,k=0,F=0;F<u[w].diffs.length;F++){var q=u[w].diffs[F];q[0]!==0&&(H=this.diff_xIndex(M,k)),q[0]===1?v=v.substring(0,C+H)+q[1]+v.substring(C+H):q[0]===g&&(v=v.substring(0,C+H)+v.substring(C+this.diff_xIndex(M,k+q[1].length))),q[0]!==g&&(k+=q[1].length)}}}}return[v=v.substring(p.length,v.length-p.length),m]},y.prototype.patch_addPadding=function(u){for(var v=this.Patch_Margin,p="",E=1;E<=v;E++)p+=String.fromCharCode(E);for(E=0;E<u.length;E++)u[E].start1+=v,u[E].start2+=v;var m=u[0],w=m.diffs;if(w.length==0||w[0][0]!=0)w.unshift(new y.Diff(0,p)),m.start1-=v,m.start2-=v,m.length1+=v,m.length2+=v;else if(v>w[0][1].length){var C=v-w[0][1].length;w[0][1]=p.substring(w[0][1].length)+w[0][1],m.start1-=C,m.start2-=C,m.length1+=C,m.length2+=C}return(w=(m=u[u.length-1]).diffs).length==0||w[w.length-1][0]!=0?(w.push(new y.Diff(0,p)),m.length1+=v,m.length2+=v):v>w[w.length-1][1].length&&(C=v-w[w.length-1][1].length,w[w.length-1][1]+=p.substring(0,C),m.length1+=C,m.length2+=C),p},y.prototype.patch_splitMax=function(u){for(var v=this.Match_MaxBits,p=0;p<u.length;p++)if(!(u[p].length1<=v)){var E=u[p];u.splice(p--,1);for(var m=E.start1,w=E.start2,C="";E.diffs.length!==0;){var L=new y.patch_obj,O=!0;for(L.start1=m-C.length,L.start2=w-C.length,C!==""&&(L.length1=L.length2=C.length,L.diffs.push(new y.Diff(0,C)));E.diffs.length!==0&&L.length1<v-this.Patch_Margin;){var N=E.diffs[0][0],I=E.diffs[0][1];N===1?(L.length2+=I.length,w+=I.length,L.diffs.push(E.diffs.shift()),O=!1):N===g&&L.diffs.length==1&&L.diffs[0][0]==0&&I.length>2*v?(L.length1+=I.length,m+=I.length,O=!1,L.diffs.push(new y.Diff(N,I)),E.diffs.shift()):(I=I.substring(0,v-L.length1-this.Patch_Margin),L.length1+=I.length,m+=I.length,N===0?(L.length2+=I.length,w+=I.length):O=!1,L.diffs.push(new y.Diff(N,I)),I==E.diffs[0][1]?E.diffs.shift():E.diffs[0][1]=E.diffs[0][1].substring(I.length))}C=(C=this.diff_text2(L.diffs)).substring(C.length-this.Patch_Margin);var M=this.diff_text1(E.diffs).substring(0,this.Patch_Margin);M!==""&&(L.length1+=M.length,L.length2+=M.length,L.diffs.length!==0&&L.diffs[L.diffs.length-1][0]===0?L.diffs[L.diffs.length-1][1]+=M:L.diffs.push(new y.Diff(0,M))),O||u.splice(++p,0,L)}}},y.prototype.patch_toText=function(u){for(var v=[],p=0;p<u.length;p++)v[p]=u[p];return v.join("")},y.prototype.patch_fromText=function(u){var v=[];if(!u)return v;for(var p=u.split(`
`),E=0,m=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;E<p.length;){var w=p[E].match(m);if(!w)throw new Error("Invalid patch string: "+p[E]);var C=new y.patch_obj;for(v.push(C),C.start1=parseInt(w[1],10),w[2]===""?(C.start1--,C.length1=1):w[2]=="0"?C.length1=0:(C.start1--,C.length1=parseInt(w[2],10)),C.start2=parseInt(w[3],10),w[4]===""?(C.start2--,C.length2=1):w[4]=="0"?C.length2=0:(C.start2--,C.length2=parseInt(w[4],10)),E++;E<p.length;){var L=p[E].charAt(0);try{var O=decodeURI(p[E].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+O)}if(L=="-")C.diffs.push(new y.Diff(g,O));else if(L=="+")C.diffs.push(new y.Diff(1,O));else if(L==" ")C.diffs.push(new y.Diff(0,O));else{if(L=="@")break;if(L!=="")throw new Error('Invalid patch mode "'+L+'" in: '+O)}E++}}return v},(y.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var u,v=["@@ -"+(this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1)+" +"+(this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2)+` @@
`],p=0;p<this.diffs.length;p++){switch(this.diffs[p][0]){case 1:u="+";break;case g:u="-";break;case 0:u=" "}v[p+1]=u+encodeURI(this.diffs[p][1])+`
`}return v.join("").replace(/%20/g," ")},b.exports=y,b.exports.diff_match_patch=y,b.exports.DIFF_DELETE=g,b.exports.DIFF_INSERT=1,b.exports.DIFF_EQUAL=0},872:(b,y,g)=>{g.d(y,{default:()=>on});var u=g(478),v=g(156),p=g(314),E=g(730),m=g(66),w=g(218),C=g(702),L=function(de){de===void 0&&(de=document);var je=function(te){var Q=document.createElement("img");Q.src=te.getAttribute("data-src"),Q.addEventListener("load",function(){te.getAttribute("style")||te.getAttribute("class")||te.getAttribute("width")||te.getAttribute("height")||Q.naturalHeight>Q.naturalWidth&&Q.naturalWidth/Q.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&Q.naturalHeight>window.innerHeight-40&&(te.style.height=window.innerHeight-40+"px"),te.src=Q.src}),te.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return de.querySelectorAll("img").forEach(function(te){te.getAttribute("data-src")&&je(te)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),de.querySelectorAll("img").forEach(function(te){window.vditorImageIntersectionObserver.observe(te)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(te){te.forEach(function(Q){(Q.isIntersecting===void 0?Q.intersectionRatio!==0:Q.isIntersecting)&&Q.target.getAttribute("data-src")&&je(Q.target)})}),de.querySelectorAll("img").forEach(function(te){window.vditorImageIntersectionObserver.observe(te)}))},O=g(466),N=g(554),I=g(40),M=g(563),H=g(749),k=g(818),F=g(408),q=g(54),X=g(227),ee=g(526),le=g(827),$=g(640),be=g(895),ke=g(393),He=function(de,je){if(je===void 0&&(je="zh_CN"),typeof speechSynthesis<"u"&&typeof SpeechSynthesisUtterance<"u"){var te='<svg><use xlink:href="#vditor-icon-play"></use></svg>',Q='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(te='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',Q='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var ue=document.querySelector(".vditor-speech");if(!ue){(ue=document.createElement("div")).className="vditor-speech",document.body.insertAdjacentElement("beforeend",ue);var Re=function(){var qe,A;return speechSynthesis.getVoices().forEach(function(D){D.lang===je.replace("_","-")&&(qe=D),D.default&&(A=D)}),qe||(qe=A),qe};speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=Re);var Oe=Re();ue.onclick=function(){if(ue.className==="vditor-speech"){var qe=new SpeechSynthesisUtterance(ue.getAttribute("data-text"));qe.voice=Oe,qe.onend=function(){ue.className="vditor-speech",speechSynthesis.cancel(),ue.innerHTML=te},speechSynthesis.speak(qe),ue.className="vditor-speech vditor-speech--current",ue.innerHTML=Q}else speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),ue.innerHTML=Q):(speechSynthesis.pause(),ue.innerHTML=te));(0,ke.Hc)(window.vditorSpeechRange)},document.body.addEventListener("click",function(){getSelection().toString().trim()===""&&ue.style.display==="block"&&(ue.className="vditor-speech",speechSynthesis.cancel(),ue.style.display="none")})}de.addEventListener("mouseup",function(qe){var A=getSelection().toString().trim();if(speechSynthesis.cancel(),getSelection().toString().trim()!==""){window.vditorSpeechRange=getSelection().getRangeAt(0).cloneRange();var D=getSelection().getRangeAt(0).getBoundingClientRect();ue.innerHTML=te,ue.style.display="block",ue.style.top=D.top+D.height+document.querySelector("html").scrollTop-20+"px",ue.style.left=qe.screenX+2+"px",ue.setAttribute("data-text",A)}else ue.style.display==="block"&&(ue.className="vditor-speech",ue.style.display="none")})}},_e=function(de,je,te,Q){return new(te||(te=Promise))(function(ue,Re){function Oe(D){try{A(Q.next(D))}catch(R){Re(R)}}function qe(D){try{A(Q.throw(D))}catch(R){Re(R)}}function A(D){var R;D.done?ue(D.value):(R=D.value,R instanceof te?R:new te(function(K){K(R)})).then(Oe,qe)}A((Q=Q.apply(de,je||[])).next())})},Te=function(de,je){var te,Q,ue,Re,Oe={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return Re={next:qe(0),throw:qe(1),return:qe(2)},typeof Symbol=="function"&&(Re[Symbol.iterator]=function(){return this}),Re;function qe(A){return function(D){return function(R){if(te)throw new TypeError("Generator is already executing.");for(;Oe;)try{if(te=1,Q&&(ue=2&R[0]?Q.return:R[0]?Q.throw||((ue=Q.return)&&ue.call(Q),0):Q.next)&&!(ue=ue.call(Q,R[1])).done)return ue;switch(Q=0,ue&&(R=[2&R[0],ue.value]),R[0]){case 0:case 1:ue=R;break;case 4:return Oe.label++,{value:R[1],done:!1};case 5:Oe.label++,Q=R[1],R=[0];continue;case 7:R=Oe.ops.pop(),Oe.trys.pop();continue;default:if(ue=Oe.trys,!((ue=ue.length>0&&ue[ue.length-1])||R[0]!==6&&R[0]!==2)){Oe=0;continue}if(R[0]===3&&(!ue||R[1]>ue[0]&&R[1]<ue[3])){Oe.label=R[1];break}if(R[0]===6&&Oe.label<ue[1]){Oe.label=ue[1],ue=R;break}if(ue&&Oe.label<ue[2]){Oe.label=ue[2],Oe.ops.push(R);break}ue[2]&&Oe.ops.pop(),Oe.trys.pop();continue}R=je.call(de,Oe)}catch(K){R=[6,K],Q=0}finally{te=ue=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([A,D])}}},Ee=function(de){var je={anchor:0,cdn:q.g.CDN,customEmoji:{},emojiPath:(de&&de.emojiPath||q.g.CDN)+"/dist/images/emoji",hljs:q.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:q.g.MARKDOWN_OPTIONS,math:q.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},theme:q.g.THEME_OPTIONS};return(0,$.T)(je,de)},ct=function(de,je){var te=Ee(je);return(0,ee.G)(te.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){var Q=(0,be.X)({autoSpace:te.markdown.autoSpace,codeBlockPreview:te.markdown.codeBlockPreview,emojiSite:te.emojiPath,emojis:te.customEmoji,fixTermTypo:te.markdown.fixTermTypo,footnotes:te.markdown.footnotes,headingAnchor:te.anchor!==0,inlineMathDigit:te.math.inlineDigit,lazyLoadImage:te.lazyLoadImage,linkBase:te.markdown.linkBase,linkPrefix:te.markdown.linkPrefix,listStyle:te.markdown.listStyle,mark:te.markdown.mark,mathBlockPreview:te.markdown.mathBlockPreview,paragraphBeginningSpace:te.markdown.paragraphBeginningSpace,sanitize:te.markdown.sanitize,toc:te.markdown.toc});return je!=null&&je.renderers&&Q.SetJSRenderers({renderers:{Md2HTML:je.renderers}}),Q.SetHeadingID(!0),Q.Md2HTML(de)})},Ue=function(de,je,te){return _e(void 0,void 0,void 0,function(){var Q,ue,Re;return Te(this,function(Oe){switch(Oe.label){case 0:return Q=Ee(te),[4,ct(je,Q)];case 1:if(ue=Oe.sent(),Q.transform&&(ue=Q.transform(ue)),de.innerHTML=ue,de.classList.add("vditor-reset"),Q.i18n)return[3,5];if(["en_US","fr_FR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(Q.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return Re="vditorI18nScript"+Q.lang,document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(A){A.id!==Re&&document.head.removeChild(A)}),[4,(0,ee.G)(Q.cdn+"/dist/js/i18n/"+Q.lang+".js",Re)];case 3:Oe.sent(),Oe.label=4;case 4:return[3,6];case 5:window.VditorI18n=Q.i18n,Oe.label=6;case 6:return Q.icon?[4,(0,ee.G)(Q.cdn+"/dist/js/icons/"+Q.icon+".js","vditorIconScript")]:[3,8];case 7:Oe.sent(),Oe.label=8;case 8:return(0,X.Z)(Q.theme.current,Q.theme.path),Q.anchor===1&&de.classList.add("vditor-reset--anchor"),(0,E.O)(de),(0,C.s)(Q.hljs,de,Q.cdn),(0,O.H)(de,{cdn:Q.cdn,math:Q.math}),(0,I.i)(de,Q.cdn,Q.mode),(0,M.K)(de,Q.cdn,Q.mode),(0,m.P)(de,Q.cdn),(0,w.v)(de,Q.cdn),(0,p.p)(de,Q.cdn,Q.mode),(0,H.P)(de,Q.cdn,Q.mode),(0,F.B)(de,Q.cdn),(0,u.Q)(de,Q.cdn),(0,N.Y)(de),Q.speech.enable&&He(de),Q.anchor!==0&&(qe=Q.anchor,document.querySelectorAll(".vditor-anchor").forEach(function(A){qe===1&&A.classList.add("vditor-anchor--left"),A.onclick=function(){var D=A.getAttribute("href").substr(1),R=document.getElementById("vditorAnchor-"+D).offsetTop;document.querySelector("html").scrollTop=R}}),window.onhashchange=function(){var A=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));A&&(document.querySelector("html").scrollTop=A.offsetTop)}),Q.after&&Q.after(),Q.lazyLoadImage&&L(de),de.addEventListener("click",function(A){var D=(0,le.lG)(A.target,"SPAN");if(D&&(0,le.fb)(D,"vditor-toc")){var R=de.querySelector("#"+D.getAttribute("data-target-id"));R&&window.scrollTo(window.scrollX,R.offsetTop)}}),[2]}var qe})})},P=g(863),Je=g(312);const on=function(){function de(){}return de.adapterRender=v,de.previewImage=P.E,de.codeRender=E.O,de.graphvizRender=w.v,de.highlightRender=C.s,de.mathRender=O.H,de.mermaidRender=I.i,de.markmapRender=M.K,de.flowchartRender=m.P,de.chartRender=p.p,de.abcRender=u.Q,de.mindmapRender=H.P,de.plantumlRender=F.B,de.outlineRender=k.k,de.mediaRender=N.Y,de.speechRender=He,de.lazyLoadImageRender=L,de.md2html=ct,de.preview=Ue,de.setCodeTheme=Je.Y,de.setContentTheme=X.Z,de}()},54:(b,y,g)=>{g.d(y,{H:()=>u,g:()=>v});var u="3.9.0",v=function(){function p(){}return p.ZWSP="\u200B",p.DROP_EDITOR="application/editor",p.MOBILE_WIDTH=520,p.CLASS_MENU_DISABLED="vditor-menu--disabled",p.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],p.CODE_THEME=["abap","algol","algol_nu","arduino","autumn","borland","bw","colorful","dracula","emacs","friendly","fruity","github","igor","lovelace","manni","monokai","monokailight","murphy","native","paraiso-dark","paraiso-light","pastie","perldoc","pygments","rainbow_dash","rrt","solarized-dark","solarized-dark256","solarized-light","swapoff","tango","trac","vim","vs","xcode","ant-design"],p.CODE_LANGUAGES=["mermaid","echarts","mindmap","plantuml","abc","graphviz","flowchart","apache","js","ts","html","markmap","properties","apache","bash","c","csharp","cpp","css","coffeescript","diff","go","xml","http","json","java","javascript","kotlin","less","lua","makefile","markdown","nginx","objectivec","php","php-template","perl","plaintext","python","python-repl","r","ruby","rust","scss","sql","shell","swift","ini","typescript","vbnet","yaml","ada","clojure","dart","erb","fortran","gradle","haskell","julia","julia-repl","lisp","matlab","pgsql","powershell","sql_more","stata","cmake","mathematica","solidity","yul"],p.CDN="https://unpkg.com/vditor@3.9.0",p.MARKDOWN_OPTIONS={autoSpace:!1,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},p.HLJS_OPTIONS={enable:!0,lineNumber:!1,style:"github"},p.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},p.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:p.CDN+"/dist/css/content-theme"},p}()},478:(b,y,g)=>{g.d(y,{Q:()=>E});var u=g(54),v=g(526),p=g(156),E=function(m,w){m===void 0&&(m=document),w===void 0&&(w=u.g.CDN);var C=p.abcRenderAdapter.getElements(m);C.length>0&&(0,v.G)(w+"/dist/js/abcjs/abcjs_basic.min.js","vditorAbcjsScript").then(function(){C.forEach(function(L){L.parentElement.classList.contains("vditor-wysiwyg__pre")||L.parentElement.classList.contains("vditor-ir__marker--pre")||L.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(L,p.abcRenderAdapter.getCode(L).trim()),L.style.overflowX="auto",L.setAttribute("data-processed","true"))})})}},156:(b,y,g)=>{g.r(y),g.d(y,{mathRenderAdapter:()=>u,mermaidRenderAdapter:()=>v,markmapRenderAdapter:()=>p,mindmapRenderAdapter:()=>E,chartRenderAdapter:()=>m,abcRenderAdapter:()=>w,graphvizRenderAdapter:()=>C,flowchartRenderAdapter:()=>L,plantumlRenderAdapter:()=>O});var u={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-math")}},v={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-mermaid")}},p={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-markmap")}},E={getCode:function(N){return N.getAttribute("data-code")},getElements:function(N){return N.querySelectorAll(".language-mindmap")}},m={getCode:function(N){return N.innerText},getElements:function(N){return N.querySelectorAll(".language-echarts")}},w={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-abc")}},C={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-graphviz")}},L={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-flowchart")}},O={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-plantuml")}}},314:(b,y,g)=>{g.d(y,{p:()=>E});var u=g(54),v=g(526),p=g(156),E=function(m,w,C){m===void 0&&(m=document),w===void 0&&(w=u.g.CDN);var L=p.chartRenderAdapter.getElements(m);L.length>0&&(0,v.G)(w+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){L.forEach(function(O){if(!O.parentElement.classList.contains("vditor-wysiwyg__pre")&&!O.parentElement.classList.contains("vditor-ir__marker--pre")){var N=p.chartRenderAdapter.getCode(O).trim();if(N)try{if(O.getAttribute("data-processed")==="true")return;var I=JSON.parse(N);echarts.init(O,C==="dark"?"dark":void 0).setOption(I),O.setAttribute("data-processed","true")}catch(M){O.className="vditor-reset--error",O.innerHTML="echarts render error: <br>"+M}}})})}},730:(b,y,g)=>{g.d(y,{O:()=>p});var u=g(51),v=g(54),p=function(E){E.querySelectorAll("pre > code").forEach(function(m,w){var C,L,O;if(!m.parentElement.classList.contains("vditor-wysiwyg__pre")&&!m.parentElement.classList.contains("vditor-ir__marker--pre")&&!(m.classList.contains("language-mermaid")||m.classList.contains("language-flowchart")||m.classList.contains("language-echarts")||m.classList.contains("language-mindmap")||m.classList.contains("language-plantuml")||m.classList.contains("language-markmap")||m.classList.contains("language-abc")||m.classList.contains("language-graphviz")||m.classList.contains("language-math")||m.style.maxHeight.indexOf("px")>-1||E.classList.contains("vditor-preview")&&w>5)){var N=m.innerText;if(m.classList.contains("highlight-chroma")){var I=document.createElement("code");I.innerHTML=m.innerHTML,I.querySelectorAll(".highlight-ln").forEach(function(F){F.remove()}),N=I.innerText}else N.endsWith(`
`)&&(N=N.substr(0,N.length-1));var M='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(M='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var H=document.createElement("div");H.className="vditor-copy",H.innerHTML='<span aria-label="'+(((C=window.VditorI18n)===null||C===void 0?void 0:C.copy)||"\u590D\u5236")+`"
onmouseover="this.setAttribute('aria-label', '`+(((L=window.VditorI18n)===null||L===void 0?void 0:L.copy)||"\u590D\u5236")+`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`+(((O=window.VditorI18n)===null||O===void 0?void 0:O.copied)||"\u5DF2\u590D\u5236")+`')">`+M+"</span>";var k=document.createElement("textarea");k.value=(0,u.X)(N),H.insertAdjacentElement("afterbegin",k),m.before(H),m.style.maxHeight=window.outerHeight-40+"px",m.insertAdjacentHTML("afterend",'<span style="position: absolute">'+v.g.ZWSP+"</span>")}})}},66:(b,y,g)=>{g.d(y,{P:()=>E});var u=g(54),v=g(526),p=g(156),E=function(m,w){w===void 0&&(w=u.g.CDN);var C=p.flowchartRenderAdapter.getElements(m);C.length!==0&&(0,v.G)(w+"/dist/js/flowchart.js/flowchart.min.js","vditorFlowchartScript").then(function(){C.forEach(function(L){if(L.getAttribute("data-processed")!=="true"){var O=flowchart.parse(p.flowchartRenderAdapter.getCode(L));L.innerHTML="",O.drawSVG(L),L.setAttribute("data-processed","true")}})})}},218:(b,y,g)=>{g.d(y,{v:()=>E});var u=g(54),v=g(526),p=g(156),E=function(m,w){w===void 0&&(w=u.g.CDN);var C=p.graphvizRenderAdapter.getElements(m);C.length!==0&&(0,v.G)(w+"/dist/js/graphviz/viz.js","vditorGraphVizScript").then(function(){C.forEach(function(L){var O=p.graphvizRenderAdapter.getCode(L);if(!L.parentElement.classList.contains("vditor-wysiwyg__pre")&&!L.parentElement.classList.contains("vditor-ir__marker--pre")&&L.getAttribute("data-processed")!=="true"&&O.trim()!==""){try{var N=new Blob(["importScripts('"+document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js")+"');"],{type:"application/javascript"}),I=(window.URL||window.webkitURL).createObjectURL(N),M=new Worker(I);new Viz({worker:M}).renderSVGElement(O).then(function(H){L.innerHTML=H.outerHTML}).catch(function(H){L.innerHTML="graphviz render error: <br>"+H,L.className="vditor-reset--error"})}catch(H){console.error("graphviz error",H)}L.setAttribute("data-processed","true")}})})}},702:(b,y,g)=>{g.d(y,{s:()=>E});var u=g(54),v=g(526),p=g(578),E=function(m,w,C){w===void 0&&(w=document),C===void 0&&(C=u.g.CDN);var L=m.style;u.g.CODE_THEME.includes(L)||(L="github");var O=document.getElementById("vditorHljsStyle"),N=C+"/dist/js/highlight.js/styles/"+L+".css";O&&O.href!==N&&O.remove(),(0,p.c)(C+"/dist/js/highlight.js/styles/"+L+".css","vditorHljsStyle"),m.enable!==!1&&w.querySelectorAll("pre > code").length!==0&&(0,v.G)(C+"/dist/js/highlight.js/highlight.pack.js","vditorHljsScript").then(function(){(0,v.G)(C+"/dist/js/highlight.js/solidity.min.js","vditorHljsSolidityScript").then(function(){(0,v.G)(C+"/dist/js/highlight.js/yul.min.js","vditorHljsYulScript").then(function(){w.querySelectorAll("pre > code").forEach(function(I){if(!I.parentElement.classList.contains("vditor-ir__marker--pre")&&!I.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(I.classList.contains("language-mermaid")||I.classList.contains("language-flowchart")||I.classList.contains("language-echarts")||I.classList.contains("language-mindmap")||I.classList.contains("language-plantuml")||I.classList.contains("language-abc")||I.classList.contains("language-graphviz")||I.classList.contains("language-math"))&&(hljs.highlightElement(I),m.lineNumber)){I.classList.add("vditor-linenumber");var M=I.querySelector(".vditor-linenumber__temp");M||((M=document.createElement("div")).className="vditor-linenumber__temp",I.insertAdjacentElement("beforeend",M));var H=getComputedStyle(I).whiteSpace,k=!1;H!=="pre-wrap"&&H!=="pre-line"||(k=!0);var F="",q=I.textContent.split(/\r\n|\r|\n/g);q.pop(),q.map(function(X){var ee="";k&&(M.textContent=X||`
`,ee=' style="height:'+M.getBoundingClientRect().height+'px"'),F+="<span"+ee+"></span>"}),M.style.display="none",F='<span class="vditor-linenumber__rows">'+F+"</span>",I.insertAdjacentHTML("beforeend",F)}})})})})}},563:(b,y,g)=>{g.d(y,{K:()=>w});var u=g(54),v=g(526),p=g(156),E={},m=function(C,L){var O=window.markmap,N=O.Transformer,I=O.Markmap,M=O.deriveOptions,H=(O.globalCSS,new N);C.innerHTML='<svg style="width:100%"></svg>';var k=C.firstChild,F=I.create(k,null),q=function($,be){var ke=$.transform(be),He=Object.keys(ke.features).filter(function(Ue){return!E[Ue]});He.forEach(function(Ue){E[Ue]=!0});var _e=$.getAssets(He),Te=_e.styles,Ee=_e.scripts,ct=window.markmap;return Te&&ct.loadCSS(Te),Ee&&ct.loadJS(Ee),ke}(H,L),X=q.root,ee=q.frontmatter,le=M(ee==null?void 0:ee.markmap);F.setData(X,le),F.fit()},w=function(C,L,O){L===void 0&&(L=u.g.CDN);var N=p.markmapRenderAdapter.getElements(C);N.length!==0&&(0,v.G)(L+"/src/js/markmap/markmap.min.js","vditorMermaidScript").then(function(){N.forEach(function(I){var M=p.markmapRenderAdapter.getCode(I);if(I.getAttribute("data-processed")!=="true"&&M.trim()!==""){var H=document.createElement("div");H.className="language-markmap",I.parentNode.appendChild(H),m(H,M),I.parentNode.childNodes[0].nodeName=="CODE"&&I.parentNode.removeChild(I.parentNode.childNodes[0])}})})}},466:(b,y,g)=>{g.d(y,{H:()=>w});var u=g(54),v=g(526),p=g(578),E=g(51),m=g(156),w=function(C,L){var O=m.mathRenderAdapter.getElements(C);if(O.length!==0){var N={cdn:u.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(L&&L.math&&(L.math=Object.assign({},N.math,L.math)),(L=Object.assign({},N,L)).math.engine==="KaTeX")(0,p.c)(L.cdn+"/dist/js/katex/katex.min.css","vditorKatexStyle"),(0,v.G)(L.cdn+"/dist/js/katex/katex.min.js","vditorKatexScript").then(function(){(0,v.G)(L.cdn+"/dist/js/katex/mhchem.min.js","vditorKatexChemScript").then(function(){O.forEach(function(M){if(!M.parentElement.classList.contains("vditor-wysiwyg__pre")&&!M.parentElement.classList.contains("vditor-ir__marker--pre")&&!M.getAttribute("data-math")){var H=(0,E.X)(m.mathRenderAdapter.getCode(M));M.setAttribute("data-math",H);try{M.innerHTML=katex.renderToString(H,{displayMode:M.tagName==="DIV",output:"html"})}catch(k){M.innerHTML=k.message,M.className="language-math vditor-reset--error"}M.addEventListener("copy",function(k){k.stopPropagation(),k.preventDefault();var F=k.currentTarget.closest(".language-math");k.clipboardData.setData("text/html",F.innerHTML),k.clipboardData.setData("text/plain",F.getAttribute("data-math"))})}})})});else if(L.math.engine==="MathJax"){window.MathJax||(window.MathJax={loader:{paths:{mathjax:L.cdn+"/dist/js/mathjax"}},startup:{typeset:!1},tex:{macros:L.math.macros}}),(0,v.J)(L.cdn+"/dist/js/mathjax/tex-svg-full.js","protyleMathJaxScript");var I=function(M,H){var k=(0,E.X)(M.textContent).trim(),F=window.MathJax.getMetricsFor(M);F.display=M.tagName==="DIV",window.MathJax.tex2svgPromise(k,F).then(function(q){M.innerHTML="",M.setAttribute("data-math",k),M.append(q),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var X=q.querySelector('[data-mml-node="merror"]');X&&X.textContent.trim()!==""&&(M.innerHTML=X.textContent.trim(),M.className="vditor-reset--error"),H&&H()})};window.MathJax.startup.promise.then(function(){for(var M=[],H=function(F){var q=O[F];q.parentElement.classList.contains("vditor-wysiwyg__pre")||q.parentElement.classList.contains("vditor-ir__marker--pre")||q.getAttribute("data-math")||!(0,E.X)(q.textContent).trim()||M.push(function(X){F===O.length-1?I(q):I(q,X)})},k=0;k<O.length;k++)H(k);(function(F){if(F.length!==0){var q=0,X=F[F.length-1],ee=function(){var le=F[q++];le===X?le():le(ee)};ee()}})(M)})}}}},554:(b,y,g)=>{g.d(y,{Y:()=>u});var u=function(v){v&&v.querySelectorAll("a").forEach(function(p){var E=p.getAttribute("href");E&&(E.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(m,w){m.insertAdjacentHTML("afterend",'<video controls="controls" src="'+w+'"></video>'),m.remove()}(p,E):E.match(/^.+.(mp3|wav|flac)$/)?function(m,w){m.insertAdjacentHTML("afterend",'<audio controls="controls" src="'+w+'"></audio>'),m.remove()}(p,E):function(m,w){var C=w.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),L=w.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),O=w.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),N=w.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),I=w.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),M=w.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),H=w.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),k=w.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);C&&C[1].length===11?(m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'+C[1]+(C[2]?"?start="+C[2]:"")+'"></iframe>'),m.remove()):L&&L[1]?(m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'+L[1]+'"></iframe>'),m.remove()):O&&O[1]?(m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='+O[1]+'"></iframe>'),m.remove()):N&&N[1]?(m.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`+N[1]+'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>'),m.remove()):I&&I[0]?(m.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`+encodeURIComponent(I[0])+'"></iframe>'),m.remove()):M&&M[2]?(m.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`+M[2]+'"></iframe>'),m.remove()):H&&H[1]?(m.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//player.bilibili.com/player.html?bvid=`+H[1]+'"></iframe>'),m.remove()):k&&k[1]&&(m.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'+k[1]+'"></iframe>'),m.remove())}(p,E))})}},40:(b,y,g)=>{g.d(y,{i:()=>E});var u=g(54),v=g(526),p=g(156),E=function(m,w,C){w===void 0&&(w=u.g.CDN);var L=p.mermaidRenderAdapter.getElements(m);L.length!==0&&(0,v.G)(w+"/dist/js/mermaid/mermaid.min.js","vditorMermaidScript").then(function(){var O={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8},gantt:{leftPadding:75,rightPadding:20}};C==="dark"&&(O.theme="dark"),mermaid.initialize(O),L.forEach(function(N){var I=p.mermaidRenderAdapter.getCode(N);N.getAttribute("data-processed")!=="true"&&I.trim()!==""&&(mermaid.init(void 0,N),N.setAttribute("data-processed","true"))})})}},749:(b,y,g)=>{g.d(y,{P:()=>E});var u=g(54),v=g(526),p=g(156),E=function(m,w,C){m===void 0&&(m=document),w===void 0&&(w=u.g.CDN);var L=p.mindmapRenderAdapter.getElements(m);L.length>0&&(0,v.G)(w+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){L.forEach(function(O){if(!O.parentElement.classList.contains("vditor-wysiwyg__pre")&&!O.parentElement.classList.contains("vditor-ir__marker--pre")){var N=p.mindmapRenderAdapter.getCode(O);if(N)try{if(O.getAttribute("data-processed")==="true")return;echarts.init(O,C==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(N))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(I,M){var H;return!((H=M==null?void 0:M.data)===null||H===void 0)&&H.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),O.setAttribute("data-processed","true")}catch(I){O.className="vditor-reset--error",O.innerHTML="mindmap render error: <br>"+I}}})})}},818:(b,y,g)=>{g.d(y,{k:()=>p});var u=g(64),v=g(466),p=function(E,m,w){var C="",L=[];if(Array.from(E.children).forEach(function(M,H){if((0,u.W)(M)){if(w){var k=M.id.lastIndexOf("_");M.id=M.id.substring(0,k===-1?void 0:k)+"_"+H}L.push(M.id),C+=M.outerHTML.replace("<wbr>","")}}),C==="")return m.innerHTML="","";var O=document.createElement("div");if(w)w.lute.SetToC(!0),w.currentMode!=="wysiwyg"||w.preview.element.contains(E)?w.currentMode!=="ir"||w.preview.element.contains(E)?O.innerHTML=w.lute.HTML2VditorDOM("<p>[ToC]</p>"+C):O.innerHTML=w.lute.SpinVditorIRDOM("<p>[ToC]</p>"+C):O.innerHTML=w.lute.SpinVditorDOM("<p>[ToC]</p>"+C),w.lute.SetToC(w.options.preview.markdown.toc);else{m.classList.add("vditor-outline");var N=Lute.New();N.SetToC(!0),O.innerHTML=N.HTML2VditorDOM("<p>[ToC]</p>"+C)}var I=O.firstElementChild.querySelectorAll("li > span[data-target-id]");return I.forEach(function(M,H){if(M.nextElementSibling&&M.nextElementSibling.tagName==="UL"){var k="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(k='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),M.innerHTML=k+"<span>"+M.innerHTML+"</span>"}else M.innerHTML="<svg></svg><span>"+M.innerHTML+"</span>";M.setAttribute("data-target-id",L[H])}),C=O.firstElementChild.innerHTML,I.length===0?(m.innerHTML="",C):(m.innerHTML=C,w&&(0,v.H)(m,{cdn:w.options.cdn,math:w.options.preview.math}),m.firstElementChild.addEventListener("click",function(M){for(var H=M.target;H&&!H.isEqualNode(m);){if(H.classList.contains("vditor-outline__action")){H.classList.contains("vditor-outline__action--close")?(H.classList.remove("vditor-outline__action--close"),H.parentElement.nextElementSibling.setAttribute("style","display:block")):(H.classList.add("vditor-outline__action--close"),H.parentElement.nextElementSibling.setAttribute("style","display:none")),M.preventDefault(),M.stopPropagation();break}if(H.getAttribute("data-target-id")){M.preventDefault(),M.stopPropagation();var k=document.getElementById(H.getAttribute("data-target-id"));if(!k)return;if(w)if(w.options.height==="auto"){var F=k.offsetTop+w.element.offsetTop;w.options.toolbarConfig.pin||(F+=w.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,F)}else w.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,w.element.offsetTop),w.preview.element.contains(E)?E.parentElement.scrollTop=k.offsetTop:E.scrollTop=k.offsetTop;else window.scrollTo(window.scrollX,k.offsetTop);break}H=H.parentElement}}),C)}},408:(b,y,g)=>{g.d(y,{B:()=>E});var u=g(54),v=g(526),p=g(156),E=function(m,w){m===void 0&&(m=document),w===void 0&&(w=u.g.CDN);var C=p.plantumlRenderAdapter.getElements(m);C.length!==0&&(0,v.G)(w+"/dist/js/plantuml/plantuml-encoder.min.js","vditorPlantumlScript").then(function(){C.forEach(function(L){if(!L.parentElement.classList.contains("vditor-wysiwyg__pre")&&!L.parentElement.classList.contains("vditor-ir__marker--pre")){var O=p.plantumlRenderAdapter.getCode(L).trim();if(O)try{L.innerHTML='<img src="http://www.plantuml.com/plantuml/svg/~1'+plantumlEncoder.encode(O)+'">'}catch(N){L.className="vditor-reset--error",L.innerHTML="plantuml render error: <br>"+N}}})})}},895:(b,y,g)=>{g.d(y,{X:()=>u});var u=function(v){var p=Lute.New();return p.PutEmojis(v.emojis),p.SetEmojiSite(v.emojiSite),p.SetHeadingAnchor(v.headingAnchor),p.SetInlineMathAllowDigitAfterOpenMarker(v.inlineMathDigit),p.SetAutoSpace(v.autoSpace),p.SetToC(v.toc),p.SetFootnotes(v.footnotes),p.SetFixTermTypo(v.fixTermTypo),p.SetVditorCodeBlockPreview(v.codeBlockPreview),p.SetVditorMathBlockPreview(v.mathBlockPreview),p.SetSanitize(v.sanitize),p.SetChineseParagraphBeginningSpace(v.paragraphBeginningSpace),p.SetRenderListStyle(v.listStyle),p.SetLinkBase(v.linkBase),p.SetLinkPrefix(v.linkPrefix),p.SetMark(v.mark),v.lazyLoadImage&&p.SetImageLazyLoading(v.lazyLoadImage),p}},863:(b,y,g)=>{g.d(y,{E:()=>u});var u=function(v,p,E){E===void 0&&(E="classic");var m=v.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'+(E==="dark"?" vditor--dark":"")+`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `+window.VditorI18n.spin+`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`+window.VditorI18n.close+`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `+v.width+"px;height:"+v.height+"px;transform: translate3d("+m.left+"px, "+(m.top-36)+'px, 0)" src="'+v.getAttribute("src")+`">
    </div>
</div>`),document.body.style.overflow="hidden";var w=document.querySelector(".vditor-img img"),C="translate3d("+Math.max(0,window.innerWidth-v.naturalWidth)/2+"px, "+Math.max(0,window.innerHeight-36-v.naturalHeight)/2+"px, 0)";setTimeout(function(){w.setAttribute("style","transition: transform .3s ease-in-out;transform: "+C),setTimeout(function(){w.parentElement.scrollTo((w.parentElement.scrollWidth-w.parentElement.clientWidth)/2,(w.parentElement.scrollHeight-w.parentElement.clientHeight)/2)},400)});var L=document.querySelector(".vditor-img__btn");L.addEventListener("click",function(){var O=parseInt(L.getAttribute("data-deg"),10)+90;O/90%2==1&&v.naturalWidth>w.parentElement.clientHeight?w.style.transform="translate3d("+Math.max(0,window.innerWidth-v.naturalWidth)/2+"px, "+(v.naturalWidth/2-v.naturalHeight/2)+"px, 0) rotateZ("+O+"deg)":w.style.transform=C+" rotateZ("+O+"deg)",L.setAttribute("data-deg",O.toString()),setTimeout(function(){w.parentElement.scrollTo((w.parentElement.scrollWidth-w.parentElement.clientWidth)/2,(w.parentElement.scrollHeight-w.parentElement.clientHeight)/2)},400)})}},312:(b,y,g)=>{g.d(y,{Y:()=>p});var u=g(54),v=g(578),p=function(E,m){m===void 0&&(m=u.g.CDN),u.g.CODE_THEME.includes(E)||(E="github");var w=document.getElementById("vditorHljsStyle"),C=m+"/dist/js/highlight.js/styles/"+E+".css";w?w.href!==C&&(w.remove(),(0,v.c)(C,"vditorHljsStyle")):(0,v.c)(C,"vditorHljsStyle")}},227:(b,y,g)=>{g.d(y,{Z:()=>v});var u=g(578),v=function(p,E){if(p&&E){var m=document.getElementById("vditorContentTheme"),w=E+"/"+p+".css";m?m.getAttribute("href")!==w&&(m.remove(),(0,u.c)(w,"vditorContentTheme")):(0,u.c)(w,"vditorContentTheme")}}},526:(b,y,g)=>{g.d(y,{J:()=>u,G:()=>v});var u=function(p,E){if(document.getElementById(E))return!1;var m=new XMLHttpRequest;m.open("GET",p,!1),m.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),m.send("");var w=document.createElement("script");w.type="text/javascript",w.text=m.responseText,w.id=E,document.head.appendChild(w)},v=function(p,E){return new Promise(function(m,w){if(document.getElementById(E))return m(),!1;var C=document.createElement("script");C.src=p,C.async=!0,document.head.appendChild(C),C.onload=function(){if(document.getElementById(E))return C.remove(),m(),!1;C.id=E,m()}})}},578:(b,y,g)=>{g.d(y,{c:()=>u});var u=function(v,p){if(!document.getElementById(p)){var E=document.createElement("link");E.id=p,E.rel="stylesheet",E.type="text/css",E.href=v,document.getElementsByTagName("head")[0].appendChild(E)}}},51:(b,y,g)=>{g.d(y,{X:()=>u});var u=function(v){return v.replace(/\u00a0/g," ")}},794:(b,y,g)=>{g.d(y,{G6:()=>u,vU:()=>v,pK:()=>p,Le:()=>E,yl:()=>m,ns:()=>w,i7:()=>C});var u=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},v=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},p=function(){try{return typeof localStorage<"u"}catch{return!1}},E=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},m=function(L){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!(!L.metaKey||L.ctrlKey):!(L.metaKey||!L.ctrlKey)},w=function(L){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?L.indexOf("\u21E7")>-1&&v()&&(L=L.replace(";",":").replace("=","+").replace("-","_")):(L=(L=L.startsWith("\u2318")?L.replace("\u2318","\u2318+"):L.startsWith("\u2325")&&L.substr(1,1)!=="\u2318"?L.replace("\u2325","\u2325+"):L.replace("\u21E7\u2318","\u2318+\u21E7+").replace("\u2325\u2318","\u2325+\u2318+")).replace("\u2318","Ctrl").replace("\u21E7","Shift").replace("\u2325","Alt")).indexOf("Shift")>-1&&(L=L.replace(";",":").replace("=","+").replace("-","_")),L},C=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},827:(b,y,g)=>{g.d(y,{JQ:()=>v,E2:()=>p,O9:()=>E,a1:()=>m,F9:()=>w,lG:()=>C,fb:()=>L,DX:()=>O});var u=g(64),v=function(N,I){for(var M=L(N,I),H=!1,k=!1;M&&!M.classList.contains("vditor-reset")&&!k;)(H=L(M.parentElement,I))?M=H:k=!0;return M||!1},p=function(N,I){for(var M=(0,u.S)(N,I),H=!1,k=!1;M&&!M.classList.contains("vditor-reset")&&!k;)(H=(0,u.S)(M.parentElement,I))?M=H:k=!0;return M||!1},E=function(N){var I=p(N,"UL"),M=p(N,"OL"),H=I;return M&&(!I||I&&M.contains(I))&&(H=M),H},m=function(N,I,M){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var H=N,k=!1;H&&!k&&!H.classList.contains("vditor-reset");)H.getAttribute(I)===M?k=!0:H=H.parentElement;return k&&H},w=function(N){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);var I=N,M=!1,H=m(N,"data-block","0");if(H)return H;for(;I&&!M&&!I.classList.contains("vditor-reset");)I.tagName==="H1"||I.tagName==="H2"||I.tagName==="H3"||I.tagName==="H4"||I.tagName==="H5"||I.tagName==="H6"||I.tagName==="P"||I.tagName==="BLOCKQUOTE"||I.tagName==="OL"||I.tagName==="UL"?M=!0:I=I.parentElement;return M&&I},C=function(N,I){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var M=N,H=!1;M&&!H&&!M.classList.contains("vditor-reset");)M.nodeName===I?H=!0:M=M.parentElement;return H&&M},L=function(N,I){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var M=N,H=!1;M&&!H&&!M.classList.contains("vditor-reset");)M.classList.contains(I)?H=!0:M=M.parentElement;return H&&M},O=function(N){for(;N&&N.lastChild;)N=N.lastChild;return N}},64:(b,y,g)=>{g.d(y,{S:()=>u,W:()=>v});var u=function(p,E){if(!p)return!1;p.nodeType===3&&(p=p.parentElement);for(var m=p,w=!1;m&&!w&&!m.classList.contains("vditor-reset");)m.nodeName.indexOf(E)===0?w=!0:m=m.parentElement;return w&&m},v=function(p){var E=u(p,"H");return!(!E||E.tagName.length!==2||E.tagName==="HR")&&E}},640:(b,y,g)=>{g.d(y,{T:()=>u});var u=function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];for(var E={},m=function(C){for(var L in C)C.hasOwnProperty(L)&&(Object.prototype.toString.call(C[L])==="[object Object]"?E[L]=u(E[L],C[L]):E[L]=C[L])},w=0;w<v.length;w++)m(v[w]);return E}},393:(b,y,g)=>{g.d(y,{zh:()=>E,Ny:()=>m,Gb:()=>w,Hc:()=>C,im:()=>L,$j:()=>O,ib:()=>N,oC:()=>I});var u=g(54),v=g(794),p=g(827),E=function(M){var H,k=M[M.currentMode].element;return getSelection().rangeCount>0&&(H=getSelection().getRangeAt(0),k.isEqualNode(H.startContainer)||k.contains(H.startContainer))?H:M[M.currentMode].range?M[M.currentMode].range:(k.focus(),(H=k.ownerDocument.createRange()).setStart(k,0),H.collapse(!0),H)},m=function(M){var H=window.getSelection().getRangeAt(0);if(!M.contains(H.startContainer)&&!(0,p.fb)(H.startContainer,"vditor-panel--none"))return{left:0,top:0};var k,F=M.parentElement.getBoundingClientRect();if(H.getClientRects().length===0)if(H.startContainer.nodeType===3){var q=H.startContainer.parentElement;if(!(q&&q.getClientRects().length>0))return{left:0,top:0};k=q.getClientRects()[0]}else{var X=H.startContainer.children;if(X[H.startOffset]&&X[H.startOffset].getClientRects().length>0)k=X[H.startOffset].getClientRects()[0];else if(H.startContainer.childNodes.length>0){var ee=H.cloneRange();H.selectNode(H.startContainer.childNodes[Math.max(0,H.startOffset-1)]),k=H.getClientRects()[0],H.setEnd(ee.endContainer,ee.endOffset),H.setStart(ee.startContainer,ee.startOffset)}else k=H.startContainer.getClientRects()[0];if(!k){for(var le=H.startContainer.childNodes[H.startOffset];!le.getClientRects||le.getClientRects&&le.getClientRects().length===0;)le=le.parentElement;k=le.getClientRects()[0]}}else k=H.getClientRects()[0];return{left:k.left-F.left,top:k.top-F.top}},w=function(M,H){if(!H){if(getSelection().rangeCount===0)return!1;H=getSelection().getRangeAt(0)}var k=H.commonAncestorContainer;return M.isEqualNode(k)||M.contains(k)},C=function(M){var H=window.getSelection();H.removeAllRanges(),H.addRange(M)},L=function(M,H,k){var F={end:0,start:0};if(!k){if(getSelection().rangeCount===0)return F;k=window.getSelection().getRangeAt(0)}if(w(H,k)){var q=k.cloneRange();M.childNodes[0]&&M.childNodes[0].childNodes[0]?q.setStart(M.childNodes[0].childNodes[0],0):q.selectNodeContents(M),q.setEnd(k.startContainer,k.startOffset),F.start=q.toString().length,F.end=F.start+k.toString().length}return F},O=function(M,H,k){var F=0,q=0,X=k.childNodes[q],ee=!1,le=!1;M=Math.max(0,M),H=Math.max(0,H);var $=k.ownerDocument.createRange();for($.setStart(X||k,0),$.collapse(!0);!le&&X;){var be=F+X.textContent.length;if(!ee&&M>=F&&M<=be&&(M===0?$.setStart(X,0):X.childNodes[0].nodeType===3?$.setStart(X.childNodes[0],M-F):X.nextSibling?$.setStartBefore(X.nextSibling):$.setStartAfter(X),ee=!0,M===H)){le=!0;break}ee&&H>=F&&H<=be&&(H===0?$.setEnd(X,0):X.childNodes[0].nodeType===3?$.setEnd(X.childNodes[0],H-F):X.nextSibling?$.setEndBefore(X.nextSibling):$.setEndAfter(X),le=!0),F=be,X=k.childNodes[++q]}return!le&&k.childNodes[q-1]&&$.setStartBefore(k.childNodes[q-1]),C($),$},N=function(M,H){var k=M.querySelector("wbr");if(k){if(k.previousElementSibling)if(k.previousElementSibling.isSameNode(k.previousSibling)){if(k.previousElementSibling.lastChild)return H.setStartBefore(k),H.collapse(!0),C(H),!(0,v.i7)()||k.previousElementSibling.tagName!=="EM"&&k.previousElementSibling.tagName!=="STRONG"&&k.previousElementSibling.tagName!=="S"||(H.insertNode(document.createTextNode(u.g.ZWSP)),H.collapse(!1)),void k.remove();H.setStartAfter(k.previousElementSibling)}else H.setStart(k.previousSibling,k.previousSibling.textContent.length);else k.previousSibling?H.setStart(k.previousSibling,k.previousSibling.textContent.length):k.nextSibling?k.nextSibling.nodeType===3?H.setStart(k.nextSibling,0):H.setStartBefore(k.nextSibling):H.setStart(k.parentElement,0);H.collapse(!0),k.remove(),C(H)}},I=function(M,H){var k=document.createElement("div");k.innerHTML=M;var F=k.querySelectorAll("p");F.length===1&&!F[0].previousSibling&&!F[0].nextSibling&&H[H.currentMode].element.children.length>0&&k.firstElementChild.tagName==="P"&&(M=F[0].innerHTML.trim());var q=document.createElement("div");q.innerHTML=M;var X=E(H);if(X.toString()!==""&&(H[H.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),q.firstElementChild&&q.firstElementChild.getAttribute("data-block")==="0"){q.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var ee=(0,p.F9)(X.startContainer);ee?ee.insertAdjacentHTML("afterend",q.innerHTML):H[H.currentMode].element.insertAdjacentHTML("beforeend",q.innerHTML),N(H[H.currentMode].element,X)}else{var le=document.createElement("template");le.innerHTML=M,X.insertNode(le.content.cloneNode(!0)),X.collapse(!1),C(X)}}}},d={};function f(b){var y=d[b];if(y!==void 0)return y.exports;var g=d[b]={exports:{}};return l[b](g,g.exports,f),g.exports}f.d=(b,y)=>{for(var g in y)f.o(y,g)&&!f.o(b,g)&&Object.defineProperty(b,g,{enumerable:!0,get:y[g]})},f.o=(b,y)=>Object.prototype.hasOwnProperty.call(b,y),f.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var h={};return(()=>{f.d(h,{default:()=>Mc});var b,y=f(872),g=f(54),u=f(51),v=function(t){return t.currentMode==="sv"?(0,u.X)((t.sv.element.textContent+`
`).replace(/\n\n$/,`
`)):t.currentMode==="wysiwyg"?t.lute.VditorDOM2Md(t.wysiwyg.element.innerHTML):t.currentMode==="ir"?t.lute.VditorIRDOM2Md(t.ir.element.innerHTML):""},p=f(526),E=function(){function t(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return t.prototype.renderEchart=function(n){var r=this;n.devtools.element.style.display==="block"&&(0,p.G)(n.options.cdn+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){r.ASTChart||(r.ASTChart=echarts.init(n.devtools.element.lastElementChild));try{r.element.lastElementChild.style.display="block",r.element.firstElementChild.innerHTML="",r.ASTChart.setOption({series:[{data:JSON.parse(n.lute.RenderEChartsJSON(v(n))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),r.ASTChart.resize()}catch(s){r.element.lastElementChild.style.display="none",r.element.firstElementChild.innerHTML=s}})},t}(),m=f(794),w=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&s.classList.contains("vditor-menu--current")&&s.classList.remove("vditor-menu--current")}})},C=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&!s.classList.contains("vditor-menu--current")&&s.classList.add("vditor-menu--current")}})},L=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&s.classList.contains(g.g.CLASS_MENU_DISABLED)&&s.classList.remove(g.g.CLASS_MENU_DISABLED)}})},O=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&!s.classList.contains(g.g.CLASS_MENU_DISABLED)&&s.classList.add(g.g.CLASS_MENU_DISABLED)}})},N=function(t,n){n.forEach(function(r){t[r]&&t[r]&&(t[r].style.display="none")})},I=function(t,n){n.forEach(function(r){t[r]&&t[r]&&(t[r].style.display="block")})},M=function(t,n,r){n.includes("subToolbar")&&(t.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(s){r&&s.isEqualNode(r)||(s.style.display="none")}),t.toolbar.elements.emoji&&(t.toolbar.elements.emoji.lastElementChild.style.display="none")),n.includes("hint")&&(t.hint.element.style.display="none"),t.wysiwyg.popover&&n.includes("popover")&&(t.wysiwyg.popover.style.display="none")},H=function(t,n,r,s){r.addEventListener((0,m.Le)(),function(i){i.preventDefault(),i.stopPropagation(),r.classList.contains(g.g.CLASS_MENU_DISABLED)||(t.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(a){a.classList.remove("vditor-hint--current")}),n.style.display==="block"?n.style.display="none":(M(t,["subToolbar","hint","popover"],r.parentElement.parentElement),r.classList.contains("vditor-tooltipped")||r.classList.add("vditor-hint--current"),n.style.display="block",t.toolbar.element.getBoundingClientRect().right-r.getBoundingClientRect().right<250?n.classList.add("vditor-panel--left"):n.classList.remove("vditor-panel--left")))})},k=f(827),F=f(64),q=function(t,n,r,s){s&&console.log(t+" - "+r+": "+n)},X=f(478),ee=f(314),le=f(730),$=f(66),be=f(218),ke=f(702),He=f(466),_e=f(40),Te=f(563),Ee=f(749),ct=f(408),Ue=function(t,n){if(t)if(t.parentElement.getAttribute("data-type")!=="html-block"){var r=t.firstElementChild.className.replace("language-","");r?(r==="abc"?(0,X.Q)(t,n.options.cdn):r==="mermaid"?(0,_e.i)(t,n.options.cdn,n.options.theme):r==="markmap"?(0,Te.K)(t,n.options.cdn,n.options.theme):r==="flowchart"?(0,$.P)(t,n.options.cdn):r==="echarts"?(0,ee.p)(t,n.options.cdn,n.options.theme):r==="mindmap"?(0,Ee.P)(t,n.options.cdn,n.options.theme):r==="plantuml"?(0,ct.B)(t,n.options.cdn):r==="graphviz"?(0,be.v)(t,n.options.cdn):r==="math"?(0,He.H)(t,{cdn:n.options.cdn,math:n.options.preview.math}):((0,ke.s)(Object.assign({},n.options.preview.hljs),t,n.options.cdn),(0,le.O)(t)),t.setAttribute("data-render","1")):(0,le.O)(t)}else t.setAttribute("data-render","1")},P=f(393),Je=function(t){if(t.currentMode!=="sv"){var n=t[t.currentMode].element,r=t.outline.render(t);r===""&&(r="[ToC]"),n.querySelectorAll('[data-type="toc-block"]').forEach(function(s){s.innerHTML=r,(0,He.H)(s,{cdn:t.options.cdn,math:t.options.preview.math})})}},on=function(t,n){var r=(0,k.lG)(t.target,"SPAN");if(r&&(0,k.fb)(r,"vditor-toc")){var s=n[n.currentMode].element.querySelector("#"+r.getAttribute("data-target-id"));if(s)if(n.options.height==="auto"){var i=s.offsetTop+n.element.offsetTop;n.options.toolbarConfig.pin||(i+=n.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,i)}else n.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,n.element.offsetTop),n[n.currentMode].element.scrollTop=s.offsetTop}},de=function(t,n,r,s){if(t.previousElementSibling&&t.previousElementSibling.classList.contains("vditor-toc")){if(r.key==="Backspace"&&(0,P.im)(t,n[n.currentMode].element,s).start===0)return t.previousElementSibling.remove(),Ne(n),!0;if(wn(n,r,s,t,t.previousElementSibling))return!0}if(t.nextElementSibling&&t.nextElementSibling.classList.contains("vditor-toc")){if(r.key==="Delete"&&(0,P.im)(t,n[n.currentMode].element,s).start>=t.textContent.trimRight().length)return t.nextElementSibling.remove(),Ne(n),!0;if(qn(n,r,s,t,t.nextElementSibling))return!0}if(r.key==="Backspace"||r.key==="Delete"){var i=(0,k.fb)(s.startContainer,"vditor-toc");if(i)return i.remove(),Ne(n),!0}},je=function(t,n,r,s){r===void 0&&(r=!1);var i=(0,k.F9)(n.startContainer);if(i&&!r&&i.getAttribute("data-type")!=="code-block"){if(ri(i.innerHTML)&&i.previousElementSibling||ii(i.innerHTML))return;for(var a=(0,P.im)(i,t.ir.element,n).start,c=!0,_=a-1;_>i.textContent.substr(0,a).lastIndexOf(`
`);_--)if(i.textContent.charAt(_)!==" "&&i.textContent.charAt(_)!=="	"){c=!1;break}a===0&&(c=!1);var x=!0;for(_=a-1;_<i.textContent.length;_++)if(i.textContent.charAt(_)!==" "&&i.textContent.charAt(_)!==`
`){x=!1;break}if(c)return void(typeof t.options.input=="function"&&t.options.input(v(t)));if(x&&!(0,k.fb)(n.startContainer,"vditor-ir__marker")){var S=n.startContainer.previousSibling;return S&&S.nodeType!==3&&S.classList.contains("vditor-ir__node--expand")&&S.classList.remove("vditor-ir__node--expand"),void(typeof t.options.input=="function"&&t.options.input(v(t)))}}if(t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(ce){ce.classList.remove("vditor-ir__node--expand")}),i||(i=t.ir.element),!i.querySelector("wbr")){var T=(0,k.fb)(n.startContainer,"vditor-ir__preview");T?T.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):n.insertNode(document.createElement("wbr"))}i.querySelectorAll("[style]").forEach(function(ce){ce.removeAttribute("style")}),i.getAttribute("data-type")==="link-ref-defs-block"&&(i=t.ir.element);var B,Z=i.isEqualNode(t.ir.element),ne=(0,k.a1)(i,"data-type","footnotes-block"),j="";if(Z)j=i.innerHTML;else{var W=(0,F.S)(n.startContainer,"BLOCKQUOTE"),me=(0,k.O9)(n.startContainer);if(me&&(i=me),W&&(!me||me&&!W.contains(me))&&(i=W),ne&&(i=ne),j=i.outerHTML,i.tagName==="UL"||i.tagName==="OL"){var Y=i.previousElementSibling,ae=i.nextElementSibling;!Y||Y.tagName!=="UL"&&Y.tagName!=="OL"||(j=Y.outerHTML+j,Y.remove()),!ae||ae.tagName!=="UL"&&ae.tagName!=="OL"||(j+=ae.outerHTML,ae.remove()),j=j.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else i.previousElementSibling&&i.previousElementSibling.textContent.replace(g.g.ZWSP,"")!==""&&s&&s.inputType==="insertParagraph"&&(j=i.previousElementSibling.outerHTML+j,i.previousElementSibling.remove());i.innerText.startsWith("```")||(t.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(ce){ce&&!i.isEqualNode(ce)&&(j+=ce.outerHTML,ce.remove())}),t.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(ce){ce&&!i.isEqualNode(ce)&&(j+=ce.outerHTML,ce.remove())}))}if(q("SpinVditorIRDOM",j,"argument",t.options.debugger),j=t.lute.SpinVditorIRDOM(j),q("SpinVditorIRDOM",j,"result",t.options.debugger),Z)i.innerHTML=j;else if(i.outerHTML=j,ne){var J=(0,k.a1)(t.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(J){var U=J.textContent,pe=U.substring(1,U.indexOf("]:")),Ce=t.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+pe+'"]');Ce&&Ce.setAttribute("aria-label",U.substr(pe.length+3).trim().substr(0,24))}}var ye,xe=t.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");xe.forEach(function(ce,We){We===0?B=ce:(B.insertAdjacentHTML("beforeend",ce.innerHTML),ce.remove())}),xe.length>0&&t.ir.element.insertAdjacentElement("beforeend",xe[0]);var Ae=t.ir.element.querySelectorAll("[data-type='footnotes-block']");Ae.forEach(function(ce,We){We===0?ye=ce:(ye.insertAdjacentHTML("beforeend",ce.innerHTML),ce.remove())}),Ae.length>0&&t.ir.element.insertAdjacentElement("beforeend",Ae[0]),(0,P.ib)(t.ir.element,n),t.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(ce){Ue(ce,t)}),Je(t),jt(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},te=function(t,n){if(t==="")return!1;if(t.indexOf("\u21E7")===-1&&t.indexOf("\u2318")===-1&&t.indexOf("\u2325")===-1)return!((0,m.yl)(n)||n.altKey||n.shiftKey||n.code!==t);if(t==="\u21E7Tab")return!((0,m.yl)(n)||n.altKey||!n.shiftKey||n.code!=="Tab");var r=t.split("");if(t.startsWith("\u2325")){var s=r.length===3?r[2]:r[1];return!((r.length===3?!(0,m.yl)(n):(0,m.yl)(n))||!n.altKey||n.shiftKey||n.code!==(/^[0-9]$/.test(s)?"Digit":"Key")+s)}t==="\u2318Enter"&&(r=["\u2318","Enter"]);var i=r.length>2&&r[0]==="\u21E7",a=i?r[2]:r[1];return!i||!(0,m.vU)()&&/Mac/.test(navigator.platform)||(a==="-"?a="_":a==="="&&(a="+")),!(!(0,m.yl)(n)||n.key.toLowerCase()!==a.toLowerCase()||n.altKey||!(!i&&!n.shiftKey||i&&n.shiftKey))},Q=function(t,n){n.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(c){c.classList.remove("vditor-ir__node--expand")});var r=(0,k.JQ)(t.startContainer,"vditor-ir__node"),s=!t.collapsed&&(0,k.JQ)(t.endContainer,"vditor-ir__node");if(t.collapsed||r&&r===s){r&&(r.classList.add("vditor-ir__node--expand"),r.classList.remove("vditor-ir__node--hidden"),(0,P.Hc)(t));var i=function(c){var _=c.startContainer;if(_.nodeType===3&&_.nodeValue.length!==c.startOffset)return!1;for(var x=_.nextSibling;x&&x.textContent==="";)x=x.nextSibling;if(!x){var S=(0,k.fb)(_,"vditor-ir__marker");if(S&&!S.nextSibling){var T=_.parentElement.parentElement.nextSibling;if(T&&T.nodeType!==3&&T.classList.contains("vditor-ir__node"))return T}return!1}return!(!x||x.nodeType===3||!x.classList.contains("vditor-ir__node")||x.getAttribute("data-block"))&&x}(t);if(i)return i.classList.add("vditor-ir__node--expand"),void i.classList.remove("vditor-ir__node--hidden");var a=function(c){var _=c.startContainer,x=_.previousSibling;return!(_.nodeType!==3||c.startOffset!==0||!x||x.nodeType===3||!x.classList.contains("vditor-ir__node")||x.getAttribute("data-block"))&&x}(t);return a?(a.classList.add("vditor-ir__node--expand"),void a.classList.remove("vditor-ir__node--hidden")):void 0}},ue=f(863),Re=function(t,n){var r,s=getSelection().getRangeAt(0).cloneRange(),i=s.startContainer;s.startContainer.nodeType!==3&&s.startContainer.tagName==="DIV"&&(i=s.startContainer.childNodes[s.startOffset-1]);var a=(0,k.a1)(i,"data-block","0");if(a&&n&&(n.inputType==="deleteContentBackward"||n.data===" ")){for(var c=(0,P.im)(a,t.sv.element,s).start,_=!0,x=c-1;x>a.textContent.substr(0,c).lastIndexOf(`
`);x--)if(a.textContent.charAt(x)!==" "&&a.textContent.charAt(x)!=="	"){_=!1;break}if(c===0&&(_=!1),_)return void nt(t);if(n.inputType==="deleteContentBackward"){var S=(0,k.a1)(i,"data-type","code-block-open-marker")||(0,k.a1)(i,"data-type","code-block-close-marker");if(S){var T;if(S.getAttribute("data-type")==="code-block-close-marker"&&(T=sr(i,"code-block-open-marker"))||S.getAttribute("data-type")==="code-block-open-marker"&&(T=sr(i,"code-block-close-marker",!1)))return T.textContent=S.textContent,void nt(t)}var B=(0,k.a1)(i,"data-type","math-block-open-marker");if(B){var Z=B.nextElementSibling.nextElementSibling;return void(Z&&Z.getAttribute("data-type")==="math-block-close-marker"&&(Z.remove(),nt(t)))}a.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(U){U.textContent.length===1&&U.remove()}),a.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(U){U.textContent.length===1&&U.remove()});var ne=(0,k.a1)(i,"data-type","heading-marker");if(ne&&ne.textContent.indexOf("#")===-1)return void nt(t)}if((n.data===" "||n.inputType==="deleteContentBackward")&&((0,k.a1)(i,"data-type","padding")||(0,k.a1)(i,"data-type","li-marker")||(0,k.a1)(i,"data-type","task-marker")||(0,k.a1)(i,"data-type","blockquote-marker")))return void nt(t)}if(a&&a.textContent.trimRight()==="$$")nt(t);else{a||(a=t.sv.element),((r=a.firstElementChild)===null||r===void 0?void 0:r.getAttribute("data-type"))==="link-ref-defs-block"&&(a=t.sv.element),(0,k.a1)(i,"data-type","footnotes-link")&&(a=t.sv.element),a.textContent.indexOf(Lute.Caret)===-1&&s.insertNode(document.createTextNode(Lute.Caret)),a.querySelectorAll("[style]").forEach(function(U){U.removeAttribute("style")}),a.querySelectorAll("font").forEach(function(U){U.outerHTML=U.innerHTML});var j,W=a.textContent,me=a.isEqualNode(t.sv.element);me?W=a.textContent:(a.previousElementSibling&&(W=a.previousElementSibling.textContent+W,a.previousElementSibling.remove()),a.previousElementSibling&&W.indexOf(`---
`)===0&&(W=a.previousElementSibling.textContent+W,a.previousElementSibling.remove()),a.innerText.startsWith("```")||(t.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(U,pe){pe===0&&U&&!a.isEqualNode(U.parentElement)&&(W+=`
`+U.parentElement.textContent,U.parentElement.remove())}),t.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(U,pe){pe===0&&U&&!a.isEqualNode(U.parentElement)&&(W+=`
`+U.parentElement.textContent,U.parentElement.remove())}))),W=uo(W,t),me?a.innerHTML=W:a.outerHTML=W;var Y,ae=t.sv.element.querySelectorAll("[data-type='link-ref-defs-block']");ae.forEach(function(U,pe){pe===0?j=U.parentElement:(j.lastElementChild.remove(),j.insertAdjacentHTML("beforeend",""+U.parentElement.innerHTML),U.parentElement.remove())}),ae.length>0&&t.sv.element.insertAdjacentElement("beforeend",j);var J=t.sv.element.querySelectorAll("[data-type='footnotes-link']");J.forEach(function(U,pe){pe===0?Y=U.parentElement:(Y.lastElementChild.remove(),Y.insertAdjacentHTML("beforeend",""+U.parentElement.innerHTML),U.parentElement.remove())}),J.length>0&&t.sv.element.insertAdjacentElement("beforeend",Y),(0,P.ib)(t.sv.element,s),et(t),nt(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})}},Oe=f(227),qe=function(t){t.options.theme==="dark"?t.element.classList.add("vditor--dark"):t.element.classList.remove("vditor--dark")},A=function(t){var n=window.innerWidth<=g.g.MOBILE_WIDTH?10:35;if(t.wysiwyg.element.parentElement.style.display!=="none"){var r=(t.wysiwyg.element.parentElement.clientWidth-t.options.preview.maxWidth)/2;t.wysiwyg.element.style.padding="10px "+Math.max(n,r)+"px"}t.ir.element.parentElement.style.display!=="none"&&(r=(t.ir.element.parentElement.clientWidth-t.options.preview.maxWidth)/2,t.ir.element.style.padding="10px "+Math.max(n,r)+"px"),t.preview.element.style.display!=="block"?t.toolbar.element.style.paddingLeft=Math.max(5,parseInt(t[t.currentMode].element.style.paddingLeft||"0",10)+(t.options.outline.position==="left"?t.outline.element.offsetWidth:0))+"px":t.toolbar.element.style.paddingLeft=5+(t.options.outline.position==="left"?t.outline.element.offsetWidth:0)+"px"},D=function(t){if(t.options.typewriterMode){var n=window.innerHeight;typeof t.options.height=="number"?(n=t.options.height,typeof t.options.minHeight=="number"&&(n=Math.max(n,t.options.minHeight)),n=Math.min(window.innerHeight,n)):n=t.element.clientHeight,t.element.classList.contains("vditor--fullscreen")&&(n=window.innerHeight),t[t.currentMode].element.style.setProperty("--editor-bottom",(n-t.toolbar.element.offsetHeight)/2+"px")}};function R(){window.removeEventListener("resize",b)}var K,z,ie=function(t){D(t),R(),window.addEventListener("resize",b=function(){A(t),D(t)});var n=(0,m.pK)()&&localStorage.getItem(t.options.cache.id);return t.options.cache.enable&&n||(t.options.value?n=t.options.value:t.originalInnerHTML?n=t.lute.HTML2Md(t.originalInnerHTML):t.options.cache.enable||(n="")),n||""},se=function(t){clearTimeout(t[t.currentMode].hlToolbarTimeoutId),t[t.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,P.Gb)(t[t.currentMode].element)){w(t.toolbar.elements,g.g.EDIT_TOOLBARS),L(t.toolbar.elements,g.g.EDIT_TOOLBARS);var n=(0,P.zh)(t),r=n.startContainer;n.startContainer.nodeType===3&&(r=n.startContainer.parentElement),r.classList.contains("vditor-reset")&&(r=r.childNodes[n.startOffset]),(t.currentMode==="sv"?(0,k.a1)(r,"data-type","heading"):(0,F.W)(r))&&C(t.toolbar.elements,["headings"]),(t.currentMode==="sv"?(0,k.a1)(r,"data-type","blockquote"):(0,k.lG)(r,"BLOCKQUOTE"))&&C(t.toolbar.elements,["quote"]),(0,k.a1)(r,"data-type","strong")&&C(t.toolbar.elements,["bold"]),(0,k.a1)(r,"data-type","em")&&C(t.toolbar.elements,["italic"]),(0,k.a1)(r,"data-type","s")&&C(t.toolbar.elements,["strike"]),(0,k.a1)(r,"data-type","a")&&C(t.toolbar.elements,["link"]);var s=(0,k.lG)(r,"LI");s?(s.classList.contains("vditor-task")?C(t.toolbar.elements,["check"]):s.parentElement.tagName==="OL"?C(t.toolbar.elements,["ordered-list"]):s.parentElement.tagName==="UL"&&C(t.toolbar.elements,["list"]),L(t.toolbar.elements,["outdent","indent"])):O(t.toolbar.elements,["outdent","indent"]),(0,k.a1)(r,"data-type","code-block")&&(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),C(t.toolbar.elements,["code"])),(0,k.a1)(r,"data-type","code")&&(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),C(t.toolbar.elements,["inline-code"])),(0,k.a1)(r,"data-type","table")&&O(t.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},V=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),n.enableHint&&t.hint.render(t),clearTimeout(t.wysiwyg.afterRenderTimeoutId),t.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!t.wysiwyg.composingLock){var r=v(t);typeof t.options.input=="function"&&n.enableInput&&t.options.input(r),t.options.counter.enable&&t.counter.render(t,r),t.options.cache.enable&&(0,m.pK)()&&(localStorage.setItem(t.options.cache.id,r),t.options.cache.after&&t.options.cache.after(r)),t.devtools&&t.devtools.renderEchart(t),n.enableAddUndoStack&&t.undo.addToUndoStack(t)}},t.options.undoDelay)},oe=function(t){for(var n="",r=t.nextSibling;r;)r.nodeType===3?n+=r.textContent:n+=r.outerHTML,r=r.nextSibling;return n},G=function(t){for(var n="",r=t.previousSibling;r;)n=r.nodeType===3?r.textContent+n:r.outerHTML+n,r=r.previousSibling;return n},ve=function(t,n){Array.from(t.wysiwyg.element.childNodes).find(function(r){if(r.nodeType===3){var s=document.createElement("p");s.setAttribute("data-block","0"),s.textContent=r.textContent;var i=n.startContainer.nodeType===3?n.startOffset:r.textContent.length;return r.parentNode.insertBefore(s,r),r.remove(),n.setStart(s.firstChild,Math.min(s.firstChild.textContent.length,i)),n.collapse(!0),(0,P.Hc)(n),!0}if(!r.getAttribute("data-block"))return r.tagName==="P"?r.remove():(r.tagName==="DIV"?(n.insertNode(document.createElement("wbr")),r.outerHTML='<p data-block="0">'+r.innerHTML+"</p>"):r.tagName==="BR"?r.outerHTML='<p data-block="0">'+r.outerHTML+"<wbr></p>":(n.insertNode(document.createElement("wbr")),r.outerHTML='<p data-block="0">'+r.outerHTML+"</p>"),(0,P.ib)(t.wysiwyg.element,n),n=getSelection().getRangeAt(0)),!0})},fe=function(t,n){var r=(0,P.zh)(t),s=(0,k.F9)(r.startContainer);s||(s=r.startContainer.childNodes[r.startOffset]),s||t.wysiwyg.element.children.length!==0||(s=t.wysiwyg.element),s&&!s.classList.contains("vditor-wysiwyg__block")&&(r.insertNode(document.createElement("wbr")),s.innerHTML.trim()==="<wbr>"&&(s.innerHTML="<wbr><br>"),s.tagName==="BLOCKQUOTE"||s.classList.contains("vditor-reset")?s.innerHTML="<"+n+' data-block="0">'+s.innerHTML.trim()+"</"+n+">":s.outerHTML="<"+n+' data-block="0">'+s.innerHTML.trim()+"</"+n+">",(0,P.ib)(t.wysiwyg.element,r),Je(t))},he=function(t){var n=getSelection().getRangeAt(0),r=(0,k.F9)(n.startContainer);r||(r=n.startContainer.childNodes[n.startOffset]),r&&(n.insertNode(document.createElement("wbr")),r.outerHTML='<p data-block="0">'+r.innerHTML+"</p>",(0,P.ib)(t.wysiwyg.element,n)),t.wysiwyg.popover.style.display="none"},we=function(t,n,r){r===void 0&&(r=!0);var s=t.previousElementSibling,i=s.ownerDocument.createRange();s.tagName==="CODE"?(s.style.display="inline-block",r?i.setStart(s.firstChild,1):i.selectNodeContents(s)):(s.style.display="block",s.firstChild.firstChild||s.firstChild.appendChild(document.createTextNode("")),i.selectNodeContents(s.firstChild)),r?i.collapse(!0):i.collapse(!1),(0,P.Hc)(i),t.firstElementChild.classList.contains("language-mindmap")||et(n)},ge=function(t,n){if(te("\u21E7\u2318X",n)){var r=t.wysiwyg.popover.querySelector('[data-type="remove"]');if(r)return r.click(),n.preventDefault(),!0}},De=function(t){clearTimeout(t.wysiwyg.hlToolbarTimeoutId),t.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(t.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,P.Gb)(t.wysiwyg.element)){w(t.toolbar.elements,g.g.EDIT_TOOLBARS),L(t.toolbar.elements,g.g.EDIT_TOOLBARS);var n=getSelection().getRangeAt(0),r=n.startContainer;r=n.startContainer.nodeType===3?n.startContainer.parentElement:r.childNodes[n.startOffset>=r.childNodes.length?r.childNodes.length-1:n.startOffset];var s=(0,k.a1)(r,"data-type","footnotes-block");if(s)return t.wysiwyg.popover.innerHTML="",pt(s,t),void Le(t,s);var i=(0,k.lG)(r,"LI");i?(i.classList.contains("vditor-task")?C(t.toolbar.elements,["check"]):i.parentElement.tagName==="OL"?C(t.toolbar.elements,["ordered-list"]):i.parentElement.tagName==="UL"&&C(t.toolbar.elements,["list"]),L(t.toolbar.elements,["outdent","indent"])):O(t.toolbar.elements,["outdent","indent"]),(0,k.lG)(r,"BLOCKQUOTE")&&C(t.toolbar.elements,["quote"]),((0,k.lG)(r,"B")||(0,k.lG)(r,"STRONG"))&&C(t.toolbar.elements,["bold"]),((0,k.lG)(r,"I")||(0,k.lG)(r,"EM"))&&C(t.toolbar.elements,["italic"]),((0,k.lG)(r,"STRIKE")||(0,k.lG)(r,"S"))&&C(t.toolbar.elements,["strike"]),t.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(re){re.classList.remove("vditor-comment--focus")});var a=(0,k.fb)(r,"vditor-comment");if(a){var c=a.getAttribute("data-cmtids").split(" ");if(c.length>1&&a.nextSibling.isSameNode(a.nextElementSibling)){var _=a.nextElementSibling.getAttribute("data-cmtids").split(" ");c.find(function(re){if(_.includes(re))return c=[re],!0})}t.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(re){re.getAttribute("data-cmtids").indexOf(c[0])>-1&&re.classList.add("vditor-comment--focus")})}var x=(0,k.lG)(r,"A");x&&C(t.toolbar.elements,["link"]);var S=(0,k.lG)(r,"TABLE"),T=(0,F.W)(r);(0,k.lG)(r,"CODE")?(0,k.lG)(r,"PRE")?(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),C(t.toolbar.elements,["code"])):(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),C(t.toolbar.elements,["inline-code"])):T?(O(t.toolbar.elements,["bold"]),C(t.toolbar.elements,["headings"])):S&&O(t.toolbar.elements,["table"]);var B=(0,k.fb)(r,"vditor-toc");if(B)return t.wysiwyg.popover.innerHTML="",pt(B,t),void Le(t,B);var Z=(0,F.S)(r,"BLOCKQUOTE");if(Z&&(t.wysiwyg.popover.innerHTML="",it(n,Z,t),bt(n,Z,t),pt(Z,t),Le(t,Z)),i&&(t.wysiwyg.popover.innerHTML="",it(n,i,t),bt(n,i,t),pt(i,t),Le(t,i)),S){t.options.lang,t.options,t.wysiwyg.popover.innerHTML="";var ne=function(){var re=S.rows.length,Fe=S.rows[0].cells.length,an=parseInt(We.value,10)||re,Bt=parseInt(Be.value,10)||Fe;if(an!==re||Fe!==Bt){if(Fe!==Bt)for(var Uo=Bt-Fe,Cn=0;Cn<S.rows.length;Cn++)if(Uo>0)for(var qo=0;qo<Uo;qo++)Cn===0?S.rows[Cn].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):S.rows[Cn].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var ai=Fe-1;ai>=Bt;ai--)S.rows[Cn].cells[ai].remove();if(re!==an){var Fo=an-re;if(Fo>0){for(var li="<tr>",kn=0;kn<Bt;kn++)li+="<td> </td>";for(var Vo=0;Vo<Fo;Vo++)S.querySelector("tbody")?S.querySelector("tbody").insertAdjacentHTML("beforeend",li):S.querySelector("thead").insertAdjacentHTML("afterend",li+"</tr>")}else for(kn=re-1;kn>=an;kn--)S.rows[kn].remove(),S.rows.length===1&&S.querySelector("tbody").remove()}}},j=function(re){dr(S,re),re==="right"?(ae.classList.remove("vditor-icon--current"),J.classList.remove("vditor-icon--current"),U.classList.add("vditor-icon--current")):re==="center"?(ae.classList.remove("vditor-icon--current"),U.classList.remove("vditor-icon--current"),J.classList.add("vditor-icon--current")):(J.classList.remove("vditor-icon--current"),U.classList.remove("vditor-icon--current"),ae.classList.add("vditor-icon--current")),(0,P.Hc)(n),V(t)},W=(0,k.lG)(r,"TD"),me=(0,k.lG)(r,"TH"),Y="left";W?Y=W.getAttribute("align")||"left":me&&(Y=me.getAttribute("align")||"center");var ae=document.createElement("button");ae.setAttribute("type","button"),ae.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,m.ns)("\u21E7\u2318L")+">"),ae.setAttribute("data-type","left"),ae.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',ae.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(Y==="left"?" vditor-icon--current":""),ae.onclick=function(){j("left")};var J=document.createElement("button");J.setAttribute("type","button"),J.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,m.ns)("\u21E7\u2318C")+">"),J.setAttribute("data-type","center"),J.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',J.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(Y==="center"?" vditor-icon--current":""),J.onclick=function(){j("center")};var U=document.createElement("button");U.setAttribute("type","button"),U.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,m.ns)("\u21E7\u2318R")+">"),U.setAttribute("data-type","right"),U.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',U.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(Y==="right"?" vditor-icon--current":""),U.onclick=function(){j("right")};var pe=document.createElement("button");pe.setAttribute("type","button"),pe.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,m.ns)("\u2318=")+">"),pe.setAttribute("data-type","insertRow"),pe.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',pe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",pe.onclick=function(){var re=getSelection().getRangeAt(0).startContainer,Fe=(0,k.lG)(re,"TD")||(0,k.lG)(re,"TH");Fe&&Co(t,n,Fe)};var Ce=document.createElement("button");Ce.setAttribute("type","button"),Ce.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,m.ns)("\u21E7\u2318F")+">"),Ce.setAttribute("data-type","insertRow"),Ce.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',Ce.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ce.onclick=function(){var re=getSelection().getRangeAt(0).startContainer,Fe=(0,k.lG)(re,"TD")||(0,k.lG)(re,"TH");Fe&&ko(t,n,Fe)};var ye=document.createElement("button");ye.setAttribute("type","button"),ye.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,m.ns)("\u21E7\u2318=")+">"),ye.setAttribute("data-type","insertColumn"),ye.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',ye.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ye.onclick=function(){var re=getSelection().getRangeAt(0).startContainer,Fe=(0,k.lG)(re,"TD")||(0,k.lG)(re,"TH");Fe&&ur(t,S,Fe)};var xe=document.createElement("button");xe.setAttribute("type","button"),xe.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,m.ns)("\u21E7\u2318G")+">"),xe.setAttribute("data-type","insertColumn"),xe.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',xe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",xe.onclick=function(){var re=getSelection().getRangeAt(0).startContainer,Fe=(0,k.lG)(re,"TD")||(0,k.lG)(re,"TH");Fe&&ur(t,S,Fe,"beforebegin")};var Ae=document.createElement("button");Ae.setAttribute("type","button"),Ae.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,m.ns)("\u2318-")+">"),Ae.setAttribute("data-type","deleteRow"),Ae.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',Ae.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ae.onclick=function(){var re=getSelection().getRangeAt(0).startContainer,Fe=(0,k.lG)(re,"TD")||(0,k.lG)(re,"TH");Fe&&So(t,n,Fe)};var ce=document.createElement("button");ce.setAttribute("type","button"),ce.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,m.ns)("\u21E7\u2318-")+">"),ce.setAttribute("data-type","deleteColumn"),ce.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',ce.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ce.onclick=function(){var re=getSelection().getRangeAt(0).startContainer,Fe=(0,k.lG)(re,"TD")||(0,k.lG)(re,"TH");Fe&&xo(t,n,S,Fe)},(_t=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.row),_t.className="vditor-tooltipped vditor-tooltipped__n";var We=document.createElement("input");_t.appendChild(We),We.type="number",We.min="1",We.className="vditor-input",We.style.width="42px",We.style.textAlign="center",We.setAttribute("placeholder",window.VditorI18n.row),We.value=S.rows.length.toString(),We.oninput=function(){ne()},We.onkeydown=function(re){if(!re.isComposing)return re.key==="Tab"?(Be.focus(),Be.select(),void re.preventDefault()):void ge(t,re)};var Et=document.createElement("span");Et.setAttribute("aria-label",window.VditorI18n.column),Et.className="vditor-tooltipped vditor-tooltipped__n";var Be=document.createElement("input");Et.appendChild(Be),Be.type="number",Be.min="1",Be.className="vditor-input",Be.style.width="42px",Be.style.textAlign="center",Be.setAttribute("placeholder",window.VditorI18n.column),Be.value=S.rows[0].cells.length.toString(),Be.oninput=function(){ne()},Be.onkeydown=function(re){if(!re.isComposing)return re.key==="Tab"?(We.focus(),We.select(),void re.preventDefault()):void ge(t,re)},it(n,S,t),bt(n,S,t),pt(S,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",ae),t.wysiwyg.popover.insertAdjacentElement("beforeend",J),t.wysiwyg.popover.insertAdjacentElement("beforeend",U),t.wysiwyg.popover.insertAdjacentElement("beforeend",Ce),t.wysiwyg.popover.insertAdjacentElement("beforeend",pe),t.wysiwyg.popover.insertAdjacentElement("beforeend",xe),t.wysiwyg.popover.insertAdjacentElement("beforeend",ye),t.wysiwyg.popover.insertAdjacentElement("beforeend",Ae),t.wysiwyg.popover.insertAdjacentElement("beforeend",ce),t.wysiwyg.popover.insertAdjacentElement("beforeend",_t),t.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),t.wysiwyg.popover.insertAdjacentElement("beforeend",Et),Le(t,S)}var Lt=(0,k.a1)(r,"data-type","link-ref");Lt&&$e(t,Lt);var mt=(0,k.a1)(r,"data-type","footnotes-ref");if(mt){t.options.lang,t.options,t.wysiwyg.popover.innerHTML="",(_t=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,m.ns)("\u2325Enter")+">"),_t.className="vditor-tooltipped vditor-tooltipped__n";var vt=document.createElement("input");_t.appendChild(vt),vt.className="vditor-input",vt.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,m.ns)("\u2325Enter")+">"),vt.style.width="120px",vt.value=mt.getAttribute("data-footnotes-label"),vt.oninput=function(){vt.value.trim()!==""&&mt.setAttribute("data-footnotes-label",vt.value)},vt.onkeydown=function(re){if(!re.isComposing)return(0,m.yl)(re)||re.shiftKey||!re.altKey||re.key!=="Enter"?void ge(t,re):(n.selectNodeContents(mt),n.collapse(!1),(0,P.Hc)(n),void re.preventDefault())},pt(mt,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",_t),Le(t,mt)}var tt=(0,k.fb)(r,"vditor-wysiwyg__block"),mr=!!tt&&tt.getAttribute("data-type").indexOf("block")>-1;if(t.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(re){(!tt||tt&&mr&&!tt.contains(re))&&(re.previousElementSibling.style.display="none")}),tt&&mr){if(t.wysiwyg.popover.innerHTML="",it(n,tt,t),bt(n,tt,t),pt(tt,t),tt.getAttribute("data-type")==="code-block"){var zt=document.createElement("span");zt.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,m.ns)("\u2325Enter")+">"),zt.className="vditor-tooltipped vditor-tooltipped__n";var At=document.createElement("input");zt.appendChild(At);var En=tt.firstElementChild.firstElementChild;At.className="vditor-input",At.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,m.ns)("\u2325Enter")+">"),At.value=En.className.indexOf("language-")>-1?En.className.split("-")[1].split(" ")[0]:"",At.oninput=function(re){At.value.trim()!==""?En.className="language-"+At.value:(En.className="",t.hint.recentLanguage=""),tt.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(tt.lastElementChild.innerHTML=tt.firstElementChild.innerHTML,Ue(tt.lastElementChild,t)),V(t),re.detail===1&&(n.setStart(En.firstChild,0),n.collapse(!0),(0,P.Hc)(n))},At.onkeydown=function(re){if(!re.isComposing&&!ge(t,re)){if(re.key==="Escape"&&t.hint.element.style.display==="block")return t.hint.element.style.display="none",void re.preventDefault();t.hint.select(re,t),(0,m.yl)(re)||re.shiftKey||re.key!=="Enter"||(n.setStart(En.firstChild,0),n.collapse(!0),(0,P.Hc)(n),re.preventDefault(),re.stopPropagation())}},At.onkeyup=function(re){if(!re.isComposing&&re.key!=="Enter"&&re.key!=="ArrowUp"&&re.key!=="Escape"&&re.key!=="ArrowDown"){var Fe=[],an=At.value.substring(0,At.selectionStart);g.g.CODE_LANGUAGES.forEach(function(Bt){Bt.indexOf(an.toLowerCase())>-1&&Fe.push({html:Bt,value:Bt})}),t.hint.genHTML(Fe,an,t),re.preventDefault()}},t.wysiwyg.popover.insertAdjacentElement("beforeend",zt)}Le(t,tt)}else tt=void 0;if(T){var _t;t.wysiwyg.popover.innerHTML="",(_t=document.createElement("span")).setAttribute("aria-label","ID<"+(0,m.ns)("\u2325Enter")+">"),_t.className="vditor-tooltipped vditor-tooltipped__n";var $t=document.createElement("input");_t.appendChild($t),$t.className="vditor-input",$t.setAttribute("placeholder","ID<"+(0,m.ns)("\u2325Enter")+">"),$t.style.width="120px",$t.value=T.getAttribute("data-id")||"",$t.oninput=function(){T.setAttribute("data-id",$t.value)},$t.onkeydown=function(re){if(!re.isComposing)return(0,m.yl)(re)||re.shiftKey||!re.altKey||re.key!=="Enter"?void ge(t,re):(n.selectNodeContents(T),n.collapse(!1),(0,P.Hc)(n),void re.preventDefault())},it(n,T,t),bt(n,T,t),pt(T,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",_t),Le(t,T)}if(x&&bn(t,x),!(Z||i||S||tt||x||Lt||mt||T||B)){var _n=(0,k.a1)(r,"data-block","0");_n&&_n.parentElement.isEqualNode(t.wysiwyg.element)?(t.wysiwyg.popover.innerHTML="",it(n,_n,t),bt(n,_n,t),pt(_n,t),Le(t,_n)):t.wysiwyg.popover.style.display="none"}t.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(re){re.style.display="none"});var Bo=(0,k.a1)(n.startContainer,"data-type","backslash");Bo&&(Bo.querySelector("span").style.display="inline")}},200)},Le=function(t,n){var r=n,s=(0,k.lG)(n,"TABLE");s&&(r=s),t.wysiwyg.popover.style.left="0",t.wysiwyg.popover.style.display="block",t.wysiwyg.popover.style.top=Math.max(-8,r.offsetTop-21-t.wysiwyg.element.scrollTop)+"px",t.wysiwyg.popover.style.left=Math.min(r.offsetLeft,t.wysiwyg.element.clientWidth-t.wysiwyg.popover.clientWidth)+"px",t.wysiwyg.popover.setAttribute("data-top",(r.offsetTop-21).toString())},$e=function(t,n){t.wysiwyg.popover.innerHTML="";var r=function(){i.value.trim()!==""&&(n.tagName==="IMG"?n.setAttribute("alt",i.value):n.textContent=i.value),c.value.trim()!==""&&n.setAttribute("data-link-label",c.value)},s=document.createElement("span");s.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),s.className="vditor-tooltipped vditor-tooltipped__n";var i=document.createElement("input");s.appendChild(i),i.className="vditor-input",i.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),i.style.width="120px",i.value=n.getAttribute("alt")||n.textContent,i.oninput=function(){r()},i.onkeydown=function(_){ge(t,_)||Tt(t,n,_,c)};var a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.linkRef),a.className="vditor-tooltipped vditor-tooltipped__n";var c=document.createElement("input");a.appendChild(c),c.className="vditor-input",c.setAttribute("placeholder",window.VditorI18n.linkRef),c.value=n.getAttribute("data-link-label"),c.oninput=function(){r()},c.onkeydown=function(_){ge(t,_)||Tt(t,n,_,i)},pt(n,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",s),t.wysiwyg.popover.insertAdjacentElement("beforeend",a),Le(t,n)},it=function(t,n,r){var s=n.previousElementSibling;if(s&&(n.parentElement.isEqualNode(r.wysiwyg.element)||n.tagName==="LI")){var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("data-type","up"),i.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,m.ns)("\u21E7\u2318U")+">"),i.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',i.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",i.onclick=function(){t.insertNode(document.createElement("wbr")),s.insertAdjacentElement("beforebegin",n),(0,P.ib)(r.wysiwyg.element,t),V(r),De(r),et(r)},r.wysiwyg.popover.insertAdjacentElement("beforeend",i)}},bt=function(t,n,r){var s=n.nextElementSibling;if(s&&(n.parentElement.isEqualNode(r.wysiwyg.element)||n.tagName==="LI")){var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("data-type","down"),i.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,m.ns)("\u21E7\u2318D")+">"),i.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',i.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",i.onclick=function(){t.insertNode(document.createElement("wbr")),s.insertAdjacentElement("afterend",n),(0,P.ib)(r.wysiwyg.element,t),V(r),De(r),et(r)},r.wysiwyg.popover.insertAdjacentElement("beforeend",i)}},pt=function(t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("data-type","remove"),r.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,m.ns)("\u21E7\u2318X")+">"),r.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',r.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",r.onclick=function(){var s=(0,P.zh)(n);s.setStartAfter(t),(0,P.Hc)(s),t.remove(),V(n),De(n),["H1","H2","H3","H4","H5","H6"].includes(t.tagName)&&Je(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",r)},Tt=function(t,n,r,s){if(!r.isComposing){if(r.key==="Tab")return s.focus(),s.select(),void r.preventDefault();if(!(0,m.yl)(r)&&!r.shiftKey&&r.altKey&&r.key==="Enter"){var i=(0,P.zh)(t);n.insertAdjacentHTML("afterend",g.g.ZWSP),i.setStartAfter(n.nextSibling),i.collapse(!0),(0,P.Hc)(i),r.preventDefault()}}},bn=function(t,n){t.wysiwyg.popover.innerHTML="";var r=function(){i.value.trim()!==""&&(n.innerHTML=i.value),n.setAttribute("href",c.value),n.setAttribute("title",x.value),V(t)};n.querySelectorAll("[data-marker]").forEach(function(S){S.removeAttribute("data-marker")});var s=document.createElement("span");s.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),s.className="vditor-tooltipped vditor-tooltipped__n";var i=document.createElement("input");s.appendChild(i),i.className="vditor-input",i.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),i.style.width="120px",i.value=n.innerHTML||"",i.oninput=function(){r()},i.onkeydown=function(S){ge(t,S)||Tt(t,n,S,c)};var a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.link),a.className="vditor-tooltipped vditor-tooltipped__n";var c=document.createElement("input");a.appendChild(c),c.className="vditor-input",c.setAttribute("placeholder",window.VditorI18n.link),c.value=n.getAttribute("href")||"",c.oninput=function(){r()},c.onkeydown=function(S){ge(t,S)||Tt(t,n,S,x)};var _=document.createElement("span");_.setAttribute("aria-label",window.VditorI18n.tooltipText),_.className="vditor-tooltipped vditor-tooltipped__n";var x=document.createElement("input");_.appendChild(x),x.className="vditor-input",x.setAttribute("placeholder",window.VditorI18n.tooltipText),x.style.width="60px",x.value=n.getAttribute("title")||"",x.oninput=function(){r()},x.onkeydown=function(S){ge(t,S)||Tt(t,n,S,i)},pt(n,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",s),t.wysiwyg.popover.insertAdjacentElement("beforeend",a),t.wysiwyg.popover.insertAdjacentElement("beforeend",_),Le(t,n)},Qe=function(t){t.currentMode==="wysiwyg"?De(t):t.currentMode==="ir"&&se(t)},wt=function(t,n,r){r===void 0&&(r={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var s=t.wysiwyg.element;s.innerHTML=t.lute.Md2VditorDOM(n),s.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(i){Ue(i,t),i.previousElementSibling.setAttribute("style","display:none")}),V(t,r)},or=function(t,n,r){for(var s=t.startContainer.parentElement,i=!1,a="",c="",_=function(j){var W=G(j.startContainer),me=oe(j.startContainer),Y=j.startContainer.textContent,ae=j.startOffset,J="",U="";return(Y.substr(0,ae)!==""&&Y.substr(0,ae)!==g.g.ZWSP||W)&&(J=""+W+Y.substr(0,ae)),(Y.substr(ae)!==""&&Y.substr(ae)!==g.g.ZWSP||me)&&(U=""+Y.substr(ae)+me),{afterHTML:U,beforeHTML:J}}(t),x=_.beforeHTML,S=_.afterHTML;s&&!i;){var T=s.tagName;if(T==="STRIKE"&&(T="S"),T==="I"&&(T="EM"),T==="B"&&(T="STRONG"),T==="S"||T==="STRONG"||T==="EM"){var B="",Z="",ne="";s.parentElement.getAttribute("data-block")!=="0"&&(Z=G(s),ne=oe(s)),(x||Z)&&(x=B=Z+"<"+T+">"+x+"</"+T+">"),(r==="bold"&&T==="STRONG"||r==="italic"&&T==="EM"||r==="strikeThrough"&&T==="S")&&(B+=""+a+g.g.ZWSP+"<wbr>"+c,i=!0),(S||ne)&&(B+=S="<"+T+">"+S+"</"+T+">"+ne),s.parentElement.getAttribute("data-block")!=="0"?(s=s.parentElement).innerHTML=B:(s.outerHTML=B,s=s.parentElement),a="<"+T+">"+a,c="</"+T+">"+c}else i=!0}(0,P.ib)(n.wysiwyg.element,t)},Ge=function(t,n){var r,s=this;this.element=document.createElement("div"),n.className&&(r=this.element.classList).add.apply(r,n.className.split(" "));var i=n.hotkey?" <"+(0,m.ns)(n.hotkey)+">":"";n.level===2&&(i=n.hotkey?" &lt;"+(0,m.ns)(n.hotkey)+"&gt;":"");var a=n.tip?n.tip+i:""+window.VditorI18n[n.name]+i,c=n.name==="upload"?"div":"button";if(n.level===2)this.element.innerHTML="<"+c+' data-type="'+n.name+'">'+a+"</"+c+">";else{this.element.classList.add("vditor-toolbar__item");var _=document.createElement(c);_.setAttribute("data-type",n.name),_.className="vditor-tooltipped vditor-tooltipped__"+n.tipPosition,_.setAttribute("aria-label",a),_.innerHTML=n.icon,this.element.appendChild(_)}n.prefix&&this.element.children[0].addEventListener((0,m.Le)(),function(x){x.preventDefault(),s.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||(t.currentMode==="wysiwyg"?function(S,T,B){if(!(S.wysiwyg.composingLock&&B instanceof CustomEvent)){var Z=!0,ne=!0;S.wysiwyg.element.querySelector("wbr")&&S.wysiwyg.element.querySelector("wbr").remove();var j=(0,P.zh)(S),W=T.getAttribute("data-type");if(T.classList.contains("vditor-menu--current"))if(W==="strike"&&(W="strikeThrough"),W==="quote"){var me=(0,k.lG)(j.startContainer,"BLOCKQUOTE");me||(me=j.startContainer.childNodes[j.startOffset]),me&&(Z=!1,T.classList.remove("vditor-menu--current"),j.insertNode(document.createElement("wbr")),me.outerHTML=me.innerHTML.trim()===""?'<p data-block="0">'+me.innerHTML+"</p>":me.innerHTML,(0,P.ib)(S.wysiwyg.element,j))}else if(W==="inline-code"){var Y=(0,k.lG)(j.startContainer,"CODE");Y||(Y=j.startContainer.childNodes[j.startOffset]),Y&&(Y.outerHTML=Y.innerHTML.replace(g.g.ZWSP,"")+"<wbr>",(0,P.ib)(S.wysiwyg.element,j))}else W==="link"?(j.collapsed&&j.selectNode(j.startContainer.parentElement),document.execCommand("unlink",!1,"")):W==="check"||W==="list"||W==="ordered-list"?(cr(S,j,W),(0,P.ib)(S.wysiwyg.element,j),Z=!1,T.classList.remove("vditor-menu--current")):(Z=!1,T.classList.remove("vditor-menu--current"),j.toString()===""?or(j,S,W):document.execCommand(W,!1,""));else{S.wysiwyg.element.childNodes.length===0&&(S.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,P.ib)(S.wysiwyg.element,j));var ae=(0,k.F9)(j.startContainer);if(W==="quote"){if(ae||(ae=j.startContainer.childNodes[j.startOffset]),ae){Z=!1,T.classList.add("vditor-menu--current"),j.insertNode(document.createElement("wbr"));var J=(0,k.lG)(j.startContainer,"LI");J&&ae.contains(J)?J.innerHTML='<blockquote data-block="0">'+J.innerHTML+"</blockquote>":ae.outerHTML='<blockquote data-block="0">'+ae.outerHTML+"</blockquote>",(0,P.ib)(S.wysiwyg.element,j)}}else if(W==="check"||W==="list"||W==="ordered-list")cr(S,j,W,!1),(0,P.ib)(S.wysiwyg.element,j),Z=!1,w(S.toolbar.elements,["check","list","ordered-list"]),T.classList.add("vditor-menu--current");else if(W==="inline-code"){if(j.toString()==="")(U=document.createElement("code")).textContent=g.g.ZWSP,j.insertNode(U),j.setStart(U.firstChild,1),j.collapse(!0),(0,P.Hc)(j);else if(j.startContainer.nodeType===3){var U=document.createElement("code");j.surroundContents(U),j.insertNode(U),(0,P.Hc)(j)}T.classList.add("vditor-menu--current")}else if(W==="code")(U=document.createElement("div")).className="vditor-wysiwyg__block",U.setAttribute("data-type","code-block"),U.setAttribute("data-block","0"),U.setAttribute("data-marker","```"),j.toString()===""?U.innerHTML=`<pre><code><wbr>
</code></pre>`:(U.innerHTML="<pre><code>"+j.toString()+"<wbr></code></pre>",j.deleteContents()),j.insertNode(U),ae&&(ae.outerHTML=S.lute.SpinVditorDOM(ae.outerHTML)),(0,P.ib)(S.wysiwyg.element,j),S.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Be){Ue(Be,S)}),T.classList.add("vditor-menu--disabled");else if(W==="link"){if(j.toString()===""){var pe=document.createElement("a");pe.innerText=g.g.ZWSP,j.insertNode(pe),j.setStart(pe.firstChild,1),j.collapse(!0),bn(S,pe);var Ce=S.wysiwyg.popover.querySelector("input");Ce.value="",Ce.focus(),ne=!1}else{(U=document.createElement("a")).setAttribute("href",""),U.innerHTML=j.toString(),j.surroundContents(U),j.insertNode(U),(0,P.Hc)(j),bn(S,U);var ye=S.wysiwyg.popover.querySelectorAll("input");ye[0].value=U.innerText,ye[1].focus()}Z=!1,T.classList.add("vditor-menu--current")}else if(W==="table"){var xe='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(j.toString().trim()==="")ae&&ae.innerHTML.trim().replace(g.g.ZWSP,"")===""?ae.outerHTML=xe:document.execCommand("insertHTML",!1,xe),j.selectNode(S.wysiwyg.element.querySelector("wbr").previousSibling),S.wysiwyg.element.querySelector("wbr").remove(),(0,P.Hc)(j);else{xe='<table data-block="0"><thead><tr>';var Ae=j.toString().split(`
`),ce=Ae[0].split(",").length>Ae[0].split("	").length?",":"	";Ae.forEach(function(Be,Lt){Lt===0?(Be.split(ce).forEach(function(mt,vt){xe+=vt===0?"<th>"+mt+"<wbr></th>":"<th>"+mt+"</th>"}),xe+="</tr></thead>"):(xe+=Lt===1?"<tbody><tr>":"<tr>",Be.split(ce).forEach(function(mt){xe+="<td>"+mt+"</td>"}),xe+="</tr>")}),xe+="</tbody></table>",document.execCommand("insertHTML",!1,xe),(0,P.ib)(S.wysiwyg.element,j)}Z=!1,T.classList.add("vditor-menu--disabled")}else if(W==="line"){if(ae){var We=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;ae.innerHTML.trim()===""?ae.outerHTML=We:ae.insertAdjacentHTML("afterend",We),(0,P.ib)(S.wysiwyg.element,j)}}else if(Z=!1,T.classList.add("vditor-menu--current"),W==="strike"&&(W="strikeThrough"),j.toString()!==""||W!=="bold"&&W!=="italic"&&W!=="strikeThrough")document.execCommand(W,!1,"");else{var Et="strong";W==="italic"?Et="em":W==="strikeThrough"&&(Et="s"),(U=document.createElement(Et)).textContent=g.g.ZWSP,j.insertNode(U),U.previousSibling&&U.previousSibling.textContent===g.g.ZWSP&&(U.previousSibling.textContent=""),j.setStart(U.firstChild,1),j.collapse(!0),(0,P.Hc)(j)}}Z&&De(S),ne&&V(S)}}(t,s.element.children[0],x):t.currentMode==="ir"?bl(t,s.element.children[0],n.prefix||"",n.suffix||""):dl(t,s.element.children[0],n.prefix||"",n.suffix||""))})},al=(K=function(t,n){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i])},K(t,n)},function(t,n){function r(){this.constructor=t}K(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}),sn=function(t,n,r){var s;if(typeof r!="string"?(M(t,["subToolbar","hint"]),r.preventDefault(),s=v(t)):s=r,t.currentMode!==n||typeof r=="string"){if(t.devtools&&t.devtools.renderEchart(t),t.options.preview.mode==="both"&&n==="sv"?t.preview.element.style.display="block":t.preview.element.style.display="none",L(t.toolbar.elements,g.g.EDIT_TOOLBARS),w(t.toolbar.elements,g.g.EDIT_TOOLBARS),O(t.toolbar.elements,["outdent","indent"]),n==="ir")N(t.toolbar.elements,["both"]),I(t.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),t.sv.element.style.display="none",t.wysiwyg.element.parentElement.style.display="none",t.ir.element.parentElement.style.display="block",t.lute.SetVditorIR(!0),t.lute.SetVditorWYSIWYG(!1),t.lute.SetVditorSV(!1),t.currentMode="ir",t.ir.element.innerHTML=t.lute.Md2VditorIRDOM(s),jt(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),A(t),t.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(a){Ue(a,t)}),t.ir.element.querySelectorAll(".vditor-toc").forEach(function(a){(0,He.H)(a,{cdn:t.options.cdn,math:t.options.preview.math})});else if(n==="wysiwyg")N(t.toolbar.elements,["both"]),I(t.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),t.sv.element.style.display="none",t.wysiwyg.element.parentElement.style.display="block",t.ir.element.parentElement.style.display="none",t.lute.SetVditorIR(!1),t.lute.SetVditorWYSIWYG(!0),t.lute.SetVditorSV(!1),t.currentMode="wysiwyg",A(t),wt(t,s,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),t.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(a){(0,He.H)(a,{cdn:t.options.cdn,math:t.options.preview.math})}),t.wysiwyg.popover.style.display="none";else if(n==="sv"){I(t.toolbar.elements,["both"]),N(t.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),t.wysiwyg.element.parentElement.style.display="none",t.ir.element.parentElement.style.display="none",(t.options.preview.mode==="both"||t.options.preview.mode==="editor")&&(t.sv.element.style.display="block"),t.lute.SetVditorIR(!1),t.lute.SetVditorWYSIWYG(!1),t.lute.SetVditorSV(!0),t.currentMode="sv";var i=uo(s,t);i==="<div data-block='0'></div>"&&(i=""),t.sv.element.innerHTML=i,nt(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),A(t)}t.undo.resetIcon(t),typeof r!="string"&&(t[t.currentMode].element.focus(),Qe(t)),Je(t),D(t),t.toolbar.elements["edit-mode"]&&(t.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(a){a.classList.remove("vditor-menu--current")}),t.toolbar.elements["edit-mode"].querySelector('button[data-mode="'+t.currentMode+'"]').classList.add("vditor-menu--current")),t.outline.toggle(t,t.currentMode!=="sv"&&t.options.outline.enable,typeof r!="string")}},ll=function(t){function n(r,s){var i=t.call(this,r,s)||this,a=document.createElement("div");return a.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow"),a.innerHTML='<button data-mode="wysiwyg">'+window.VditorI18n.wysiwyg+" &lt;"+(0,m.ns)("\u2325\u23187")+`></button>
<button data-mode="ir">`+window.VditorI18n.instantRendering+" &lt;"+(0,m.ns)("\u2325\u23188")+`></button>
<button data-mode="sv">`+window.VditorI18n.splitView+" &lt;"+(0,m.ns)("\u2325\u23189")+"></button>",i.element.appendChild(a),i._bindEvent(r,a,s),i}return al(n,t),n.prototype._bindEvent=function(r,s,i){var a=this.element.children[0];H(r,s,a,i.level),s.children.item(0).addEventListener((0,m.Le)(),function(c){sn(r,"wysiwyg",c),c.preventDefault(),c.stopPropagation()}),s.children.item(1).addEventListener((0,m.Le)(),function(c){sn(r,"ir",c),c.preventDefault(),c.stopPropagation()}),s.children.item(2).addEventListener((0,m.Le)(),function(c){sn(r,"sv",c),c.preventDefault(),c.stopPropagation()})},n}(Ge),Un=function(t,n){return(0,P.Gb)(t,n)?getSelection().toString():""},Gr=function(t,n){n.addEventListener("focus",function(){t.options.focus&&t.options.focus(v(t)),M(t,["subToolbar","hint"])})},lo=function(t,n){n.addEventListener("dblclick",function(r){r.target.tagName==="IMG"&&(t.options.image.preview?t.options.image.preview(r.target):t.options.image.isPreview&&(0,ue.E)(r.target,t.options.lang,t.options.theme))})},Zr=function(t,n){n.addEventListener("blur",function(r){if(t.currentMode==="ir"){var s=t.ir.element.querySelector(".vditor-ir__node--expand");s&&s.classList.remove("vditor-ir__node--expand")}else t.currentMode!=="wysiwyg"||t.wysiwyg.selectPopover.contains(r.relatedTarget)||t.wysiwyg.hideComment();t[t.currentMode].range=(0,P.zh)(t),t.options.blur&&t.options.blur(v(t))})},Jr=function(t,n){n.addEventListener("dragstart",function(r){r.dataTransfer.setData(g.g.DROP_EDITOR,g.g.DROP_EDITOR)}),n.addEventListener("drop",function(r){r.dataTransfer.getData(g.g.DROP_EDITOR)?Ne(t):(r.dataTransfer.types.includes("Files")||r.dataTransfer.types.includes("text/html"))&&fr(t,r,{pasteCode:function(s){document.execCommand("insertHTML",!1,s)}})})},Xr=function(t,n,r){n.addEventListener("copy",function(s){return r(s,t)})},Yr=function(t,n,r){n.addEventListener("cut",function(s){r(s,t),t.options.comment.enable&&t.currentMode==="wysiwyg"&&t.wysiwyg.getComments(t),document.execCommand("delete")})},et=function(t){if(t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.options.comment.adjustTop(t.wysiwyg.getComments(t,!0)),t.options.typewriterMode){var n=t[t.currentMode].element,r=(0,P.Ny)(n).top;t.options.height!=="auto"||t.element.classList.contains("vditor--fullscreen")||window.scrollTo(window.scrollX,r+t.element.offsetTop+t.toolbar.element.offsetHeight-window.innerHeight/2+10),(t.options.height!=="auto"||t.element.classList.contains("vditor--fullscreen"))&&(n.scrollTop=r+n.scrollTop-n.clientHeight/2+10)}},Qr=function(t,n){n.addEventListener("keydown",function(r){if(!(t.options.hint.extend.length>1||t.toolbar.elements.emoji)||!t.hint.select(r,t)){if(t.options.comment.enable&&t.currentMode==="wysiwyg"&&(r.key==="Backspace"||te("\u2318X",r))&&t.wysiwyg.getComments(t),t.currentMode==="sv"){if(function(i,a){var c,_,x,S,T;if(i.sv.composingLock=a.isComposing,a.isComposing||(a.key.indexOf("Arrow")!==-1||a.key==="Meta"||a.key==="Control"||a.key==="Alt"||a.key==="Shift"||a.key==="CapsLock"||a.key==="Escape"||/^F\d{1,2}$/.test(a.key)||i.undo.recordFirstPosition(i,a),a.key!=="Enter"&&a.key!=="Tab"&&a.key!=="Backspace"&&a.key.indexOf("Arrow")===-1&&!(0,m.yl)(a)&&a.key!=="Escape"))return!1;var B=(0,P.zh)(i),Z=B.startContainer;B.startContainer.nodeType!==3&&B.startContainer.tagName==="DIV"&&(Z=B.startContainer.childNodes[B.startOffset-1]);var ne=(0,k.a1)(Z,"data-type","text"),j=(0,k.a1)(Z,"data-type","blockquote-marker");if(!j&&B.startOffset===0&&ne&&ne.previousElementSibling&&ne.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(j=ne.previousElementSibling),j&&a.key==="Enter"&&!(0,m.yl)(a)&&!a.altKey&&j.nextElementSibling.textContent.trim()===""&&(0,P.im)(j,i.sv.element,B).start===j.textContent.length)return((c=j.previousElementSibling)===null||c===void 0?void 0:c.getAttribute("data-type"))==="padding"&&j.previousElementSibling.setAttribute("data-action","enter-remove"),j.remove(),nt(i),a.preventDefault(),!0;var W=(0,k.a1)(Z,"data-type","li-marker"),me=(0,k.a1)(Z,"data-type","task-marker"),Y=W;if(Y||me&&me.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(Y=me),Y||B.startOffset!==0||!ne||!ne.previousElementSibling||ne.previousElementSibling.getAttribute("data-type")!=="li-marker"&&ne.previousElementSibling.getAttribute("data-type")!=="task-marker"||(Y=ne.previousElementSibling),Y){var ae=(0,P.im)(Y,i.sv.element,B).start,J=Y.getAttribute("data-type")==="task-marker",U=Y;if(J&&(U=Y.previousElementSibling.previousElementSibling.previousElementSibling),ae===Y.textContent.length){if(a.key==="Enter"&&!(0,m.yl)(a)&&!a.altKey&&!a.shiftKey&&Y.nextElementSibling.textContent.trim()==="")return((_=U.previousElementSibling)===null||_===void 0?void 0:_.getAttribute("data-type"))==="padding"?(U.previousElementSibling.remove(),Re(i)):(J&&(U.remove(),Y.previousElementSibling.previousElementSibling.remove(),Y.previousElementSibling.remove()),Y.nextElementSibling.remove(),Y.remove(),nt(i)),a.preventDefault(),!0;if(a.key==="Tab")return U.insertAdjacentHTML("beforebegin",'<span data-type="padding">'+U.textContent.replace(/\S/g," ")+"</span>"),/^\d/.test(U.textContent)&&(U.textContent=U.textContent.replace(/^\d{1,}/,"1"),B.selectNodeContents(Y.firstChild),B.collapse(!1)),Re(i),a.preventDefault(),!0}}if(oi(i,B,a))return!0;var pe=(0,k.a1)(Z,"data-block","0"),Ce=(0,F.S)(Z,"SPAN");if(a.key==="Enter"&&!(0,m.yl)(a)&&!a.altKey&&!a.shiftKey&&pe){var ye=!1,xe=pe.textContent.match(/^\n+/);(0,P.im)(pe,i.sv.element).start<=(xe?xe[0].length:0)&&(ye=!0);var Ae=`
`;if(Ce){if(((x=Ce.previousElementSibling)===null||x===void 0?void 0:x.getAttribute("data-action"))==="enter-remove")return Ce.previousElementSibling.remove(),nt(i),a.preventDefault(),!0;Ae+=cl(Ce)}return B.insertNode(document.createTextNode(Ae)),B.collapse(!1),pe&&pe.textContent.trim()!==""&&!ye?Re(i):nt(i),a.preventDefault(),!0}if(a.key==="Backspace"&&!(0,m.yl)(a)&&!a.altKey&&!a.shiftKey){if(Ce&&((S=Ce.previousElementSibling)===null||S===void 0?void 0:S.getAttribute("data-type"))==="newline"&&(0,P.im)(Ce,i.sv.element,B).start===1&&Ce.getAttribute("data-type").indexOf("code-block-")===-1)return B.setStart(Ce,0),B.extractContents(),Ce.textContent.trim()!==""?Re(i):nt(i),a.preventDefault(),!0;if(pe&&(0,P.im)(pe,i.sv.element,B).start===0&&pe.previousElementSibling){B.extractContents();var ce=pe.previousElementSibling.lastElementChild;return ce.getAttribute("data-type")==="newline"&&(ce.remove(),ce=pe.previousElementSibling.lastElementChild),ce.getAttribute("data-type")!=="newline"&&(ce.insertAdjacentHTML("afterend",pe.innerHTML),pe.remove()),pe.textContent.trim()===""||((T=pe.previousElementSibling)===null||T===void 0?void 0:T.querySelector('[data-type="code-block-open-marker"]'))?(ce.getAttribute("data-type")!=="newline"&&(B.selectNodeContents(ce.lastChild),B.collapse(!1)),nt(i)):Re(i),a.preventDefault(),!0}}return!1}(t,r))return}else if(t.currentMode==="wysiwyg"){if(function(i,a){if(i.wysiwyg.composingLock=a.isComposing,a.isComposing)return!1;a.key.indexOf("Arrow")!==-1||a.key==="Meta"||a.key==="Control"||a.key==="Alt"||a.key==="Shift"||a.key==="CapsLock"||a.key==="Escape"||/^F\d{1,2}$/.test(a.key)||i.undo.recordFirstPosition(i,a);var c=(0,P.zh)(i),_=c.startContainer;if(!vo(a,i,_)||(go(c,i,a),No(c),a.key!=="Enter"&&a.key!=="Tab"&&a.key!=="Backspace"&&a.key.indexOf("Arrow")===-1&&!(0,m.yl)(a)&&a.key!=="Escape"&&a.key!=="Delete"))return!1;var x=(0,k.F9)(_),S=(0,k.lG)(_,"P");if(_o(a,i,S,c)||Eo(c,i,S,a)||To(i,a,c))return!0;var T=(0,k.fb)(_,"vditor-wysiwyg__block");if(T){if(a.key==="Escape"&&T.children.length===2)return i.wysiwyg.popover.style.display="none",T.firstElementChild.style.display="none",i.wysiwyg.element.blur(),a.preventDefault(),!0;if(!(0,m.yl)(a)&&!a.shiftKey&&a.altKey&&a.key==="Enter"&&T.getAttribute("data-type")==="code-block"){var B=i.wysiwyg.popover.querySelector(".vditor-input");return B.focus(),B.select(),a.preventDefault(),!0}if(T.getAttribute("data-block")==="0"&&(Lo(i,a,T.firstElementChild,c)||qn(i,a,c,T.firstElementChild,T)||T.getAttribute("data-type")!=="yaml-front-matter"&&wn(i,a,c,T.firstElementChild,T)))return!0}if(Ao(i,c,a,S))return!0;var Z=(0,k.E2)(_,"BLOCKQUOTE");if(Z&&!a.shiftKey&&a.altKey&&a.key==="Enter"){(0,m.yl)(a)?c.setStartBefore(Z):c.setStartAfter(Z),(0,P.Hc)(c);var ne=document.createElement("p");return ne.setAttribute("data-block","0"),ne.innerHTML=`
`,c.insertNode(ne),c.collapse(!0),(0,P.Hc)(c),V(i),et(i),a.preventDefault(),!0}var j,W=(0,F.W)(_);if(W){if(W.tagName==="H6"&&_.textContent.length===c.startOffset&&!(0,m.yl)(a)&&!a.shiftKey&&!a.altKey&&a.key==="Enter"){var me=document.createElement("p");return me.textContent=`
`,me.setAttribute("data-block","0"),_.parentElement.insertAdjacentElement("afterend",me),c.setStart(me,0),(0,P.Hc)(c),V(i),et(i),a.preventDefault(),!0}var Y;if(te("\u2318=",a))return(Y=parseInt(W.tagName.substr(1),10)-1)>0&&(fe(i,"h"+Y),V(i)),a.preventDefault(),!0;if(te("\u2318-",a))return(Y=parseInt(W.tagName.substr(1),10)+1)<7&&(fe(i,"h"+Y),V(i)),a.preventDefault(),!0;a.key!=="Backspace"||(0,m.yl)(a)||a.shiftKey||a.altKey||W.textContent.length!==1||he(i)}if(Mo(i,c,a))return!0;if(a.altKey&&a.key==="Enter"&&!(0,m.yl)(a)&&!a.shiftKey){var ae=(0,k.lG)(_,"A"),J=(0,k.a1)(_,"data-type","link-ref"),U=(0,k.a1)(_,"data-type","footnotes-ref");if(ae||J||U||W&&W.tagName.length===2){var pe=i.wysiwyg.popover.querySelector("input");pe.focus(),pe.select()}}if(ge(i,a))return!0;if(te("\u21E7\u2318U",a)&&(j=i.wysiwyg.popover.querySelector('[data-type="up"]'))||te("\u21E7\u2318D",a)&&(j=i.wysiwyg.popover.querySelector('[data-type="down"]')))return j.click(),a.preventDefault(),!0;if(oi(i,c,a))return!0;if(!(0,m.yl)(a)&&a.shiftKey&&!a.altKey&&a.key==="Enter"&&_.parentElement.tagName!=="LI"&&_.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(_.parentElement.tagName)?c.insertNode(document.createTextNode(`
`+g.g.ZWSP)):c.insertNode(document.createTextNode(`
`)),c.collapse(!1),(0,P.Hc)(c),V(i),et(i),a.preventDefault(),!0;if(a.key==="Backspace"&&!(0,m.yl)(a)&&!a.shiftKey&&!a.altKey&&c.toString()===""){if(Ho(i,c,a,S))return!0;if(x){if(x.previousElementSibling&&x.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&x.previousElementSibling.getAttribute("data-block")==="0"&&x.tagName!=="UL"&&x.tagName!=="OL"){var Ce=(0,P.im)(x,i.wysiwyg.element,c).start;if(Ce===0&&c.startOffset===0||Ce===1&&x.innerText.startsWith(g.g.ZWSP))return we(x.previousElementSibling.lastElementChild,i,!1),x.innerHTML.trim().replace(g.g.ZWSP,"")===""&&(x.remove(),V(i)),a.preventDefault(),!0}var ye=c.startOffset;if(c.toString()===""&&_.nodeType===3&&_.textContent.charAt(ye-2)===`
`&&_.textContent.charAt(ye-1)!==g.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(_.parentElement.tagName))return _.textContent=_.textContent.substring(0,ye-1)+g.g.ZWSP,c.setStart(_,ye),c.collapse(!0),V(i),a.preventDefault(),!0;_.textContent===g.g.ZWSP&&c.startOffset===1&&!_.previousSibling&&function(Ae){for(var ce=Ae.startContainer.nextSibling;ce&&ce.textContent==="";)ce=ce.nextSibling;return!(!ce||ce.nodeType===3||ce.tagName!=="CODE"&&ce.getAttribute("data-type")!=="math-inline"&&ce.getAttribute("data-type")!=="html-entity"&&ce.getAttribute("data-type")!=="html-inline")}(c)&&(_.textContent=""),x.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(Ae){Ae.firstElementChild.style.display="inline",Ae.lastElementChild.style.display="none"}),x.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(Ae){Ae.firstElementChild.style.display="inline",Ae.lastElementChild.style.display="none"})}}if((0,m.vU)()&&c.startOffset===1&&_.textContent.indexOf(g.g.ZWSP)>-1&&_.previousSibling&&_.previousSibling.nodeType!==3&&_.previousSibling.tagName==="CODE"&&(a.key==="Backspace"||a.key==="ArrowLeft"))return c.selectNodeContents(_.previousSibling),c.collapse(!1),a.preventDefault(),!0;if(Oo(a,x,c))return a.preventDefault(),!0;if(yo(c,a.key),a.key==="ArrowDown"){var xe=_.nextSibling;xe&&xe.nodeType!==3&&xe.getAttribute("data-type")==="math-inline"&&c.setStartAfter(xe)}return!(!x||!de(x,i,a,c)||(a.preventDefault(),0))}(t,r))return}else if(t.currentMode==="ir"&&function(i,a){if(i.ir.composingLock=a.isComposing,a.isComposing)return!1;a.key.indexOf("Arrow")!==-1||a.key==="Meta"||a.key==="Control"||a.key==="Alt"||a.key==="Shift"||a.key==="CapsLock"||a.key==="Escape"||/^F\d{1,2}$/.test(a.key)||i.undo.recordFirstPosition(i,a);var c=(0,P.zh)(i),_=c.startContainer;if(!vo(a,i,_)||(go(c,i,a),No(c),a.key!=="Enter"&&a.key!=="Tab"&&a.key!=="Backspace"&&a.key.indexOf("Arrow")===-1&&!(0,m.yl)(a)&&a.key!=="Escape"&&a.key!=="Delete"))return!1;var x=(0,k.a1)(_,"data-newline","1");if(!(0,m.yl)(a)&&!a.altKey&&!a.shiftKey&&a.key==="Enter"&&x&&c.startOffset<x.textContent.length){var S=x.previousElementSibling;S&&(c.insertNode(document.createTextNode(S.textContent)),c.collapse(!1));var T=x.nextSibling;T&&(c.insertNode(document.createTextNode(T.textContent)),c.collapse(!0))}var B=(0,k.lG)(_,"P");if(_o(a,i,B,c)||Eo(c,i,B,a)||Ao(i,c,a,B))return!0;var Z=(0,k.fb)(_,"vditor-ir__marker--pre");if(Z&&Z.tagName==="PRE"){var ne=Z.firstChild;if(Lo(i,a,Z,c)||(ne.getAttribute("data-type")==="math-block"||ne.getAttribute("data-type")==="html-block")&&wn(i,a,c,ne,Z.parentElement)||qn(i,a,c,ne,Z.parentElement))return!0}var j=(0,k.a1)(_,"data-type","code-block-info");if(j){if(a.key==="Enter"||a.key==="Tab")return c.selectNodeContents(j.nextElementSibling.firstChild),c.collapse(!0),a.preventDefault(),M(i,["hint"]),!0;if(a.key==="Backspace"){var W=(0,P.im)(j,i.ir.element).start;W===1&&c.setStart(_,0),W===2&&(i.hint.recentLanguage="")}if(wn(i,a,c,j,j.parentElement))return M(i,["hint"]),!0}var me=(0,k.lG)(_,"TD")||(0,k.lG)(_,"TH");if(a.key.indexOf("Arrow")>-1&&me){var Y=gl(me);if(Y&&wn(i,a,c,me,Y))return!0;var ae=yl(me);if(ae&&qn(i,a,c,me,ae))return!0}if(To(i,a,c)||Mo(i,c,a)||oi(i,c,a))return!0;var J=(0,F.W)(_);if(J){var U;if(te("\u2318=",a))return(U=J.querySelector(".vditor-ir__marker--heading"))&&U.textContent.trim().length>1&&Fn(i,U.textContent.substr(1)),a.preventDefault(),!0;if(te("\u2318-",a))return(U=J.querySelector(".vditor-ir__marker--heading"))&&U.textContent.trim().length<6&&Fn(i,U.textContent.trim()+"# "),a.preventDefault(),!0}var pe=(0,k.F9)(_);if(a.key==="Backspace"&&!(0,m.yl)(a)&&!a.shiftKey&&!a.altKey&&c.toString()===""){if(Ho(i,c,a,B))return!0;if(pe&&pe.previousElementSibling&&pe.tagName!=="UL"&&pe.tagName!=="OL"&&(pe.previousElementSibling.getAttribute("data-type")==="code-block"||pe.previousElementSibling.getAttribute("data-type")==="math-block")){var Ce=(0,P.im)(pe,i.ir.element,c).start;if(Ce===0||Ce===1&&pe.innerText.startsWith(g.g.ZWSP))return c.selectNodeContents(pe.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),c.collapse(!1),Q(c,i),pe.textContent.trim().replace(g.g.ZWSP,"")===""&&(pe.remove(),jt(i)),a.preventDefault(),!0}if(J){var ye=J.firstElementChild.textContent.length;(0,P.im)(J,i.ir.element).start===ye&&(c.setStart(J.firstElementChild.firstChild,ye-1),c.collapse(!0),(0,P.Hc)(c))}}return!((a.key!=="ArrowUp"&&a.key!=="ArrowDown"||!pe||(pe.querySelectorAll(".vditor-ir__node").forEach(function(xe){xe.contains(_)||xe.classList.add("vditor-ir__node--hidden")}),!Oo(a,pe,c)))&&(yo(c,a.key),!pe||!de(pe,i,a,c)||(a.preventDefault(),0)))}(t,r))return;if(t.options.ctrlEnter&&te("\u2318Enter",r))return t.options.ctrlEnter(v(t)),void r.preventDefault();if(te("\u2318Z",r)&&!t.toolbar.elements.undo)return t.undo.undo(t),void r.preventDefault();if(te("\u2318Y",r)&&!t.toolbar.elements.redo)return t.undo.redo(t),void r.preventDefault();if(r.key==="Escape")return t.hint.element.style.display==="block"?t.hint.element.style.display="none":t.options.esc&&!r.isComposing&&t.options.esc(v(t)),void r.preventDefault();if((0,m.yl)(r)&&r.altKey&&!r.shiftKey&&/^Digit[1-6]$/.test(r.code)){if(t.currentMode==="wysiwyg"){var s=r.code.replace("Digit","H");(0,k.lG)(getSelection().getRangeAt(0).startContainer,s)?he(t):fe(t,s),V(t)}else t.currentMode==="sv"?fo(t,"#".repeat(parseInt(r.code.replace("Digit",""),10))+" "):t.currentMode==="ir"&&Fn(t,"#".repeat(parseInt(r.code.replace("Digit",""),10))+" ");return r.preventDefault(),!0}if((0,m.yl)(r)&&r.altKey&&!r.shiftKey&&/^Digit[7-9]$/.test(r.code))return r.code==="Digit7"?sn(t,"wysiwyg",r):r.code==="Digit8"?sn(t,"ir",r):r.code==="Digit9"&&sn(t,"sv",r),!0;t.options.toolbar.find(function(i){return!i.hotkey||i.toolbar?!!i.toolbar&&!!i.toolbar.find(function(a){return!!a.hotkey&&(te(a.hotkey,r)?(t.toolbar.elements[a.name].children[0].dispatchEvent(new CustomEvent((0,m.Le)())),r.preventDefault(),!0):void 0)}):te(i.hotkey,r)?(t.toolbar.elements[i.name].children[0].dispatchEvent(new CustomEvent((0,m.Le)())),r.preventDefault(),!0):void 0})}})},ei=function(t,n){n.addEventListener("selectstart",function(r){n.onmouseup=function(){setTimeout(function(){var s=Un(t[t.currentMode].element);s.trim()?(t.currentMode==="wysiwyg"&&t.options.comment.enable&&((0,k.a1)(r.target,"data-type","footnotes-block")||(0,k.a1)(r.target,"data-type","link-ref-defs-block")?t.wysiwyg.hideComment():t.wysiwyg.showComment()),t.options.select&&t.options.select(s)):t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.wysiwyg.hideComment()})}})},co=function(t,n){var r=(0,P.zh)(t);r.extractContents(),r.insertNode(document.createTextNode(Lute.Caret)),r.insertNode(document.createTextNode(n));var s=(0,k.a1)(r.startContainer,"data-block","0");s||(s=t.sv.element);var i=t.lute.SpinVditorSVDOM(s.textContent);i=i.indexOf('data-type="footnotes-link"')>-1||i.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+i+"</div>":"<div data-block='0'>"+i.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",s.isEqualNode(t.sv.element)?s.innerHTML=i:s.outerHTML=i,(0,P.ib)(t.sv.element,r),et(t)},sr=function(t,n,r){r===void 0&&(r=!0);var s=t;for(s.nodeType===3&&(s=s.parentElement);s;){if(s.getAttribute("data-type")===n)return s;s=r?s.previousElementSibling:s.nextElementSibling}return!1},uo=function(t,n){q("SpinVditorSVDOM",t,"argument",n.options.debugger);var r=n.lute.SpinVditorSVDOM(t);return t=r.indexOf('data-type="footnotes-link"')>-1||r.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+r+"</div>":"<div data-block='0'>"+r.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",q("SpinVditorSVDOM",t,"result",n.options.debugger),t},cl=function(t){var n=t.getAttribute("data-type"),r=t.previousElementSibling,s=n&&n!=="text"&&n!=="table"&&n!=="heading-marker"&&n!=="newline"&&n!=="yaml-front-matter-open-marker"&&n!=="yaml-front-matter-close-marker"&&n!=="code-block-info"&&n!=="code-block-close-marker"&&n!=="code-block-open-marker"?t.textContent:"",i=!1;for(n==="newline"&&(i=!0);r&&!i;){var a=r.getAttribute("data-type");if(a==="li-marker"||a==="blockquote-marker"||a==="task-marker"||a==="padding"){var c=r.textContent;if(a!=="li-marker"||n!=="code-block-open-marker"&&n!=="code-block-info")if(n==="code-block-close-marker"&&r.nextElementSibling.isSameNode(t)){var _=sr(t,"code-block-open-marker");_&&_.previousElementSibling&&(r=_.previousElementSibling,s=c+s)}else s=c+s;else s=c.replace(/\S/g," ")+s}else a==="newline"&&(i=!0);r=r.previousElementSibling}return s},nt=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),n.enableHint&&t.hint.render(t),t.preview.render(t);var r=v(t);typeof t.options.input=="function"&&n.enableInput&&t.options.input(r),t.options.counter.enable&&t.counter.render(t,r),t.options.cache.enable&&(0,m.pK)()&&(localStorage.setItem(t.options.cache.id,r),t.options.cache.after&&t.options.cache.after(r)),t.devtools&&t.devtools.renderEchart(t),clearTimeout(t.sv.processTimeoutId),t.sv.processTimeoutId=window.setTimeout(function(){n.enableAddUndoStack&&!t.sv.composingLock&&t.undo.addToUndoStack(t)},t.options.undoDelay)},fo=function(t,n){var r=(0,P.zh)(t),s=(0,F.S)(r.startContainer,"SPAN");s&&s.textContent.trim()!==""&&(n=`
`+n),r.collapse(!0),document.execCommand("insertHTML",!1,n)},dl=function(t,n,r,s){var i=(0,P.zh)(t),a=n.getAttribute("data-type");t.sv.element.childNodes.length===0&&(t.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,P.ib)(t.sv.element,i));var c=(0,k.F9)(i.startContainer),_=(0,F.S)(i.startContainer,"SPAN");if(c){if(a==="link"){var x=void 0;return x=i.toString()===""?""+r+Lute.Caret+s:""+r+i.toString()+s.replace(")",Lute.Caret+")"),void document.execCommand("insertHTML",!1,x)}if(a==="italic"||a==="bold"||a==="strike"||a==="inline-code"||a==="code"||a==="table"||a==="line")return x=void 0,x=i.toString()===""?""+r+Lute.Caret+(a==="code"?"":s):""+r+i.toString()+Lute.Caret+(a==="code"?"":s),a==="table"||a==="code"&&_&&_.textContent!==""?x=`

`+x:a==="line"&&(x=`

`+r+`
`+Lute.Caret),void document.execCommand("insertHTML",!1,x);if((a==="check"||a==="list"||a==="ordered-list"||a==="quote")&&_){var S="* ";a==="check"?S="* [ ] ":a==="ordered-list"?S="1. ":a==="quote"&&(S="> ");var T=sr(_,"newline");return T?T.insertAdjacentText("afterend",S):c.insertAdjacentText("afterbegin",S),void Re(t)}(0,P.ib)(t.sv.element,i),nt(t)}},po=function(t){switch(t.currentMode){case"ir":return t.ir.element;case"wysiwyg":return t.wysiwyg.element;case"sv":return t.sv.element}},mo=function(t,n){t.options.upload.setHeaders&&(t.options.upload.headers=t.options.upload.setHeaders()),t.options.upload.headers&&Object.keys(t.options.upload.headers).forEach(function(r){n.setRequestHeader(r,t.options.upload.headers[r])})},ul=function(t,n,r,s){return new(r||(r=Promise))(function(i,a){function c(S){try{x(s.next(S))}catch(T){a(T)}}function _(S){try{x(s.throw(S))}catch(T){a(T)}}function x(S){var T;S.done?i(S.value):(T=S.value,T instanceof r?T:new r(function(B){B(T)})).then(c,_)}x((s=s.apply(t,n||[])).next())})},fl=function(t,n){var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function _(x){return function(S){return function(T){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=2&T[0]?s.return:T[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,T[1])).done)return i;switch(s=0,i&&(T=[2&T[0],i.value]),T[0]){case 0:case 1:i=T;break;case 4:return c.label++,{value:T[1],done:!1};case 5:c.label++,s=T[1],T=[0];continue;case 7:T=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!((i=i.length>0&&i[i.length-1])||T[0]!==6&&T[0]!==2)){c=0;continue}if(T[0]===3&&(!i||T[1]>i[0]&&T[1]<i[3])){c.label=T[1];break}if(T[0]===6&&c.label<i[1]){c.label=i[1],i=T;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(T);break}i[2]&&c.ops.pop(),c.trys.pop();continue}T=n.call(t,c)}catch(B){T=[6,B],s=0}finally{r=i=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([x,S])}}},pl=function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"},ho=function(t,n){po(n).focus();var r=JSON.parse(t),s="";r.code===1&&(s=""+r.msg),r.data.errFiles&&r.data.errFiles.length>0&&(s="<ul><li>"+s+"</li>",r.data.errFiles.forEach(function(a){var c=a.lastIndexOf("."),_=n.options.upload.filename(a.substr(0,c))+a.substr(c);s+="<li>"+_+" "+window.VditorI18n.uploadError+"</li>"}),s+="</ul>"),s?n.tip.show(s):n.tip.hide();var i="";Object.keys(r.data.succMap).forEach(function(a){var c=r.data.succMap[a],_=a.lastIndexOf("."),x=a.substr(_),S=n.options.upload.filename(a.substr(0,_))+x;(x=x.toLowerCase()).indexOf(".wav")===0||x.indexOf(".mp3")===0||x.indexOf(".ogg")===0?n.currentMode==="wysiwyg"?i+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`+c+'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="'+c+`"></audio></pre></div>
`:n.currentMode==="ir"?i+='<audio controls="controls" src="'+c+`"></audio>
`:i+="["+S+"]("+c+`)
`:x.indexOf(".apng")===0||x.indexOf(".bmp")===0||x.indexOf(".gif")===0||x.indexOf(".ico")===0||x.indexOf(".cur")===0||x.indexOf(".jpg")===0||x.indexOf(".jpeg")===0||x.indexOf(".jfif")===0||x.indexOf(".pjp")===0||x.indexOf(".pjpeg")===0||x.indexOf(".png")===0||x.indexOf(".svg")===0||x.indexOf(".webp")===0?n.currentMode==="wysiwyg"?i+='<img alt="'+S+'" src="'+c+`">
`:i+="!["+S+"]("+c+`)
`:n.currentMode==="wysiwyg"?i+='<a href="'+c+'">'+S+`</a>
`:i+="["+S+"]("+c+`)
`}),(0,P.Hc)(n.upload.range),document.execCommand("insertHTML",!1,i),n.upload.range=getSelection().getRangeAt(0).cloneRange()},ti=function(t,n,r){return ul(void 0,void 0,void 0,function(){var s,i,a,c,_,x,S,T,B,Z,ne,j,W,me,Y;return fl(this,function(ae){switch(ae.label){case 0:for(s=[],i=t.options.upload.multiple===!0?n.length:1,W=0;W<i;W++)(a=n[W])instanceof DataTransferItem&&(a=a.getAsFile()),s.push(a);return t.options.upload.handler?[4,t.options.upload.handler(s)]:[3,2];case 1:return c=ae.sent(),r&&(r.value=""),typeof c=="string"?(t.tip.show(c),[2]):[2];case 2:return t.options.upload.processor||t.options.upload.url&&t.upload?t.options.upload.file?[4,t.options.upload.file(s)]:[3,4]:(r&&(r.value=""),t.tip.show("please config: options.upload.url"),[2]);case 3:s=ae.sent(),ae.label=4;case 4:return t.options.upload.validate&&typeof(c=t.options.upload.validate(s))=="string"?(t.tip.show(c),[2]):(_=po(t),t.upload.range=(0,P.zh)(t),t.options.upload.processor?[4,t.options.upload.processor(t,s,r)]:[3,6]);case 5:return(x=ae.sent())&&ho(x,t),[2];case 6:if(S=function(J,U){J.tip.hide();for(var pe=[],Ce="",ye="",xe=(J.options.lang,J.options,function(We,Et){var Be=U[Et],Lt=!0;Be.name||(Ce+="<li>"+window.VditorI18n.nameEmpty+"</li>",Lt=!1),Be.size>J.options.upload.max&&(Ce+="<li>"+Be.name+" "+window.VditorI18n.over+" "+J.options.upload.max/1024/1024+"M</li>",Lt=!1);var mt=Be.name.lastIndexOf("."),vt=Be.name.substr(mt),tt=J.options.upload.filename(Be.name.substr(0,mt))+vt;J.options.upload.accept&&(J.options.upload.accept.split(",").some(function(mr){var zt=mr.trim();if(zt.indexOf(".")===0){if(vt.toLowerCase()===zt.toLowerCase())return!0}else if(Be.type.split("/")[0]===zt.split("/")[0])return!0;return!1})||(Ce+="<li>"+Be.name+" "+window.VditorI18n.fileTypeError+"</li>",Lt=!1)),Lt&&(pe.push(Be),ye+="<li>"+tt+" "+window.VditorI18n.uploading+"</li>")}),Ae=U.length,ce=0;ce<Ae;ce++)xe(0,ce);return J.tip.show("<ul>"+Ce+ye+"</ul>"),pe}(t,s),S.length===0)return r&&(r.value=""),[2];for(T=new FormData,B=t.options.upload.extraData,Z=0,ne=Object.keys(B);Z<ne.length;Z++)j=ne[Z],T.append(j,B[j]);for(W=0,me=S.length;W<me;W++)T.append(t.options.upload.fieldName,S[W]);return(Y=new XMLHttpRequest).open("POST",t.options.upload.url),t.options.upload.token&&Y.setRequestHeader("X-Upload-Token",t.options.upload.token),t.options.upload.withCredentials&&(Y.withCredentials=!0),mo(t,Y),t.upload.isUploading=!0,_.setAttribute("contenteditable","false"),Y.onreadystatechange=function(){if(Y.readyState===XMLHttpRequest.DONE){if(t.upload.isUploading=!1,_.setAttribute("contenteditable","true"),Y.status>=200&&Y.status<300)if(t.options.upload.success)t.options.upload.success(_,Y.responseText);else{var J=Y.responseText;t.options.upload.format&&(J=t.options.upload.format(n,Y.responseText)),ho(J,t)}else t.options.upload.error?t.options.upload.error(Y.responseText):t.tip.show(Y.responseText);r&&(r.value=""),t.upload.element.style.display="none"}},Y.upload.onprogress=function(J){if(J.lengthComputable){var U=J.loaded/J.total*100;t.upload.element.style.display="block",t.upload.element.style.width=U+"%"}},Y.send(T),[2]}})})},ar=function(t,n,r){var s,i=(0,k.F9)(n.startContainer);if(i||(i=t.wysiwyg.element),r&&r.inputType!=="formatItalic"&&r.inputType!=="deleteByDrag"&&r.inputType!=="insertFromDrop"&&r.inputType!=="formatBold"&&r.inputType!=="formatRemove"&&r.inputType!=="formatStrikeThrough"&&r.inputType!=="insertUnorderedList"&&r.inputType!=="insertOrderedList"&&r.inputType!=="formatOutdent"&&r.inputType!=="formatIndent"&&r.inputType!==""||!r){var a=function(J){for(var U=J.previousSibling;U;){if(U.nodeType!==3&&U.tagName==="A"&&!U.previousSibling&&U.innerHTML.replace(g.g.ZWSP,"")===""&&U.nextSibling)return U;U=U.previousSibling}return!1}(n.startContainer);a&&a.remove(),t.wysiwyg.element.querySelectorAll("wbr").forEach(function(J){J.remove()}),n.insertNode(document.createElement("wbr")),i.querySelectorAll("[style]").forEach(function(J){J.removeAttribute("style")}),i.querySelectorAll(".vditor-comment").forEach(function(J){J.textContent.trim()===""&&(J.classList.remove("vditor-comment","vditor-comment--focus"),J.removeAttribute("data-cmtids"))}),(s=i.previousElementSibling)===null||s===void 0||s.querySelectorAll(".vditor-comment").forEach(function(J){J.textContent.trim()===""&&(J.classList.remove("vditor-comment","vditor-comment--focus"),J.removeAttribute("data-cmtids"))});var c="";i.getAttribute("data-type")==="link-ref-defs-block"&&(i=t.wysiwyg.element);var _,x=i.isEqualNode(t.wysiwyg.element),S=(0,k.a1)(i,"data-type","footnotes-block");if(x)c=i.innerHTML;else{var T=(0,k.O9)(n.startContainer);if(T&&!S){var B=(0,F.S)(n.startContainer,"BLOCKQUOTE");i=B?(0,k.F9)(n.startContainer)||i:T}if(S&&(i=S),c=i.outerHTML,i.tagName==="UL"||i.tagName==="OL"){var Z=i.previousElementSibling,ne=i.nextElementSibling;!Z||Z.tagName!=="UL"&&Z.tagName!=="OL"||(c=Z.outerHTML+c,Z.remove()),!ne||ne.tagName!=="UL"&&ne.tagName!=="OL"||(c+=ne.outerHTML,ne.remove()),c=c.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}i.innerText.startsWith("```")||(t.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(J){J&&!i.isEqualNode(J)&&(c+=J.outerHTML,J.remove())}),t.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(J){J&&!i.isEqualNode(J)&&(c+=J.outerHTML,J.remove())}))}if((c=c.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""))==='<p data-block="0">```<wbr></p>'&&t.hint.recentLanguage&&(c='<p data-block="0">```<wbr></p>'.replace("```","```"+t.hint.recentLanguage)),q("SpinVditorDOM",c,"argument",t.options.debugger),c=t.lute.SpinVditorDOM(c),q("SpinVditorDOM",c,"result",t.options.debugger),x)i.innerHTML=c;else if(i.outerHTML=c,S){var j=(0,k.E2)(t.wysiwyg.element.querySelector("wbr"),"LI");if(j){var W=t.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+j.getAttribute("data-marker")+'"]');W&&W.setAttribute("aria-label",j.textContent.trim().substr(0,24))}}var me,Y=t.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");Y.forEach(function(J,U){U===0?_=J:(_.insertAdjacentHTML("beforeend",J.innerHTML),J.remove())}),Y.length>0&&t.wysiwyg.element.insertAdjacentElement("beforeend",Y[0]);var ae=t.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");ae.forEach(function(J,U){U===0?me=J:(me.insertAdjacentHTML("beforeend",J.innerHTML),J.remove())}),ae.length>0&&t.wysiwyg.element.insertAdjacentElement("beforeend",ae[0]),(0,P.ib)(t.wysiwyg.element,n),t.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(J){Ue(J,t)}),r&&(r.inputType==="deleteContentBackward"||r.inputType==="deleteContentForward")&&t.options.comment.enable&&(t.wysiwyg.triggerRemoveComment(t),t.options.comment.adjustTop(t.wysiwyg.getComments(t,!0)))}Je(t),V(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},ml=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},hl=function(t,n,r,s){return new(r||(r=Promise))(function(i,a){function c(S){try{x(s.next(S))}catch(T){a(T)}}function _(S){try{x(s.throw(S))}catch(T){a(T)}}function x(S){var T;S.done?i(S.value):(T=S.value,T instanceof r?T:new r(function(B){B(T)})).then(c,_)}x((s=s.apply(t,n||[])).next())})},vl=function(t,n){var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function _(x){return function(S){return function(T){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=2&T[0]?s.return:T[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,T[1])).done)return i;switch(s=0,i&&(T=[2&T[0],i.value]),T[0]){case 0:case 1:i=T;break;case 4:return c.label++,{value:T[1],done:!1};case 5:c.label++,s=T[1],T=[0];continue;case 7:T=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!((i=i.length>0&&i[i.length-1])||T[0]!==6&&T[0]!==2)){c=0;continue}if(T[0]===3&&(!i||T[1]>i[0]&&T[1]<i[3])){c.label=T[1];break}if(T[0]===6&&c.label<i[1]){c.label=i[1],i=T;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(T);break}i[2]&&c.ops.pop(),c.trys.pop();continue}T=n.call(t,c)}catch(B){T=[6,B],s=0}finally{r=i=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([x,S])}}},vo=function(t,n,r){if(t.keyCode===229&&t.code===""&&t.key==="Unidentified"&&n.currentMode!=="sv"){var s=(0,k.F9)(r);if(s&&s.textContent.trim()==="")return n[n.currentMode].composingLock=!0,!1}return!0},go=function(t,n,r){if(!(r.key==="Enter"||r.key==="Tab"||r.key==="Backspace"||r.key.indexOf("Arrow")>-1||(0,m.yl)(r)||r.key==="Escape"||r.shiftKey||r.altKey)){var s=(0,k.lG)(t.startContainer,"P")||(0,k.lG)(t.startContainer,"LI");if(s&&(0,P.im)(s,n[n.currentMode].element,t).start===0){s.nodeValue&&(s.nodeValue=s.nodeValue.replace(/\u2006/g,""));var i=document.createTextNode(g.g.ZWSP);t.insertNode(i),t.setStartAfter(i)}}},yo=function(t,n){if(n==="ArrowDown"||n==="ArrowUp"){var r=(0,k.a1)(t.startContainer,"data-type","math-inline")||(0,k.a1)(t.startContainer,"data-type","html-entity")||(0,k.a1)(t.startContainer,"data-type","html-inline");r&&(n==="ArrowDown"&&t.setStartAfter(r.parentElement),n==="ArrowUp"&&t.setStartBefore(r.parentElement))}},lr=function(t,n){var r=(0,P.zh)(t),s=(0,k.F9)(r.startContainer);s&&(s.insertAdjacentHTML(n,'<p data-block="0">'+g.g.ZWSP+`<wbr>
</p>`),(0,P.ib)(t[t.currentMode].element,r),Qe(t),Ne(t))},gl=function(t){var n=(0,k.lG)(t,"TABLE");return!(!n||!n.rows[0].cells[0].isSameNode(t))&&n},yl=function(t){var n=(0,k.lG)(t,"TABLE");return!(!n||!n.lastElementChild.lastElementChild.lastElementChild.isSameNode(t))&&n},bo=function(t,n,r){r===void 0&&(r=!0);var s=t.previousElementSibling;return s||(s=t.parentElement.previousElementSibling?t.parentElement.previousElementSibling.lastElementChild:t.parentElement.parentElement.tagName==="TBODY"&&t.parentElement.parentElement.previousElementSibling?t.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:null),s&&(n.selectNodeContents(s),r||n.collapse(!1),(0,P.Hc)(n)),s},qn=function(t,n,r,s,i){var a=(0,P.im)(s,t[t.currentMode].element,r);if(n.key==="ArrowDown"&&s.textContent.trimRight().substr(a.start).indexOf(`
`)===-1||n.key==="ArrowRight"&&a.start>=s.textContent.trimRight().length){var c=i.nextElementSibling;return!c||c&&(c.tagName==="TABLE"||c.getAttribute("data-type"))?(i.insertAdjacentHTML("afterend",'<p data-block="0">'+g.g.ZWSP+"<wbr></p>"),(0,P.ib)(t[t.currentMode].element,r)):(r.selectNodeContents(c),r.collapse(!0),(0,P.Hc)(r)),n.preventDefault(),!0}return!1},wn=function(t,n,r,s,i){var a=(0,P.im)(s,t[t.currentMode].element,r);if(n.key==="ArrowUp"&&s.textContent.substr(0,a.start).indexOf(`
`)===-1||(n.key==="ArrowLeft"||n.key==="Backspace"&&r.toString()==="")&&a.start===0){var c=i.previousElementSibling;return!c||c&&(c.tagName==="TABLE"||c.getAttribute("data-type"))?(i.insertAdjacentHTML("beforebegin",'<p data-block="0">'+g.g.ZWSP+"<wbr></p>"),(0,P.ib)(t[t.currentMode].element,r)):(r.selectNodeContents(c),r.collapse(!1),(0,P.Hc)(r)),n.preventDefault(),!0}return!1},cr=function(t,n,r,s){s===void 0&&(s=!0);var i=(0,k.lG)(n.startContainer,"LI");if(t[t.currentMode].element.querySelectorAll("wbr").forEach(function(T){T.remove()}),n.insertNode(document.createElement("wbr")),s&&i){for(var a="",c=0;c<i.parentElement.childElementCount;c++){var _=i.parentElement.children[c].querySelector("input");_&&_.remove(),a+='<p data-block="0">'+i.parentElement.children[c].innerHTML.trimLeft()+"</p>"}i.parentElement.insertAdjacentHTML("beforebegin",a),i.parentElement.remove()}else if(i)if(r==="check")i.parentElement.querySelectorAll("li").forEach(function(T){T.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'+(T.textContent.indexOf(" ")===0?"":" ")),T.classList.add("vditor-task")});else{i.querySelector("input")&&i.parentElement.querySelectorAll("li").forEach(function(T){T.querySelector("input").remove(),T.classList.remove("vditor-task")});var x=void 0;r==="list"?(x=document.createElement("ul")).setAttribute("data-marker","*"):(x=document.createElement("ol")).setAttribute("data-marker","1."),x.setAttribute("data-block","0"),x.setAttribute("data-tight",i.parentElement.getAttribute("data-tight")),x.innerHTML=i.parentElement.innerHTML,i.parentElement.parentNode.replaceChild(x,i.parentElement)}else{var S=(0,k.a1)(n.startContainer,"data-block","0");S||(t[t.currentMode].element.querySelector("wbr").remove(),(S=t[t.currentMode].element.querySelector("p")).innerHTML="<wbr>"),r==="check"?(S.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '+S.innerHTML+"</li></ul>"),S.remove()):r==="list"?(S.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'+S.innerHTML+"</li></ul>"),S.remove()):r==="ordered-list"&&(S.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'+S.innerHTML+"</li></ol>"),S.remove())}},wo=function(t,n,r){var s=n.previousElementSibling;if(n&&s){var i=[n];Array.from(r.cloneContents().children).forEach(function(x,S){x.nodeType!==3&&n&&x.textContent.trim()!==""&&n.getAttribute("data-node-id")===x.getAttribute("data-node-id")&&(S!==0&&i.push(n),n=n.nextElementSibling)}),t[t.currentMode].element.querySelectorAll("wbr").forEach(function(x){x.remove()}),r.insertNode(document.createElement("wbr"));var a=s.parentElement,c="";i.forEach(function(x){var S=x.getAttribute("data-marker");S.length!==1&&(S="1"+S.slice(-1)),c+='<li data-node-id="'+x.getAttribute("data-node-id")+'" data-marker="'+S+'">'+x.innerHTML+"</li>",x.remove()}),s.insertAdjacentHTML("beforeend","<"+a.tagName+' data-block="0">'+c+"</"+a.tagName+">"),t.currentMode==="wysiwyg"?a.outerHTML=t.lute.SpinVditorDOM(a.outerHTML):a.outerHTML=t.lute.SpinVditorIRDOM(a.outerHTML),(0,P.ib)(t[t.currentMode].element,r);var _=(0,k.O9)(r.startContainer);_&&_.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach(function(x){Ue(x,t),t.currentMode==="wysiwyg"&&x.previousElementSibling.setAttribute("style","display:none")}),Ne(t),Qe(t)}else t[t.currentMode].element.focus()},ni=function(t,n,r,s){var i=(0,k.lG)(n.parentElement,"LI");if(i){t[t.currentMode].element.querySelectorAll("wbr").forEach(function(B){B.remove()}),r.insertNode(document.createElement("wbr"));var a=n.parentElement,c=a.cloneNode(),_=[n];Array.from(r.cloneContents().children).forEach(function(B,Z){B.nodeType!==3&&n&&B.textContent.trim()!==""&&n.getAttribute("data-node-id")===B.getAttribute("data-node-id")&&(Z!==0&&_.push(n),n=n.nextElementSibling)});var x=!1,S="";a.querySelectorAll("li").forEach(function(B){x&&(S+=B.outerHTML,B.nextElementSibling||B.previousElementSibling?B.remove():B.parentElement.remove()),B.isSameNode(_[_.length-1])&&(x=!0)}),_.reverse().forEach(function(B){i.insertAdjacentElement("afterend",B)}),S&&(c.innerHTML=S,_[0].insertAdjacentElement("beforeend",c)),t.currentMode==="wysiwyg"?s.outerHTML=t.lute.SpinVditorDOM(s.outerHTML):s.outerHTML=t.lute.SpinVditorIRDOM(s.outerHTML),(0,P.ib)(t[t.currentMode].element,r);var T=(0,k.O9)(r.startContainer);T&&T.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach(function(B){Ue(B,t),t.currentMode==="wysiwyg"&&B.previousElementSibling.setAttribute("style","display:none")}),Ne(t),Qe(t)}else t[t.currentMode].element.focus()},dr=function(t,n){for(var r=getSelection().getRangeAt(0).startContainer.parentElement,s=t.rows[0].cells.length,i=t.rows.length,a=0,c=0;c<i;c++)for(var _=0;_<s;_++)if(t.rows[c].cells[_].isSameNode(r)){a=_;break}for(var x=0;x<i;x++)t.rows[x].cells[a].setAttribute("align",n)},ri=function(t){var n=t.trimRight().split(`
`).pop();return n!==""&&(n.replace(/ |-/g,"")===""||n.replace(/ |_/g,"")===""||n.replace(/ |\*/g,"")==="")&&n.replace(/ /g,"").length>2&&!(n.indexOf("-")>-1&&n.trimLeft().indexOf(" ")===-1&&t.trimRight().split(`
`).length>1)&&n.indexOf("    ")!==0&&n.indexOf("	")!==0},ii=function(t){var n=t.trimRight().split(`
`);return(t=n.pop()).indexOf("    ")!==0&&t.indexOf("	")!==0&&(t=t.trimLeft())!==""&&n.length!==0&&(t.replace(/-/g,"")===""||t.replace(/=/g,"")==="")},Ne=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.currentMode==="wysiwyg"?V(t,n):t.currentMode==="ir"?jt(t,n):t.currentMode==="sv"&&nt(t,n)},Eo=function(t,n,r,s){var i,a=t.startContainer,c=(0,k.lG)(a,"LI");if(c){if(!(0,m.yl)(s)&&!s.altKey&&s.key==="Enter"&&!s.shiftKey&&r&&c.contains(r)&&r.nextElementSibling)return c&&!c.textContent.endsWith(`
`)&&c.insertAdjacentText("beforeend",`
`),t.insertNode(document.createTextNode(`

`)),t.collapse(!1),Ne(n),s.preventDefault(),!0;if(!((0,m.yl)(s)||s.shiftKey||s.altKey||s.key!=="Backspace"||c.previousElementSibling||t.toString()!==""||(0,P.im)(c,n[n.currentMode].element,t).start!==0))return c.nextElementSibling?(c.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+c.innerHTML+"</p>"),c.remove()):c.parentElement.outerHTML='<p data-block="0"><wbr>'+c.innerHTML+"</p>",(0,P.ib)(n[n.currentMode].element,t),Ne(n),s.preventDefault(),!0;if(!(0,m.yl)(s)&&!s.shiftKey&&!s.altKey&&s.key==="Backspace"&&c.textContent.trim().replace(g.g.ZWSP,"")===""&&t.toString()===""&&((i=c.previousElementSibling)===null||i===void 0?void 0:i.tagName)==="LI")return c.previousElementSibling.insertAdjacentText("beforeend",`

`),t.selectNodeContents(c.previousElementSibling),t.collapse(!1),c.remove(),(0,P.ib)(n[n.currentMode].element,t),Ne(n),s.preventDefault(),!0;if(!(0,m.yl)(s)&&!s.altKey&&s.key==="Tab"){var _=!1;if((t.startOffset===0&&(a.nodeType===3&&!a.previousSibling||a.nodeType!==3&&a.nodeName==="LI")||c.classList.contains("vditor-task")&&t.startOffset===1&&a.previousSibling.nodeType!==3&&a.previousSibling.tagName==="INPUT")&&(_=!0),_||t.toString()!=="")return s.shiftKey?ni(n,c,t,c.parentElement):wo(n,c,t),s.preventDefault(),!0}}return!1},oi=function(t,n,r){if(t.options.tab&&r.key==="Tab")return r.shiftKey||(n.toString()===""?(n.insertNode(document.createTextNode(t.options.tab)),n.collapse(!1)):(n.extractContents(),n.insertNode(document.createTextNode(t.options.tab)),n.collapse(!1))),(0,P.Hc)(n),Ne(t),r.preventDefault(),!0},_o=function(t,n,r,s){if(r){if(!(0,m.yl)(t)&&!t.altKey&&t.key==="Enter"){var i=String.raw(z||(z=ml(["",""],["",""])),r.textContent).replace(/\\\|/g,"").trim(),a=i.split("|");if(i.startsWith("|")&&i.endsWith("|")&&a.length>3){var c=a.map(function(){return"---"}).join("|");return c=r.textContent+`
`+c.substring(3,c.length-3)+`
|<wbr>`,r.outerHTML=n.lute.SpinVditorDOM(c),(0,P.ib)(n[n.currentMode].element,s),Ne(n),et(n),t.preventDefault(),!0}if(ri(r.innerHTML)&&r.previousElementSibling){var _="",x=r.innerHTML.trimRight().split(`
`);return x.length>1&&(x.pop(),_='<p data-block="0">'+x.join(`
`)+"</p>"),r.insertAdjacentHTML("afterend",_+`<hr data-block="0"><p data-block="0"><wbr>
</p>`),r.remove(),(0,P.ib)(n[n.currentMode].element,s),Ne(n),et(n),t.preventDefault(),!0}if(ii(r.innerHTML))return n.currentMode==="wysiwyg"?r.outerHTML=n.lute.SpinVditorDOM(r.innerHTML+`<p data-block="0"><wbr>
</p>`):r.outerHTML=n.lute.SpinVditorIRDOM(r.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,P.ib)(n[n.currentMode].element,s),Ne(n),et(n),t.preventDefault(),!0}if(s.collapsed&&r.previousElementSibling&&t.key==="Backspace"&&!(0,m.yl)(t)&&!t.altKey&&!t.shiftKey&&r.textContent.trimRight().split(`
`).length>1&&(0,P.im)(r,n[n.currentMode].element,s).start===0){var S=(0,k.DX)(r.previousElementSibling);return S.textContent.endsWith(`
`)||(S.textContent=S.textContent+`
`),S.parentElement.insertAdjacentHTML("beforeend","<wbr>"+r.innerHTML),r.remove(),(0,P.ib)(n[n.currentMode].element,s),!1}return!1}},Co=function(t,n,r){for(var s="",i=0;i<r.parentElement.childElementCount;i++)s+='<td align="'+r.parentElement.children[i].getAttribute("align")+'"> </td>';r.tagName==="TH"?r.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>"+s+"</tr></tbody>"):r.parentElement.insertAdjacentHTML("afterend","<tr>"+s+"</tr>"),Ne(t)},ko=function(t,n,r){for(var s="",i=0;i<r.parentElement.childElementCount;i++)r.tagName==="TH"?s+='<th align="'+r.parentElement.children[i].getAttribute("align")+'"> </th>':s+='<td align="'+r.parentElement.children[i].getAttribute("align")+'"> </td>';if(r.tagName==="TH"){r.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>"+s+"</tr></thead>"),n.insertNode(document.createElement("wbr"));var a=r.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");r.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",a),r.parentElement.parentElement.remove(),(0,P.ib)(t.ir.element,n)}else r.parentElement.insertAdjacentHTML("beforebegin","<tr>"+s+"</tr>");Ne(t)},ur=function(t,n,r,s){s===void 0&&(s="afterend");for(var i=0,a=r.previousElementSibling;a;)i++,a=a.previousElementSibling;for(var c=0;c<n.rows.length;c++)c===0?n.rows[c].cells[i].insertAdjacentHTML(s,"<th> </th>"):n.rows[c].cells[i].insertAdjacentHTML(s,"<td> </td>");Ne(t)},So=function(t,n,r){if(r.tagName==="TD"){var s=r.parentElement.parentElement;r.parentElement.previousElementSibling?n.selectNodeContents(r.parentElement.previousElementSibling.lastElementChild):n.selectNodeContents(s.previousElementSibling.lastElementChild.lastElementChild),s.childElementCount===1?s.remove():r.parentElement.remove(),n.collapse(!1),(0,P.Hc)(n),Ne(t)}},xo=function(t,n,r,s){for(var i=0,a=s.previousElementSibling;a;)i++,a=a.previousElementSibling;(s.previousElementSibling||s.nextElementSibling)&&(n.selectNodeContents(s.previousElementSibling||s.nextElementSibling),n.collapse(!0));for(var c=0;c<r.rows.length;c++){var _=r.rows[c].cells;if(_.length===1){r.remove(),Qe(t);break}_[i].remove()}(0,P.Hc)(n),Ne(t)},To=function(t,n,r){var s=r.startContainer,i=(0,k.lG)(s,"TD")||(0,k.lG)(s,"TH");if(i){if(!(0,m.yl)(n)&&!n.altKey&&n.key==="Enter"){i.lastElementChild&&(!i.lastElementChild||i.lastElementChild.isSameNode(i.lastChild)&&i.lastElementChild.tagName==="BR")||i.insertAdjacentHTML("beforeend","<br>");var a=document.createElement("br");return r.insertNode(a),r.setStartAfter(a),Ne(t),et(t),n.preventDefault(),!0}if(n.key==="Tab")return n.shiftKey?(bo(i,r),n.preventDefault(),!0):((T=i.nextElementSibling)||(T=i.parentElement.nextElementSibling?i.parentElement.nextElementSibling.firstElementChild:i.parentElement.parentElement.tagName==="THEAD"&&i.parentElement.parentElement.nextElementSibling?i.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:null),T&&(r.selectNodeContents(T),(0,P.Hc)(r)),n.preventDefault(),!0);var c=i.parentElement.parentElement.parentElement;if(n.key==="ArrowUp"){if(n.preventDefault(),i.tagName==="TH")return c.previousElementSibling?(r.selectNodeContents(c.previousElementSibling),r.collapse(!1),(0,P.Hc)(r)):lr(t,"beforebegin"),!0;for(var _=0,x=i.parentElement;_<x.cells.length&&!x.cells[_].isSameNode(i);_++);var S=x.previousElementSibling;return S||(S=x.parentElement.previousElementSibling.firstChild),r.selectNodeContents(S.cells[_]),r.collapse(!1),(0,P.Hc)(r),!0}if(n.key==="ArrowDown"){var T;if(n.preventDefault(),!(x=i.parentElement).nextElementSibling&&i.tagName==="TD")return c.nextElementSibling?(r.selectNodeContents(c.nextElementSibling),r.collapse(!0),(0,P.Hc)(r)):lr(t,"afterend"),!0;for(_=0;_<x.cells.length&&!x.cells[_].isSameNode(i);_++);return(T=x.nextElementSibling)||(T=x.parentElement.nextElementSibling.firstChild),r.selectNodeContents(T.cells[_]),r.collapse(!0),(0,P.Hc)(r),!0}if(t.currentMode==="wysiwyg"&&!(0,m.yl)(n)&&n.key==="Enter"&&!n.shiftKey&&n.altKey){var B=t.wysiwyg.popover.querySelector(".vditor-input");return B.focus(),B.select(),n.preventDefault(),!0}if(!(0,m.yl)(n)&&!n.shiftKey&&!n.altKey&&n.key==="Backspace"&&r.startOffset===0&&r.toString()==="")return!bo(i,r,!1)&&c&&(c.textContent.trim()===""?(c.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,P.ib)(t[t.currentMode].element,r)):(r.setStartBefore(c),r.collapse(!0)),Ne(t)),n.preventDefault(),!0;if(te("\u21E7\u2318F",n))return ko(t,r,i),n.preventDefault(),!0;if(te("\u2318=",n))return Co(t,r,i),n.preventDefault(),!0;if(te("\u21E7\u2318G",n))return ur(t,c,i,"beforebegin"),n.preventDefault(),!0;if(te("\u21E7\u2318=",n))return ur(t,c,i),n.preventDefault(),!0;if(te("\u2318-",n))return So(t,r,i),n.preventDefault(),!0;if(te("\u21E7\u2318-",n))return xo(t,r,c,i),n.preventDefault(),!0;if(te("\u21E7\u2318L",n)){if(t.currentMode==="ir")return dr(c,"left"),Ne(t),n.preventDefault(),!0;if(Z=t.wysiwyg.popover.querySelector('[data-type="left"]'))return Z.click(),n.preventDefault(),!0}if(te("\u21E7\u2318C",n)){if(t.currentMode==="ir")return dr(c,"center"),Ne(t),n.preventDefault(),!0;if(Z=t.wysiwyg.popover.querySelector('[data-type="center"]'))return Z.click(),n.preventDefault(),!0}if(te("\u21E7\u2318R",n)){if(t.currentMode==="ir")return dr(c,"right"),Ne(t),n.preventDefault(),!0;var Z;if(Z=t.wysiwyg.popover.querySelector('[data-type="right"]'))return Z.click(),n.preventDefault(),!0}}return!1},Lo=function(t,n,r,s){if(r.tagName==="PRE"&&te("\u2318A",n))return s.selectNodeContents(r.firstElementChild),n.preventDefault(),!0;if(t.options.tab&&n.key==="Tab"&&!n.shiftKey&&s.toString()==="")return s.insertNode(document.createTextNode(t.options.tab)),s.collapse(!1),Ne(t),n.preventDefault(),!0;if(n.key==="Backspace"&&!(0,m.yl)(n)&&!n.shiftKey&&!n.altKey){var i=(0,P.im)(r,t[t.currentMode].element,s);if((i.start===0||i.start===1&&r.innerText===`
`)&&s.toString()==="")return r.parentElement.outerHTML='<p data-block="0"><wbr>'+r.firstElementChild.innerHTML+"</p>",(0,P.ib)(t[t.currentMode].element,s),Ne(t),n.preventDefault(),!0}return!(0,m.yl)(n)&&!n.altKey&&n.key==="Enter"&&(r.firstElementChild.textContent.endsWith(`
`)||r.firstElementChild.insertAdjacentText("beforeend",`
`),s.extractContents(),s.insertNode(document.createTextNode(`
`)),s.collapse(!1),(0,P.Hc)(s),(0,m.vU)()||(t.currentMode==="wysiwyg"?ar(t,s):je(t,s)),et(t),n.preventDefault(),!0)},Ao=function(t,n,r,s){var i=n.startContainer,a=(0,k.lG)(i,"BLOCKQUOTE");if(a&&n.toString()===""){if(r.key==="Backspace"&&!(0,m.yl)(r)&&!r.shiftKey&&!r.altKey&&(0,P.im)(a,t[t.currentMode].element,n).start===0)return n.insertNode(document.createElement("wbr")),a.outerHTML=a.innerHTML,(0,P.ib)(t[t.currentMode].element,n),Ne(t),r.preventDefault(),!0;if(s&&r.key==="Enter"&&!(0,m.yl)(r)&&!r.shiftKey&&!r.altKey&&s.parentElement.tagName==="BLOCKQUOTE"){var c=!1;if(s.innerHTML.replace(g.g.ZWSP,"")===`
`||s.innerHTML.replace(g.g.ZWSP,"")===""?(c=!0,s.remove()):s.innerHTML.endsWith(`

`)&&(0,P.im)(s,t[t.currentMode].element,n).start===s.textContent.length-1&&(s.innerHTML=s.innerHTML.substr(0,s.innerHTML.length-2),c=!0),c)return a.insertAdjacentHTML("afterend",'<p data-block="0">'+g.g.ZWSP+`<wbr>
</p>`),(0,P.ib)(t[t.currentMode].element,n),Ne(t),r.preventDefault(),!0}var _=(0,k.F9)(i);if(t.currentMode==="wysiwyg"&&_&&te("\u21E7\u2318;",r))return n.insertNode(document.createElement("wbr")),_.outerHTML='<blockquote data-block="0">'+_.outerHTML+"</blockquote>",(0,P.ib)(t.wysiwyg.element,n),V(t),r.preventDefault(),!0;if(qn(t,r,n,a,a)||wn(t,r,n,a,a))return!0}return!1},Mo=function(t,n,r){var s=n.startContainer,i=(0,k.fb)(s,"vditor-task");if(i){if(te("\u21E7\u2318J",r)){var a=i.firstElementChild;return a.checked?a.removeAttribute("checked"):a.setAttribute("checked","checked"),Ne(t),r.preventDefault(),!0}if(r.key==="Backspace"&&!(0,m.yl)(r)&&!r.shiftKey&&!r.altKey&&n.toString()===""&&n.startOffset===1&&(s.nodeType===3&&s.previousSibling&&s.previousSibling.tagName==="INPUT"||s.nodeType!==3)){var c=i.previousElementSibling;return i.querySelector("input").remove(),c?((0,k.DX)(c).parentElement.insertAdjacentHTML("beforeend","<wbr>"+i.innerHTML.trim()),i.remove()):(i.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+(i.innerHTML.trim()||`
`)+"</p>"),i.nextElementSibling?i.remove():i.parentElement.remove()),(0,P.ib)(t[t.currentMode].element,n),Ne(t),r.preventDefault(),!0}if(r.key==="Enter"&&!(0,m.yl)(r)&&!r.shiftKey&&!r.altKey){if(i.textContent.trim()==="")if((0,k.fb)(i.parentElement,"vditor-task")){var _=(0,k.O9)(s);_&&ni(t,i,n,_)}else if(i.nextElementSibling){var x="",S="",T=!1;Array.from(i.parentElement.children).forEach(function(j){i.isSameNode(j)?T=!0:T?x+=j.outerHTML:S+=j.outerHTML});var B=i.parentElement.tagName,Z=i.parentElement.tagName==="OL"?"":' data-marker="'+i.parentElement.getAttribute("data-marker")+'"',ne="";S&&(ne=i.parentElement.tagName==="UL"?"":' start="1"',S="<"+B+' data-tight="true"'+Z+' data-block="0">'+S+"</"+B+">"),i.parentElement.outerHTML=S+`<p data-block="0"><wbr>
</p><`+B+`
 data-tight="true"`+Z+' data-block="0"'+ne+">"+x+"</"+B+">"}else i.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),i.parentElement.querySelectorAll("li").length===1?i.parentElement.remove():i.remove();else s.nodeType!==3&&n.startOffset===0&&s.firstChild.tagName==="INPUT"?n.setStart(s.childNodes[1],1):(n.setEndAfter(i.lastChild),i.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'+i.getAttribute("data-marker")+'"><input type="checkbox"> <wbr></li>'),document.querySelector("wbr").after(n.extractContents()));return(0,P.ib)(t[t.currentMode].element,n),Ne(t),et(t),r.preventDefault(),!0}}return!1},Ho=function(t,n,r,s){if(n.startContainer.nodeType!==3){var i=n.startContainer.children[n.startOffset];if(i&&i.tagName==="HR")return n.selectNodeContents(i.previousElementSibling),n.collapse(!1),r.preventDefault(),!0}if(s){var a=s.previousElementSibling;if(a&&(0,P.im)(s,t[t.currentMode].element,n).start===0&&((0,m.vU)()&&a.tagName==="HR"||a.tagName==="TABLE")){if(a.tagName==="TABLE"){var c=a.lastElementChild.lastElementChild.lastElementChild;c.innerHTML=c.innerHTML.trimLeft()+"<wbr>"+s.textContent.trim(),s.remove()}else a.remove();return(0,P.ib)(t[t.currentMode].element,n),Ne(t),r.preventDefault(),!0}}return!1},No=function(t){(0,m.vU)()&&t.startContainer.nodeType!==3&&t.startContainer.tagName==="HR"&&t.setStartBefore(t.startContainer)},Oo=function(t,n,r){var s,i;if(!(0,m.vU)())return!1;if(t.key==="ArrowUp"&&n&&((s=n.previousElementSibling)===null||s===void 0?void 0:s.tagName)==="TABLE"){var a=n.previousElementSibling;return r.selectNodeContents(a.rows[a.rows.length-1].lastElementChild),r.collapse(!1),t.preventDefault(),!0}return!(t.key!=="ArrowDown"||!n||((i=n.nextElementSibling)===null||i===void 0?void 0:i.tagName)!=="TABLE")&&(r.selectNodeContents(n.nextElementSibling.rows[0].cells[0]),r.collapse(!0),t.preventDefault(),!0)},fr=function(t,n,r){return hl(void 0,void 0,void 0,function(){var s,i,a,c,_,x,S,T,B,Z,ne,j,W,me,Y,ae;return vl(this,function(J){switch(J.label){case 0:return t[t.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(n.stopPropagation(),n.preventDefault(),"clipboardData"in n?(s=n.clipboardData.getData("text/html"),i=n.clipboardData.getData("text/plain"),a=n.clipboardData.files):(s=n.dataTransfer.getData("text/html"),i=n.dataTransfer.getData("text/plain"),n.dataTransfer.types.includes("Files")&&(a=n.dataTransfer.items)),c={},_=function(U,pe){if(!pe)return["",Lute.WalkContinue];var Ce=U.TokensStr();if(U.__internal_object__.Parent.Type===34&&Ce&&Ce.indexOf("file://")===-1&&t.options.upload.linkToImgUrl){var ye=new XMLHttpRequest;ye.open("POST",t.options.upload.linkToImgUrl),t.options.upload.token&&ye.setRequestHeader("X-Upload-Token",t.options.upload.token),t.options.upload.withCredentials&&(ye.withCredentials=!0),mo(t,ye),ye.setRequestHeader("Content-Type","application/json; charset=utf-8"),ye.onreadystatechange=function(){if(ye.readyState===XMLHttpRequest.DONE){if(ye.status===200){var xe=ye.responseText;t.options.upload.linkToImgFormat&&(xe=t.options.upload.linkToImgFormat(ye.responseText));var Ae=JSON.parse(xe);if(Ae.code!==0)return void t.tip.show(Ae.msg);var ce=Ae.data.originalURL;if(t.currentMode==="sv")t.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(Et){Et.textContent===ce&&(Et.textContent=Ae.data.url)});else{var We=t[t.currentMode].element.querySelector('img[src="'+ce+'"]');We.src=Ae.data.url,t.currentMode==="ir"&&(We.previousElementSibling.previousElementSibling.innerHTML=Ae.data.url)}Ne(t)}else t.tip.show(ye.responseText);t.options.upload.linkToImgCallback&&t.options.upload.linkToImgCallback(ye.responseText)}},ye.send(JSON.stringify({url:Ce}))}return t.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'+Lute.EscapeHTMLStr(Ce)+"</span>",Lute.WalkContinue]:t.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'+Lute.EscapeHTMLStr(Ce)+"</span>",Lute.WalkContinue]},s.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'+i+'">'+i+"</a>"&&s.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<!--StartFragment--><a href="'+i+'">'+i+"</a><!--EndFragment-->"||(s=""),(x=new DOMParser().parseFromString(s,"text/html")).body&&(s=x.body.innerHTML),s=Lute.Sanitize(s),t.wysiwyg.getComments(t),S=t[t.currentMode].element.scrollHeight,T=function(U,pe,Ce){Ce===void 0&&(Ce="sv");var ye=document.createElement("div");ye.innerHTML=U;var xe=!1;ye.childElementCount===1&&ye.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(xe=!0);var Ae=ye.querySelectorAll("pre");if(ye.childElementCount===1&&Ae.length===1&&Ae[0].className!=="vditor-wysiwyg"&&Ae[0].className!=="vditor-sv"&&(xe=!0),U.indexOf(`
<p class="p1">`)===0&&(xe=!0),ye.childElementCount===1&&ye.firstElementChild.tagName==="TABLE"&&ye.querySelector(".line-number")&&ye.querySelector(".line-content")&&(xe=!0),xe){var ce=pe||U;return/\n/.test(ce)||Ae.length===1?Ce==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'+ce.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"<wbr></code></pre></div>":"\n```\n"+ce.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":Ce==="wysiwyg"?"<code>"+ce.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</code><wbr>":"`"+ce+"`"}return!1}(s,i,t.currentMode),(B=t.currentMode==="sv"?(0,k.a1)(n.target,"data-type","code-block"):(0,k.lG)(n.target,"CODE"))?(t.currentMode==="sv"?document.execCommand("insertHTML",!1,i.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(Z=(0,P.im)(n.target,t[t.currentMode].element),B.parentElement.tagName!=="PRE"&&(i+=g.g.ZWSP),B.textContent=B.textContent.substring(0,Z.start)+i+B.textContent.substring(Z.end),(0,P.$j)(Z.start+i.length,Z.start+i.length,B.parentElement),!((ae=B.parentElement)===null||ae===void 0)&&ae.nextElementSibling.classList.contains("vditor-"+t.currentMode+"__preview")&&(B.parentElement.nextElementSibling.innerHTML=B.outerHTML,Ue(B.parentElement.nextElementSibling,t))),[3,8]):[3,1]);case 1:return T?(r.pasteCode(T),[3,8]):[3,2];case 2:return s.trim()===""?[3,3]:((ne=document.createElement("div")).innerHTML=s,ne.querySelectorAll("[style]").forEach(function(U){U.removeAttribute("style")}),ne.querySelectorAll(".vditor-copy").forEach(function(U){U.remove()}),t.currentMode==="ir"?(c.HTML2VditorIRDOM={renderLinkDest:_},t.lute.SetJSRenderers({renderers:c}),(0,P.oC)(t.lute.HTML2VditorIRDOM(ne.innerHTML),t)):t.currentMode==="wysiwyg"?(c.HTML2VditorDOM={renderLinkDest:_},t.lute.SetJSRenderers({renderers:c}),(0,P.oC)(t.lute.HTML2VditorDOM(ne.innerHTML),t)):(c.Md2VditorSVDOM={renderLinkDest:_},t.lute.SetJSRenderers({renderers:c}),co(t,t.lute.HTML2Md(ne.innerHTML).trimRight())),t.outline.render(t),[3,8]);case 3:return a.length>0?t.options.upload.url||t.options.upload.handler?[4,ti(t,a)]:[3,5]:[3,7];case 4:return J.sent(),[3,6];case 5:j=new FileReader,"clipboardData"in n?(a=n.clipboardData.files,W=a[0]):n.dataTransfer.types.includes("Files")&&(a=n.dataTransfer.items,W=a[0].getAsFile()),W&&W.type.startsWith("image")&&(j.readAsDataURL(W),j.onload=function(){var U="";t.currentMode==="wysiwyg"?U+='<img alt="'+W.name+'" src="'+j.result.toString()+`">
`:U+="!["+W.name+"]("+j.result.toString()+`)
`,document.execCommand("insertHTML",!1,U)}),J.label=6;case 6:return[3,8];case 7:i.trim()!==""&&a.length===0&&(t.currentMode==="ir"?(c.Md2VditorIRDOM={renderLinkDest:_},t.lute.SetJSRenderers({renderers:c}),(0,P.oC)(t.lute.Md2VditorIRDOM(i),t)):t.currentMode==="wysiwyg"?(c.Md2VditorDOM={renderLinkDest:_},t.lute.SetJSRenderers({renderers:c}),(0,P.oC)(t.lute.Md2VditorDOM(i),t)):(c.Md2VditorSVDOM={renderLinkDest:_},t.lute.SetJSRenderers({renderers:c}),co(t,i)),t.outline.render(t)),J.label=8;case 8:return t.currentMode!=="sv"&&((me=(0,k.F9)((0,P.zh)(t).startContainer))&&(Y=(0,P.zh)(t),t[t.currentMode].element.querySelectorAll("wbr").forEach(function(U){U.remove()}),Y.insertNode(document.createElement("wbr")),t.currentMode==="wysiwyg"?me.outerHTML=t.lute.SpinVditorDOM(me.outerHTML):me.outerHTML=t.lute.SpinVditorIRDOM(me.outerHTML),(0,P.ib)(t[t.currentMode].element,Y)),t[t.currentMode].element.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach(function(U){Ue(U,t)})),t.wysiwyg.triggerRemoveComment(t),Ne(t),t[t.currentMode].element.scrollHeight-S>Math.min(t[t.currentMode].element.clientHeight,window.innerHeight)/2&&et(t),[2]}})})},Do=function(t){t.hint.render(t);var n=(0,P.zh)(t).startContainer,r=(0,k.a1)(n,"data-type","code-block-info");if(r)if(r.textContent.replace(g.g.ZWSP,"")===""&&t.hint.recentLanguage)r.textContent=g.g.ZWSP+t.hint.recentLanguage,(0,P.zh)(t).selectNodeContents(r);else{var s=[],i=r.textContent.substring(0,(0,P.im)(r,t.ir.element).start).replace(g.g.ZWSP,"");g.g.CODE_LANGUAGES.forEach(function(a){a.indexOf(i.toLowerCase())>-1&&s.push({html:a,value:a})}),t.hint.genHTML(s,i,t)}},jt=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),n.enableHint&&Do(t),clearTimeout(t.ir.processTimeoutId),t.ir.processTimeoutId=window.setTimeout(function(){if(!t.ir.composingLock){var r=v(t);typeof t.options.input=="function"&&n.enableInput&&t.options.input(r),t.options.counter.enable&&t.counter.render(t,r),t.options.cache.enable&&(0,m.pK)()&&(localStorage.setItem(t.options.cache.id,r),t.options.cache.after&&t.options.cache.after(r)),t.devtools&&t.devtools.renderEchart(t),n.enableAddUndoStack&&t.undo.addToUndoStack(t)}},t.options.undoDelay)},Fn=function(t,n){var r=(0,P.zh)(t),s=(0,k.F9)(r.startContainer)||r.startContainer;if(s){var i=s.querySelector(".vditor-ir__marker--heading");i?i.innerHTML=n:(s.insertAdjacentText("afterbegin",n),r.selectNodeContents(s),r.collapse(!1)),je(t,r.cloneRange()),se(t)}},pr=function(t,n,r){var s=(0,k.a1)(t.startContainer,"data-type",r);if(s){s.firstElementChild.remove(),s.lastElementChild.remove(),t.insertNode(document.createElement("wbr"));var i=document.createElement("div");i.innerHTML=n.lute.SpinVditorIRDOM(s.outerHTML),s.outerHTML=i.firstElementChild.innerHTML.trim()}},bl=function(t,n,r,s){var i=(0,P.zh)(t),a=n.getAttribute("data-type"),c=i.startContainer;c.nodeType===3&&(c=c.parentElement);var _=!0;if(n.classList.contains("vditor-menu--current"))if(a==="quote"){var x=(0,k.lG)(c,"BLOCKQUOTE");x&&(i.insertNode(document.createElement("wbr")),x.outerHTML=x.innerHTML.trim()===""?'<p data-block="0">'+x.innerHTML+"</p>":x.innerHTML)}else if(a==="link"){var S=(0,k.a1)(i.startContainer,"data-type","a");if(S){var T=(0,k.fb)(i.startContainer,"vditor-ir__link");T?(i.insertNode(document.createElement("wbr")),S.outerHTML=T.innerHTML):S.outerHTML=S.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else a==="italic"?pr(i,t,"em"):a==="bold"?pr(i,t,"strong"):a==="strike"?pr(i,t,"s"):a==="inline-code"?pr(i,t,"code"):a!=="check"&&a!=="list"&&a!=="ordered-list"||(cr(t,i,a),_=!1,n.classList.remove("vditor-menu--current"));else{t.ir.element.childNodes.length===0&&(t.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,P.ib)(t.ir.element,i));var B=(0,k.F9)(i.startContainer);if(a==="line"){if(B){var Z=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;B.innerHTML.trim()===""?B.outerHTML=Z:B.insertAdjacentHTML("afterend",Z)}}else if(a==="quote")B&&(i.insertNode(document.createElement("wbr")),B.outerHTML='<blockquote data-block="0">'+B.outerHTML+"</blockquote>",_=!1,n.classList.add("vditor-menu--current"));else if(a==="link"){var ne=void 0;ne=i.toString()===""?r+"<wbr>"+s:""+r+i.toString()+s.replace(")","<wbr>)"),document.execCommand("insertHTML",!1,ne),_=!1,n.classList.add("vditor-menu--current")}else if(a==="italic"||a==="bold"||a==="strike"||a==="inline-code"||a==="code"||a==="table"){ne=void 0,i.toString()===""?ne=r+"<wbr>"+s:(ne=a==="code"?r+`
`+i.toString()+"<wbr>"+s:a==="table"?""+r+i.toString()+"<wbr>"+s:""+r+i.toString()+s+"<wbr>",i.deleteContents()),a!=="table"&&a!=="code"||(ne=`
`+ne+`

`);var j=document.createElement("span");j.innerHTML=ne,i.insertNode(j),je(t,i),a==="table"&&(i.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,P.Hc)(i))}else a!=="check"&&a!=="list"&&a!=="ordered-list"||(cr(t,i,a,!1),_=!1,w(t.toolbar.elements,["check","list","ordered-list"]),n.classList.add("vditor-menu--current"))}(0,P.ib)(t.ir.element,i),jt(t),_&&se(t)},wl=function(t,n,r,s){return new(r||(r=Promise))(function(i,a){function c(S){try{x(s.next(S))}catch(T){a(T)}}function _(S){try{x(s.throw(S))}catch(T){a(T)}}function x(S){var T;S.done?i(S.value):(T=S.value,T instanceof r?T:new r(function(B){B(T)})).then(c,_)}x((s=s.apply(t,n||[])).next())})},El=function(t,n){var r,s,i,a,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function _(x){return function(S){return function(T){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,s&&(i=2&T[0]?s.return:T[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,T[1])).done)return i;switch(s=0,i&&(T=[2&T[0],i.value]),T[0]){case 0:case 1:i=T;break;case 4:return c.label++,{value:T[1],done:!1};case 5:c.label++,s=T[1],T=[0];continue;case 7:T=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!((i=i.length>0&&i[i.length-1])||T[0]!==6&&T[0]!==2)){c=0;continue}if(T[0]===3&&(!i||T[1]>i[0]&&T[1]<i[3])){c.label=T[1];break}if(T[0]===6&&c.label<i[1]){c.label=i[1],i=T;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(T);break}i[2]&&c.ops.pop(),c.trys.pop();continue}T=n.call(t,c)}catch(B){T=[6,B],s=0}finally{r=i=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([x,S])}}},_l=function(){function t(n){var r=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(s,i){r.element.style.display="none";var a=decodeURIComponent(s.getAttribute("data-value")),c=window.getSelection().getRangeAt(0);if(i.currentMode==="ir"){var _=(0,k.a1)(c.startContainer,"data-type","code-block-info");if(_)return _.textContent=g.g.ZWSP+a.trimRight(),c.selectNodeContents(_),c.collapse(!1),jt(i),_.parentElement.querySelectorAll("code").forEach(function(B){B.className="language-"+a.trimRight()}),Ue(_.parentElement.querySelector(".vditor-ir__preview"),i),void(r.recentLanguage=a.trimRight())}if(i.currentMode==="wysiwyg"&&c.startContainer.nodeType!==3){var x=c.startContainer,S=void 0;if((S=x.classList.contains("vditor-input")?x:x.firstElementChild)&&S.classList.contains("vditor-input"))return S.value=a.trimRight(),c.selectNodeContents(S),c.collapse(!1),S.dispatchEvent(new CustomEvent("input",{detail:1})),void(r.recentLanguage=a.trimRight())}if(c.setStart(c.startContainer,r.lastIndex),c.deleteContents(),i.options.hint.parse?i.currentMode==="sv"?(0,P.oC)(i.lute.SpinVditorSVDOM(a),i):i.currentMode==="wysiwyg"?(0,P.oC)(i.lute.SpinVditorDOM(a),i):(0,P.oC)(i.lute.SpinVditorIRDOM(a),i):(0,P.oC)(a,i),r.splitChar===":"&&a.indexOf(":")>-1&&i.currentMode!=="sv"&&c.insertNode(document.createTextNode(" ")),c.collapse(!1),(0,P.Hc)(c),i.currentMode==="wysiwyg")(T=(0,k.fb)(c.startContainer,"vditor-wysiwyg__block"))&&T.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(T.lastElementChild.innerHTML=T.firstElementChild.innerHTML,Ue(T.lastElementChild,i));else if(i.currentMode==="ir"){var T;(T=(0,k.fb)(c.startContainer,"vditor-ir__marker--pre"))&&T.nextElementSibling.classList.contains("vditor-ir__preview")&&(T.nextElementSibling.innerHTML=T.innerHTML,Ue(T.nextElementSibling,i))}Ne(i)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",n.push({key:":"})}return t.prototype.render=function(n){var r=this;if(window.getSelection().focusNode){var s,i=getSelection().getRangeAt(0);s=i.startContainer.textContent.substring(0,i.startOffset)||"";var a=this.getKey(s,n.options.hint.extend);if(a===void 0)this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var c=a===""?n.options.hint.emoji:n.lute.GetEmojis(),_=[];Object.keys(c).forEach(function(x){x.indexOf(a.toLowerCase())===0&&(c[x].indexOf(".")>-1?_.push({html:'<img src="'+c[x]+'" title=":'+x+':"/> :'+x+":",value:":"+x+":"}):_.push({html:'<span class="vditor-hint__emoji">'+c[x]+"</span>"+x,value:c[x]}))}),this.genHTML(_,a,n)}else n.options.hint.extend.forEach(function(x){x.key===r.splitChar&&(clearTimeout(r.timeId),r.timeId=window.setTimeout(function(){return wl(r,void 0,void 0,function(){var S;return El(this,function(T){switch(T.label){case 0:return S=this.genHTML,[4,x.hint(a)];case 1:return S.apply(this,[T.sent(),a,n]),[2]}})})},n.options.hint.delay))})}},t.prototype.genHTML=function(n,r,s){var i=this;if(n.length!==0){var a=s[s.currentMode].element,c=(0,P.Ny)(a),_=c.left+(s.options.outline.position==="left"?s.outline.element.offsetWidth:0),x=c.top,S="";n.forEach(function(B,Z){if(!(Z>7)){var ne=B.html;if(r!==""){var j=ne.lastIndexOf(">")+1,W=ne.substr(j),me=W.toLowerCase().indexOf(r.toLowerCase());me>-1&&(W=W.substring(0,me)+"<b>"+W.substring(me,me+r.length)+"</b>"+W.substring(me+r.length),ne=ne.substr(0,j)+W)}S+='<button data-value="'+encodeURIComponent(B.value)+` "
`+(Z===0?"class='vditor-hint--current'":"")+"> "+ne+"</button>"}}),this.element.innerHTML=S;var T=parseInt(document.defaultView.getComputedStyle(a,null).getPropertyValue("line-height"),10);this.element.style.top=x+(T||22)+"px",this.element.style.left=_+"px",this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(B){B.addEventListener("click",function(Z){i.fillEmoji(B,s),Z.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top=x-this.element.offsetHeight+"px"),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")}else this.element.style.display="none"},t.prototype.select=function(n,r){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var s=this.element.querySelector(".vditor-hint--current");if(n.key==="ArrowDown")return n.preventDefault(),n.stopPropagation(),s.removeAttribute("class"),s.nextElementSibling?s.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(n.key==="ArrowUp"){if(n.preventDefault(),n.stopPropagation(),s.removeAttribute("class"),s.previousElementSibling)s.previousElementSibling.className="vditor-hint--current";else{var i=this.element.children.length;this.element.children[i-1].className="vditor-hint--current"}return!0}return!((0,m.yl)(n)||n.shiftKey||n.altKey||n.key!=="Enter"||n.isComposing)&&(n.preventDefault(),n.stopPropagation(),this.fillEmoji(s,r),!0)},t.prototype.getKey=function(n,r){var s,i=this;if(this.lastIndex=-1,this.splitChar="",r.forEach(function(x){var S=n.lastIndexOf(x.key);i.lastIndex<S&&(i.splitChar=x.key,i.lastIndex=S)}),this.lastIndex===-1)return s;var a=n.split(this.splitChar),c=a[a.length-1];if(a.length>1&&c.trim()===c)if(a.length===2&&a[0]===""&&a[1].length<32)s=a[1];else{var _=a[a.length-2].slice(-1);(0,u.X)(_)===" "&&c.length<32&&(s=c)}return s},t}(),Cl=function(){function t(n){this.composingLock=!1;var r=document.createElement("div");r.className="vditor-ir",r.innerHTML='<pre class="vditor-reset" placeholder="'+n.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>`,this.element=r.firstElementChild,this.bindEvent(n),Gr(n,this.element),lo(n,this.element),Zr(n,this.element),Qr(n,this.element),ei(n,this.element),Jr(n,this.element),Xr(n,this.element,this.copy),Yr(n,this.element,this.copy)}return t.prototype.copy=function(n,r){var s=getSelection().getRangeAt(0);if(s.toString()!==""){n.stopPropagation(),n.preventDefault();var i=document.createElement("div");i.appendChild(s.cloneContents()),n.clipboardData.setData("text/plain",r.lute.VditorIRDOM2Md(i.innerHTML).trim()),n.clipboardData.setData("text/html","")}},t.prototype.bindEvent=function(n){var r=this;this.element.addEventListener("paste",function(s){fr(n,s,{pasteCode:function(i){document.execCommand("insertHTML",!1,i)}})}),this.element.addEventListener("compositionstart",function(s){r.composingLock=!0}),this.element.addEventListener("compositionend",function(s){(0,m.vU)()||je(n,getSelection().getRangeAt(0).cloneRange()),r.composingLock=!1}),this.element.addEventListener("input",function(s){if(s.inputType!=="deleteByDrag"&&s.inputType!=="insertFromDrop")return r.preventInput?(r.preventInput=!1,void jt(n,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void(r.composingLock||s.data==="\u2018"||s.data==="\u201C"||s.data==="\u300A"||je(n,getSelection().getRangeAt(0).cloneRange(),!1,s))}),this.element.addEventListener("click",function(s){if(s.target.tagName==="INPUT")return s.target.checked?s.target.setAttribute("checked","checked"):s.target.removeAttribute("checked"),r.preventInput=!0,void jt(n);var i=(0,P.zh)(n),a=(0,k.fb)(s.target,"vditor-ir__preview");if(a||(a=(0,k.fb)(i.startContainer,"vditor-ir__preview")),a&&(a.previousElementSibling.firstElementChild?i.selectNodeContents(a.previousElementSibling.firstElementChild):i.selectNodeContents(a.previousElementSibling),i.collapse(!0),(0,P.Hc)(i),et(n)),s.target.tagName==="IMG"){var c=s.target.parentElement.querySelector(".vditor-ir__marker--link");c&&(i.selectNode(c),(0,P.Hc)(i))}var _=(0,k.a1)(s.target,"data-type","a");if(!_||_.classList.contains("vditor-ir__node--expand")){if(s.target.isEqualNode(r.element)&&r.element.lastElementChild&&i.collapsed){var x=r.element.lastElementChild.getBoundingClientRect();s.y>x.top+x.height&&(r.element.lastElementChild.tagName==="P"&&r.element.lastElementChild.textContent.trim().replace(g.g.ZWSP,"")===""?(i.selectNodeContents(r.element.lastElementChild),i.collapse(!1)):(r.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+g.g.ZWSP+"<wbr></p>"),(0,P.ib)(r.element,i)))}i.toString()===""?Q(i,n):setTimeout(function(){Q((0,P.zh)(n),n)}),on(s,n),se(n)}else n.options.link.click?n.options.link.click(_.querySelector(":scope > .vditor-ir__marker--link")):n.options.link.isOpen&&window.open(_.querySelector(":scope > .vditor-ir__marker--link").textContent)}),this.element.addEventListener("keyup",function(s){if(!s.isComposing&&!(0,m.yl)(s))if(s.key==="Enter"&&et(n),se(n),s.key!=="Backspace"&&s.key!=="Delete"||n.ir.element.innerHTML===""||n.ir.element.childNodes.length!==1||!n.ir.element.firstElementChild||n.ir.element.firstElementChild.tagName!=="P"||n.ir.element.firstElementChild.childElementCount!==0||n.ir.element.textContent!==""&&n.ir.element.textContent!==`
`){var i=(0,P.zh)(n);s.key==="Backspace"?((0,m.vU)()&&i.startContainer.textContent===`
`&&i.startOffset===1&&(i.startContainer.textContent="",Q(i,n)),r.element.querySelectorAll(".language-math").forEach(function(c){var _=c.querySelector("br");_&&_.remove()})):s.key.indexOf("Arrow")>-1?(s.key!=="ArrowLeft"&&s.key!=="ArrowRight"||Do(n),Q(i,n)):s.keyCode===229&&s.code===""&&s.key==="Unidentified"&&Q(i,n);var a=(0,k.fb)(i.startContainer,"vditor-ir__preview");if(a){if(s.key==="ArrowUp"||s.key==="ArrowLeft")return a.previousElementSibling.firstElementChild?i.selectNodeContents(a.previousElementSibling.firstElementChild):i.selectNodeContents(a.previousElementSibling),i.collapse(!1),s.preventDefault(),!0;if(a.tagName==="SPAN"&&(s.key==="ArrowDown"||s.key==="ArrowRight"))return a.parentElement.getAttribute("data-type")==="html-entity"?(a.parentElement.insertAdjacentText("afterend",g.g.ZWSP),i.setStart(a.parentElement.nextSibling,1)):i.selectNodeContents(a.parentElement.lastElementChild),i.collapse(!1),s.preventDefault(),!0}}else n.ir.element.innerHTML=""})},t}(),Io=function(t){return t.currentMode==="sv"?t.lute.Md2HTML(v(t)):t.currentMode==="wysiwyg"?t.lute.VditorDOM2HTML(t.wysiwyg.element.innerHTML):t.currentMode==="ir"?t.lute.VditorIRDOM2HTML(t.ir.element.innerHTML):void 0},kl=f(895),Po=f(818),Sl=function(){function t(n){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'+n+`</div>
<div class="vditor-outline__content"></div>`}return t.prototype.render=function(n){return n.preview.element.style.display==="block"?(0,Po.k)(n.preview.element.lastElementChild,this.element.lastElementChild,n):(0,Po.k)(n[n.currentMode].element,this.element.lastElementChild,n)},t.prototype.toggle=function(n,r,s){var i;r===void 0&&(r=!0),s===void 0&&(s=!0);var a=(i=n.toolbar.elements.outline)===null||i===void 0?void 0:i.firstElementChild;if(r&&window.innerWidth>=g.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(n),a==null||a.classList.add("vditor-menu--current")):(this.element.style.display="none",a==null||a.classList.remove("vditor-menu--current")),s&&getSelection().rangeCount>0){var c=getSelection().getRangeAt(0);n[n.currentMode].element.contains(c.startContainer)&&(0,P.Hc)(c)}A(n)},t}(),xl=f(554),Tl=function(){function t(n){var r=this;this.element=document.createElement("div"),this.element.className="vditor-preview";var s=document.createElement("div");s.className="vditor-reset",n.options.classes.preview&&s.classList.add(n.options.classes.preview),s.style.maxWidth=n.options.preview.maxWidth+"px",s.addEventListener("copy",function(S){if(S.target.tagName!=="TEXTAREA"){var T=document.createElement("div");T.className="vditor-reset",T.appendChild(getSelection().getRangeAt(0).cloneContents()),r.copyToX(n,T),S.preventDefault()}}),s.addEventListener("click",function(S){var T=(0,k.lG)(S.target,"SPAN");if(T&&(0,k.fb)(T,"vditor-toc")){var B=s.querySelector("#"+T.getAttribute("data-target-id"));B&&(r.element.scrollTop=B.offsetTop)}else{if(S.target.tagName==="A")return n.options.link.click?n.options.link.click(S.target):n.options.link.isOpen&&window.open(S.target.getAttribute("href")),void S.preventDefault();S.target.tagName==="IMG"&&(n.options.image.preview?n.options.image.preview(S.target):n.options.image.isPreview&&(0,ue.E)(S.target,n.options.lang,n.options.theme))}});var i=n.options.preview.actions,a=document.createElement("div");a.className="vditor-preview__action";for(var c=[],_=0;_<i.length;_++){var x=i[_];if(typeof x!="object")switch(x){case"desktop":c.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":c.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":c.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":c.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u516C\u4F17\u53F7"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":c.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u77E5\u4E4E"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>')}else c.push('<button type="button" data-type="'+x.key+'" class="'+x.className+'"'+(x.tooltip?' aria-label="'+x.tooltip+'"':"")+'">'+x.text+"</button>")}a.innerHTML=c.join(""),i.length===0&&(a.style.display="none"),this.element.appendChild(a),this.element.appendChild(s),a.addEventListener((0,m.Le)(),function(S){var T=(0,F.S)(S.target,"BUTTON");if(T){var B=T.getAttribute("data-type"),Z=i.find(function(ne){return(ne==null?void 0:ne.key)===B});Z?Z.click(B):B!=="mp-wechat"&&B!=="zhihu"?(s.style.width=B==="desktop"?"auto":B==="tablet"?"780px":"360px",s.scrollWidth>s.parentElement.clientWidth&&(s.style.width="auto"),r.render(n),a.querySelectorAll("button").forEach(function(ne){ne.classList.remove("vditor-preview__action--current")}),T.classList.add("vditor-preview__action--current")):r.copyToX(n,r.element.lastElementChild.cloneNode(!0),B)}})}return t.prototype.render=function(n,r){var s=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display!=="none")if(r)this.element.lastElementChild.innerHTML=r;else if(v(n).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")!==""){var i=new Date().getTime(),a=v(n);this.mdTimeoutId=window.setTimeout(function(){if(n.options.preview.url){var c=new XMLHttpRequest;c.open("POST",n.options.preview.url),c.setRequestHeader("Content-Type","application/json;charset=UTF-8"),c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(c.status===200){var x=JSON.parse(c.responseText);if(x.code!==0)return void n.tip.show(x.msg);n.options.preview.transform&&(x.data=n.options.preview.transform(x.data)),s.element.lastElementChild.innerHTML=x.data,s.afterRender(n,i)}else{var S=n.lute.Md2HTML(a);n.options.preview.transform&&(S=n.options.preview.transform(S)),s.element.lastElementChild.innerHTML=S,s.afterRender(n,i)}},c.send(JSON.stringify({markdownText:a}))}else{var _=n.lute.Md2HTML(a);n.options.preview.transform&&(_=n.options.preview.transform(_)),s.element.lastElementChild.innerHTML=_,s.afterRender(n,i)}},n.options.preview.delay)}else this.element.lastElementChild.innerHTML="";else this.element.getAttribute("data-type")==="renderPerformance"&&n.tip.hide()},t.prototype.afterRender=function(n,r){n.options.preview.parse&&n.options.preview.parse(this.element);var s=new Date().getTime()-r;new Date().getTime()-r>2600?(n.tip.show(window.VditorI18n.performanceTip.replace("${x}",s.toString())),n.preview.element.setAttribute("data-type","renderPerformance")):n.preview.element.getAttribute("data-type")==="renderPerformance"&&(n.tip.hide(),n.preview.element.removeAttribute("data-type"));var i=n.preview.element.querySelector(".vditor-comment--focus");i&&i.classList.remove("vditor-comment--focus"),(0,le.O)(n.preview.element.lastElementChild),(0,ke.s)(n.options.preview.hljs,n.preview.element.lastElementChild,n.options.cdn),(0,_e.i)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,Te.K)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,$.P)(n.preview.element.lastElementChild,n.options.cdn),(0,be.v)(n.preview.element.lastElementChild,n.options.cdn),(0,ee.p)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,Ee.P)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,ct.B)(n.preview.element.lastElementChild,n.options.cdn),(0,X.Q)(n.preview.element.lastElementChild,n.options.cdn),(0,xl.Y)(n.preview.element.lastElementChild);var a=n.preview.element,c=n.outline.render(n);c===""&&(c="[ToC]"),a.querySelectorAll('[data-type="toc-block"]').forEach(function(_){_.innerHTML=c,(0,He.H)(_,{cdn:n.options.cdn,math:n.options.preview.math})}),(0,He.H)(n.preview.element.lastElementChild,{cdn:n.options.cdn,math:n.options.preview.math})},t.prototype.copyToX=function(n,r,s){s===void 0&&(s="mp-wechat"),s!=="zhihu"?r.querySelectorAll(".katex-html .base").forEach(function(a){a.style.display="initial"}):r.querySelectorAll(".language-math").forEach(function(a){a.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'+a.getAttribute("data-math")+'\\" style="display: block; margin: 0 auto; max-width: 100%;">'}),r.style.backgroundColor="#fff",r.querySelectorAll("code").forEach(function(a){a.style.backgroundImage="none"}),this.element.append(r);var i=r.ownerDocument.createRange();i.selectNode(r),(0,P.Hc)(i),document.execCommand("copy"),this.element.lastElementChild.remove(),n.tip.show("\u5DF2\u590D\u5236\uFF0C\u53EF\u5230"+(s==="zhihu"?"\u77E5\u4E4E":"\u5FAE\u4FE1\u516C\u4F17\u53F7\u5E73\u53F0")+"\u8FDB\u884C\u7C98\u8D34")},t}(),Ll=function(){function t(n){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--"+n.options.resize.position,this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(n)}return t.prototype.bindEvent=function(n){var r=this;this.element.addEventListener("mousedown",function(s){var i=document,a=s.clientY,c=n.element.offsetHeight,_=63+n.element.querySelector(".vditor-toolbar").clientHeight;i.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),r.element.classList.add("vditor-resize--selected"),i.onmousemove=function(x){n.options.resize.position==="top"?n.element.style.height=Math.max(_,c+(a-x.clientY))+"px":n.element.style.height=Math.max(_,c+(x.clientY-a))+"px",n.options.typewriterMode&&(n.sv.element.style.paddingBottom=n.sv.element.parentElement.offsetHeight/2+"px")},i.onmouseup=function(){n.options.resize.after&&n.options.resize.after(n.element.offsetHeight-c),window.captureEvents&&window.captureEvents(),i.onmousemove=null,i.onmouseup=null,i.ondragstart=null,i.onselectstart=null,i.onselect=null,r.element.classList.remove("vditor-resize--selected")}})},t}(),Al=function(){function t(n){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",n.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(n),Gr(n,this.element),Zr(n,this.element),Qr(n,this.element),ei(n,this.element),Jr(n,this.element),Xr(n,this.element,this.copy),Yr(n,this.element,this.copy)}return t.prototype.copy=function(n,r){n.stopPropagation(),n.preventDefault(),n.clipboardData.setData("text/plain",Un(r[r.currentMode].element))},t.prototype.bindEvent=function(n){var r=this;this.element.addEventListener("paste",function(s){fr(n,s,{pasteCode:function(i){document.execCommand("insertHTML",!1,i)}})}),this.element.addEventListener("scroll",function(){if(n.preview.element.style.display==="block"){var s=r.element.scrollTop,i=r.element.clientHeight,a=r.element.scrollHeight-parseFloat(r.element.style.paddingBottom||"0"),c=n.preview.element;c.scrollTop=s/i>.5?(s+i)*c.scrollHeight/a-i:s*c.scrollHeight/a}}),this.element.addEventListener("compositionstart",function(s){r.composingLock=!0}),this.element.addEventListener("compositionend",function(s){(0,m.vU)()||Re(n,s),r.composingLock=!1}),this.element.addEventListener("input",function(s){if(s.inputType!=="deleteByDrag"&&s.inputType!=="insertFromDrop"&&!r.composingLock&&s.data!=="\u2018"&&s.data!=="\u201C"&&s.data!=="\u300A")return r.preventInput?(r.preventInput=!1,void nt(n,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void Re(n,s)}),this.element.addEventListener("keyup",function(s){s.isComposing||(0,m.yl)(s)||(s.key!=="Backspace"&&s.key!=="Delete"||n.sv.element.innerHTML===""||n.sv.element.childNodes.length!==1||!n.sv.element.firstElementChild||n.sv.element.firstElementChild.tagName!=="DIV"||n.sv.element.firstElementChild.childElementCount!==2||n.sv.element.firstElementChild.textContent!==""&&n.sv.element.textContent!==`
`?s.key==="Enter"&&et(n):n.sv.element.innerHTML="")})},t}(),Ml=function(){function t(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return t.prototype.show=function(n,r){var s=this;r===void 0&&(r=6e3),this.element.className="vditor-tip vditor-tip--show",r===0?(this.element.innerHTML='<div class="vditor-tip__content">'+n+`
<div class="vditor-tip__close">X</div></div>`,this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){s.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'+n+"</div>",setTimeout(function(){s.hide()},r)),this.element.removeAttribute("style"),setTimeout(function(){s.element.getBoundingClientRect().top<46&&(s.element.style.position="fixed",s.element.style.top="46px")},150)},t.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},t}(),si=function(t,n){if(n.options.preview.mode!==t){switch(n.options.preview.mode=t,t){case"both":n.sv.element.style.display="block",n.preview.element.style.display="block",n.preview.render(n),C(n.toolbar.elements,["both"]);break;case"editor":n.sv.element.style.display="block",n.preview.element.style.display="none",w(n.toolbar.elements,["both"])}n.devtools&&n.devtools.renderEchart(n)}},Hl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Nl=function(t){function n(r,s){var i=t.call(this,r,s)||this;return r.options.preview.mode==="both"&&i.element.children[0].classList.add("vditor-menu--current"),i.element.children[0].addEventListener((0,m.Le)(),function(a){i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||(a.preventDefault(),r.currentMode==="sv"&&(r.options.preview.mode==="both"?si("editor",r):si("both",r)))}),i}return Hl(n,t),n}(Ge),Ol=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"},Ro=f(312),Dl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Il=function(t){function n(r,s){var i=t.call(this,r,s)||this,a=i.element.children[0],c=document.createElement("div");c.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow");var _="";return g.g.CODE_THEME.forEach(function(x){_+="<button>"+x+"</button>"}),c.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+_+"</div>",c.addEventListener((0,m.Le)(),function(x){x.target.tagName==="BUTTON"&&(M(r,["subToolbar"]),r.options.preview.hljs.style=x.target.textContent,(0,Ro.Y)(x.target.textContent,r.options.cdn),x.preventDefault(),x.stopPropagation())}),i.element.appendChild(c),H(r,c,a,s.level),i}return Dl(n,t),n}(Ge),Pl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Rl=function(t){function n(r,s){var i=t.call(this,r,s)||this,a=i.element.children[0],c=document.createElement("div");c.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow");var _="";return Object.keys(r.options.preview.theme.list).forEach(function(x){_+='<button data-type="'+x+'">'+r.options.preview.theme.list[x]+"</button>"}),c.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+_+"</div>",c.addEventListener((0,m.Le)(),function(x){x.target.tagName==="BUTTON"&&(M(r,["subToolbar"]),r.options.preview.theme.current=x.target.getAttribute("data-type"),(0,Oe.Z)(r.options.preview.theme.current,r.options.preview.theme.path),x.preventDefault(),x.stopPropagation())}),i.element.appendChild(c),H(r,c,a,s.level),i}return Pl(n,t),n}(Ge),jl=function(){function t(n){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(n,"")}return t.prototype.render=function(n,r){var s=r.endsWith(`
`)?r.length-1:r.length;if(n.options.counter.type==="text"&&n[n.currentMode]){var i=n[n.currentMode].element.cloneNode(!0);i.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(a){a.remove()}),s=i.textContent.length}typeof n.options.counter.max=="number"?(s>n.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML=s+"/"+n.options.counter.max):this.element.innerHTML=""+s,this.element.setAttribute("aria-label",n.options.counter.type),n.options.counter.after&&n.options.counter.after(s,{enable:n.options.counter.enable,max:n.options.counter.max,type:n.options.counter.type})},t}(),Bl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ul=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].innerHTML=s.icon,i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),a.currentTarget.classList.contains(g.g.CLASS_MENU_DISABLED)||s.click(a,r)}),i}return Bl(n,t),n}(Ge),ql=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fl=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.firstElementChild.addEventListener((0,m.Le)(),function(a){var c=i.element.firstElementChild;c.classList.contains(g.g.CLASS_MENU_DISABLED)||(a.preventDefault(),c.classList.contains("vditor-menu--current")?(c.classList.remove("vditor-menu--current"),r.devtools.element.style.display="none",A(r)):(c.classList.add("vditor-menu--current"),r.devtools.element.style.display="block",A(r),r.devtools.renderEchart(r)))}),i}return ql(n,t),n}(Ge),Vl=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"},Kl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Wl=function(t){function n(r,s){var i=t.call(this,r,s)||this,a=document.createElement("div");a.className="vditor-panel vditor-panel--arrow";var c="";return Object.keys(r.options.hint.emoji).forEach(function(_){var x=r.options.hint.emoji[_];x.indexOf(".")>-1?c+='<button data-value=":'+_+': " data-key=":'+_+`:"><img
data-value=":`+_+': " data-key=":'+_+':" class="vditor-emojis__icon" src="'+x+'"/></button>':c+='<button data-value="'+x+` "
 data-key="`+_+'"><span class="vditor-emojis__icon">'+x+"</span></button>"}),a.innerHTML='<div class="vditor-emojis" style="max-height: '+(r.options.height==="auto"?"auto":r.options.height-80)+'px">'+c+`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`+(r.options.hint.emojiTail||"")+`</span>
</div>`,i.element.appendChild(a),H(r,a,i.element.firstElementChild,s.level),i.bindEvent(r),i}return Kl(n,t),n.prototype.bindEvent=function(r){var s=this;this.element.lastElementChild.addEventListener((0,m.Le)(),function(i){var a=(0,F.S)(i.target,"BUTTON");if(a){i.preventDefault();var c=a.getAttribute("data-value"),_=(0,P.zh)(r),x=c;if(r.currentMode==="wysiwyg"?x=r.lute.SpinVditorDOM(c):r.currentMode==="ir"&&(x=r.lute.SpinVditorIRDOM(c)),c.indexOf(":")>-1&&r.currentMode!=="sv"){var S=document.createElement("div");S.innerHTML=x,x=S.firstElementChild.firstElementChild.outerHTML+" ",(0,P.oC)(x,r)}else _.extractContents(),_.insertNode(document.createTextNode(c));_.collapse(!1),(0,P.Hc)(_),s.element.lastElementChild.style.display="none",Ne(r)}}),this.element.lastElementChild.addEventListener("mouseover",function(i){var a=(0,F.S)(i.target,"BUTTON");a&&(s.element.querySelector(".vditor-emojis__tip").innerHTML=a.getAttribute("data-key"))})},n}(Ge),jo=function(t,n,r){var s=document.createElement("a");"download"in s?(s.download=r,s.style.display="none",s.href=URL.createObjectURL(new Blob([n])),document.body.appendChild(s),s.click(),s.remove()):t.tip.show(window.VditorI18n.downloadTip,0)},zl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),$l=function(t){function n(r,s){var i=t.call(this,r,s)||this,a=i.element.children[0],c=document.createElement("div");return c.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow"),c.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,c.addEventListener((0,m.Le)(),function(_){var x=_.target;if(x.tagName==="BUTTON"){switch(x.getAttribute("data-type")){case"markdown":(function(S){var T=v(S);jo(S,T,T.substr(0,10)+".md")})(r);break;case"pdf":(function(S){S.tip.show(window.VditorI18n.generate,3800);var T=document.querySelector("#vditorExportIframe");T.contentDocument.open(),T.contentDocument.write('<link rel="stylesheet" href="'+S.options.cdn+`/dist/index.css"/>
<script src="`+S.options.cdn+`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    markdown: {
      theme: "`+S.options.preview.theme+`"
    },
    hljs: {
      style: "`+S.options.preview.hljs.style+`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`),T.contentDocument.close(),setTimeout(function(){T.contentWindow.postMessage(v(S),"*")},200)})(r);break;case"html":(function(S){var T=Io(S),B='<html><head><link rel="stylesheet" type="text/css" href="'+S.options.cdn+`/dist/index.css"/>
<script src="`+S.options.cdn+"/dist/js/i18n/"+S.options.lang+`.js"><\/script>
<script src="`+S.options.cdn+`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`+T+`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`+S.options.preview.theme.current+"', '"+S.options.preview.theme.path+`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`+JSON.stringify(S.options.preview.hljs)+", previewElement, '"+S.options.cdn+`');
    Vditor.mathRender(previewElement, {
        cdn: '`+S.options.cdn+`',
        math: `+JSON.stringify(S.options.preview.math)+`,
    });
    Vditor.mermaidRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.markmapRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.flowchartRender(previewElement, '`+S.options.cdn+`');
    Vditor.graphvizRender(previewElement, '`+S.options.cdn+`');
    Vditor.chartRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.mindmapRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.abcRender(previewElement, '`+S.options.cdn+`');
    Vditor.mediaRender(previewElement);
    Vditor.speechRender(previewElement);
<\/script>
<script src="`+S.options.cdn+"/dist/js/icons/"+S.options.icon+'.js"><\/script></body></html>';jo(S,B,T.substr(0,10)+".html")})(r)}M(r,["subToolbar"]),_.preventDefault(),_.stopPropagation()}}),i.element.appendChild(c),H(r,c,a,s.level),i}return zl(n,t),n}(Ge),Gl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Zl=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i._bindEvent(r,s),i}return Gl(n,t),n.prototype._bindEvent=function(r,s){this.element.children[0].addEventListener((0,m.Le)(),function(i){i.preventDefault(),r.element.className.includes("vditor--fullscreen")?(s.level||(this.innerHTML=s.icon),r.element.style.zIndex="",document.body.style.overflow="",r.element.classList.remove("vditor--fullscreen"),Object.keys(r.toolbar.elements).forEach(function(a){var c=r.toolbar.elements[a].firstChild;c&&(c.className=c.className.replace("__s","__n"))}),r.counter&&(r.counter.element.className=r.counter.element.className.replace("__s","__n"))):(s.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),r.element.style.zIndex=r.options.fullscreen.index.toString(),document.body.style.overflow="hidden",r.element.classList.add("vditor--fullscreen"),Object.keys(r.toolbar.elements).forEach(function(a){var c=r.toolbar.elements[a].firstChild;c&&(c.className=c.className.replace("__n","__s"))}),r.counter&&(r.counter.element.className=r.counter.element.className.replace("__n","__s"))),r.devtools&&r.devtools.renderEchart(r),s.click&&s.click(i,r),A(r),D(r)})},n}(Ge),Jl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Xl=function(t){function n(r,s){var i=t.call(this,r,s)||this,a=document.createElement("div");return a.className="vditor-hint vditor-panel--arrow",a.innerHTML='<button data-tag="h1" data-value="# ">'+window.VditorI18n.heading1+" "+(0,m.ns)("&lt;\u2325\u23181>")+`</button>
<button data-tag="h2" data-value="## ">`+window.VditorI18n.heading2+" &lt;"+(0,m.ns)("\u2325\u23182")+`></button>
<button data-tag="h3" data-value="### ">`+window.VditorI18n.heading3+" &lt;"+(0,m.ns)("\u2325\u23183")+`></button>
<button data-tag="h4" data-value="#### ">`+window.VditorI18n.heading4+" &lt;"+(0,m.ns)("\u2325\u23184")+`></button>
<button data-tag="h5" data-value="##### ">`+window.VditorI18n.heading5+" &lt;"+(0,m.ns)("\u2325\u23185")+`></button>
<button data-tag="h6" data-value="###### ">`+window.VditorI18n.heading6+" &lt;"+(0,m.ns)("\u2325\u23186")+"></button>",i.element.appendChild(a),i._bindEvent(r,a),i}return Jl(n,t),n.prototype._bindEvent=function(r,s){var i=this.element.children[0];i.addEventListener((0,m.Le)(),function(c){c.preventDefault(),i.classList.contains(g.g.CLASS_MENU_DISABLED)||(i.blur(),i.classList.contains("vditor-menu--current")?(r.currentMode==="wysiwyg"?(he(r),V(r)):r.currentMode==="ir"&&Fn(r,""),i.classList.remove("vditor-menu--current")):(M(r,["subToolbar"]),s.style.display="block"))});for(var a=0;a<6;a++)s.children.item(a).addEventListener((0,m.Le)(),function(c){c.preventDefault(),r.currentMode==="wysiwyg"?(fe(r,c.target.getAttribute("data-tag")),V(r),i.classList.add("vditor-menu--current")):r.currentMode==="ir"?(Fn(r,c.target.getAttribute("data-value")),i.classList.add("vditor-menu--current")):fo(r,c.target.getAttribute("data-value")),s.style.display="none"})},n}(Ge),Yl=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ql=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),r.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown \u4F7F\u7528\u6307\u5357</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">\u8BED\u6CD5\u901F\u67E5\u624B\u518C</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">\u57FA\u7840\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">\u6269\u5C55\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">\u952E\u76D8\u5FEB\u6377\u952E</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor \u652F\u6301</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">\u5B98\u65B9\u8BA8\u8BBA\u533A</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">\u5F00\u53D1\u624B\u518C</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">\u6F14\u793A\u5730\u5740</a></li>
    </ul>
</div></div>`,0)}),i}return Yl(n,t),n}(Ge),ec=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),tc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,m.Le)(),function(a){if(a.preventDefault(),!i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)&&r.currentMode!=="sv"){var c=(0,P.zh)(r),_=(0,k.lG)(c.startContainer,"LI");_&&wo(r,_,c)}}),i}return ec(n,t),n}(Ge),nc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),rc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),r.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>\u4E0B\u4E00\u4EE3\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u4E3A\u672A\u6765\u800C\u6784\u5EFA</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor \u662F\u4E00\u6B3E\u6D4F\u89C8\u5668\u7AEF\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u652F\u6301\u6240\u89C1\u5373\u6240\u5F97\u3001\u5373\u65F6\u6E32\u67D3\uFF08\u7C7B\u4F3C Typora\uFF09\u548C\u5206\u5C4F\u9884\u89C8\u6A21\u5F0F\u3002
        \u5B83\u4F7F\u7528 TypeScript \u5B9E\u73B0\uFF0C\u652F\u6301\u539F\u751F JavaScript \u4EE5\u53CA Vue\u3001React\u3001Angular \u548C Svelte \u7B49\u6846\u67B6\u3002
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        \u9879\u76EE\u5730\u5740\uFF1A<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        \u5F00\u6E90\u534F\u8BAE\uFF1AMIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        \u7EC4\u4EF6\u7248\u672C\uFF1AVditor v`+g.H+" / Lute v"+Lute.Version+`
        </li>
        <li>
        \u8D5E\u52A9\u6350\u8D60\uFF1A<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`,0)}),i}return nc(n,t),n}(Ge),ic=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),oc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||r.currentMode==="sv"||lr(r,"afterend")}),i}return ic(n,t),n}(Ge),sc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),ac=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||r.currentMode==="sv"||lr(r,"beforebegin")}),i}return sc(n,t),n}(Ge),lc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),cc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,m.Le)(),function(a){if(a.preventDefault(),!i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)&&r.currentMode!=="sv"){var c=(0,P.zh)(r),_=(0,k.lG)(c.startContainer,"LI");_&&ni(r,_,c,_.parentElement)}}),i}return lc(n,t),n}(Ge),dc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),uc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return r.options.outline&&i.element.firstElementChild.classList.add("vditor-menu--current"),i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),r.toolbar.elements.outline.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||(r.options.outline.enable=!i.element.firstElementChild.classList.contains("vditor-menu--current"),r.outline.toggle(r,r.options.outline.enable))}),i}return dc(n,t),n}(Ge),fc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),pc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i._bindEvent(r),i}return fc(n,t),n.prototype._bindEvent=function(r){var s=this;this.element.children[0].addEventListener((0,m.Le)(),function(i){i.preventDefault();var a=s.element.firstElementChild;if(!a.classList.contains(g.g.CLASS_MENU_DISABLED)){var c=g.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);a.classList.contains("vditor-menu--current")?(a.classList.remove("vditor-menu--current"),r.currentMode==="sv"?(r.sv.element.style.display="block",r.options.preview.mode==="both"?r.preview.element.style.display="block":r.preview.element.style.display="none"):(r[r.currentMode].element.parentElement.style.display="block",r.preview.element.style.display="none"),L(r.toolbar.elements,c),r.outline.render(r)):(O(r.toolbar.elements,c),r.preview.element.style.display="block",r.currentMode==="sv"?r.sv.element.style.display="none":r[r.currentMode].element.parentElement.style.display="none",r.preview.render(r),a.classList.add("vditor-menu--current"),M(r,["subToolbar","hint","popover"]),setTimeout(function(){r.outline.render(r)},r.options.preview.delay+10)),A(r)}})},n}(Ge),mc=function(){function t(n){var r;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,typeof AudioContext<"u")r=new AudioContext;else{if(!webkitAudioContext)return;r=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=r.sampleRate;var s=r.createGain();r.createMediaStreamSource(n).connect(s),this.recorder=r.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,s.connect(this.recorder),this.recorder.connect(r.destination),this.readyFlag=!0}return t.prototype.cloneChannelData=function(n,r){this.leftChannel.push(new Float32Array(n)),this.rightChannel.push(new Float32Array(r)),this.recordingLength+=2048},t.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},t.prototype.stopRecording=function(){this.isRecording=!1},t.prototype.buildWavFileBlob=function(){for(var n=this.mergeBuffers(this.leftChannel),r=this.mergeBuffers(this.rightChannel),s=new Float32Array(n.length),i=0;i<n.length;++i)s[i]=.5*(n[i]+r[i]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(s=this.downSampleBuffer(s,this.SAMPLE_RATE));var a=44+2*s.length,c=new ArrayBuffer(a),_=new DataView(c);this.writeUTFBytes(_,0,"RIFF"),_.setUint32(4,a,!0),this.writeUTFBytes(_,8,"WAVE"),this.writeUTFBytes(_,12,"fmt "),_.setUint32(16,16,!0),_.setUint16(20,1,!0),_.setUint16(22,1,!0),_.setUint32(24,this.SAMPLE_RATE,!0),_.setUint32(28,2*this.SAMPLE_RATE,!0),_.setUint16(32,2,!0),_.setUint16(34,16,!0);var x=2*s.length;this.writeUTFBytes(_,36,"data"),_.setUint32(40,x,!0);for(var S=s.length,T=44,B=0;B<S;B++)_.setInt16(T,32767*s[B],!0),T+=2;return new Blob([_],{type:"audio/wav"})},t.prototype.downSampleBuffer=function(n,r){if(r===this.DEFAULT_SAMPLE_RATE||r>this.DEFAULT_SAMPLE_RATE)return n;for(var s=this.DEFAULT_SAMPLE_RATE/r,i=Math.round(n.length/s),a=new Float32Array(i),c=0,_=0;c<a.length;){for(var x=Math.round((c+1)*s),S=0,T=0,B=_;B<x&&B<n.length;B++)S+=n[B],T++;a[c]=S/T,c++,_=x}return a},t.prototype.mergeBuffers=function(n){for(var r=new Float32Array(this.recordingLength),s=0,i=n.length,a=0;a<i;++a){var c=n[a];r.set(c,s),s+=c.length}return r},t.prototype.writeUTFBytes=function(n,r,s){for(var i=s.length,a=0;a<i;a++)n.setUint8(r+a,s.charCodeAt(a))},t}(),hc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),vc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i._bindEvent(r),i}return hc(n,t),n.prototype._bindEvent=function(r){var s,i=this;this.element.children[0].addEventListener((0,m.Le)(),function(a){if(a.preventDefault(),!i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)){var c=r[r.currentMode].element;if(s)if(s.isRecording){s.stopRecording(),r.tip.hide();var _=new File([s.buildWavFileBlob()],"record"+new Date().getTime()+".wav",{type:"video/webm"});ti(r,[_]),i.element.children[0].classList.remove("vditor-menu--current")}else r.tip.show(window.VditorI18n.recording),c.setAttribute("contenteditable","false"),s.startRecordingNewWavFile(),i.element.children[0].classList.add("vditor-menu--current");else navigator.mediaDevices.getUserMedia({audio:!0}).then(function(x){(s=new mc(x)).recorder.onaudioprocess=function(S){if(s.isRecording){var T=S.inputBuffer.getChannelData(0),B=S.inputBuffer.getChannelData(1);s.cloneChannelData(T,B)}},s.startRecordingNewWavFile(),r.tip.show(window.VditorI18n.recording),c.setAttribute("contenteditable","false"),i.element.children[0].classList.add("vditor-menu--current")}).catch(function(){r.tip.show(window.VditorI18n["record-tip"])})}})},n}(Ge),gc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),yc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return O({redo:i.element},["redo"]),i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||r.undo.redo(r)}),i}return gc(n,t),n}(Ge),bc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),wc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return O({undo:i.element},["undo"]),i.element.children[0].addEventListener((0,m.Le)(),function(a){a.preventDefault(),i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||r.undo.undo(r)}),i}return bc(n,t),n}(Ge),Ec=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),_c=function(t){function n(r,s){var i=t.call(this,r,s)||this,a='<input type="file"';return r.options.upload.multiple&&(a+=' multiple="multiple"'),r.options.upload.accept&&(a+=' accept="'+r.options.upload.accept+'"'),i.element.children[0].innerHTML=""+(s.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>')+a+">",i._bindEvent(r),i}return Ec(n,t),n.prototype._bindEvent=function(r){var s=this;this.element.children[0].addEventListener((0,m.Le)(),function(i){if(s.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED))return i.stopPropagation(),void i.preventDefault()}),this.element.querySelector("input").addEventListener("change",function(i){if(s.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED))return i.stopPropagation(),void i.preventDefault();i.target.files.length!==0&&ti(r,i.target.files,i.target)})},n}(Ge),Cc=function(){function t(n){var r=this,s=n.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",s.toolbar.forEach(function(i,a){var c=r.genItem(n,i,a);if(r.element.appendChild(c),i.toolbar){var _=document.createElement("div");_.className="vditor-hint vditor-panel--arrow",_.addEventListener((0,m.Le)(),function(x){_.style.display="none"}),i.toolbar.forEach(function(x,S){x.level=2,_.appendChild(r.genItem(n,x,a+S))}),c.appendChild(_),H(n,_,c.children[0])}}),n.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),n.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),n.options.counter.enable&&(n.counter=new jl(n),this.element.appendChild(n.counter.element))}return t.prototype.genItem=function(n,r,s){var i;switch(r.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":i=new Ge(n,r);break;case"emoji":i=new Wl(n,r);break;case"headings":i=new Xl(n,r);break;case"|":i=new Vl;break;case"br":i=new Ol;break;case"undo":i=new wc(n,r);break;case"redo":i=new yc(n,r);break;case"help":i=new Ql(n,r);break;case"both":i=new Nl(n,r);break;case"preview":i=new pc(n,r);break;case"fullscreen":i=new Zl(n,r);break;case"upload":i=new _c(n,r);break;case"record":i=new vc(n,r);break;case"info":i=new rc(n,r);break;case"edit-mode":i=new ll(n,r);break;case"devtools":i=new Fl(n,r);break;case"outdent":i=new cc(n,r);break;case"indent":i=new tc(n,r);break;case"outline":i=new uc(n,r);break;case"insert-after":i=new oc(n,r);break;case"insert-before":i=new ac(n,r);break;case"code-theme":i=new Il(n,r);break;case"content-theme":i=new Rl(n,r);break;case"export":i=new $l(n,r);break;default:i=new Ul(n,r)}if(i){var a=r.name;return a!=="br"&&a!=="|"||(a+=s),this.elements[a]=i.element,i.element}},t}(),kc=f(14),Sc=function(){function t(){this.stackSize=50,this.resetStack(),this.dmp=new kc}return t.prototype.clearStack=function(n){this.resetStack(),this.resetIcon(n)},t.prototype.resetIcon=function(n){n.toolbar&&(this[n.currentMode].undoStack.length>1?L(n.toolbar.elements,["undo"]):O(n.toolbar.elements,["undo"]),this[n.currentMode].redoStack.length!==0?L(n.toolbar.elements,["redo"]):O(n.toolbar.elements,["redo"]))},t.prototype.undo=function(n){if(n[n.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[n.currentMode].undoStack.length<2)){var r=this[n.currentMode].undoStack.pop();r&&(this[n.currentMode].redoStack.push(r),this.renderDiff(r,n),this[n.currentMode].hasUndo=!0,M(n,["hint"]))}},t.prototype.redo=function(n){if(n[n.currentMode].element.getAttribute("contenteditable")!=="false"){var r=this[n.currentMode].redoStack.pop();r&&(this[n.currentMode].undoStack.push(r),this.renderDiff(r,n,!0))}},t.prototype.recordFirstPosition=function(n,r){if(getSelection().rangeCount!==0&&!(this[n.currentMode].undoStack.length!==1||this[n.currentMode].undoStack[0].length===0||this[n.currentMode].redoStack.length>0||(0,m.vU)()&&r.key==="Backspace"||(0,m.G6)())){var s=this.addCaret(n);s.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[n.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[n.currentMode].undoStack[0][0].diffs[0][1]=s,this[n.currentMode].lastText=s)}},t.prototype.addToUndoStack=function(n){var r=this.addCaret(n,!0),s=this.dmp.diff_main(r,this[n.currentMode].lastText,!0),i=this.dmp.patch_make(r,this[n.currentMode].lastText,s);i.length===0&&this[n.currentMode].undoStack.length>0||(this[n.currentMode].lastText=r,this[n.currentMode].undoStack.push(i),this[n.currentMode].undoStack.length>this.stackSize&&this[n.currentMode].undoStack.shift(),this[n.currentMode].hasUndo&&(this[n.currentMode].redoStack=[],this[n.currentMode].hasUndo=!1,O(n.toolbar.elements,["redo"])),this[n.currentMode].undoStack.length>1&&L(n.toolbar.elements,["undo"]))},t.prototype.renderDiff=function(n,r,s){var i;if(s===void 0&&(s=!1),s){var a=this.dmp.patch_deepCopy(n).reverse();a.forEach(function(_){_.diffs.forEach(function(x){x[0]=-x[0]})}),i=this.dmp.patch_apply(a,this[r.currentMode].lastText)[0]}else i=this.dmp.patch_apply(n,this[r.currentMode].lastText)[0];if(this[r.currentMode].lastText=i,r[r.currentMode].element.innerHTML=i,r.currentMode!=="sv"&&r[r.currentMode].element.querySelectorAll(".vditor-"+r.currentMode+"__preview[data-render='2']").forEach(function(_){Ue(_,r)}),r[r.currentMode].element.querySelector("wbr"))(0,P.ib)(r[r.currentMode].element,r[r.currentMode].element.ownerDocument.createRange()),et(r);else{var c=getSelection().getRangeAt(0);c.setEndBefore(r[r.currentMode].element),c.collapse(!1)}Je(r),Ne(r,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),Qe(r),r[r.currentMode].element.querySelectorAll(".vditor-"+r.currentMode+"__preview[data-render='2']").forEach(function(_){Ue(_,r)}),this[r.currentMode].undoStack.length>1?L(r.toolbar.elements,["undo"]):O(r.toolbar.elements,["undo"]),this[r.currentMode].redoStack.length!==0?L(r.toolbar.elements,["redo"]):O(r.toolbar.elements,["redo"])},t.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},t.prototype.addCaret=function(n,r){var s;if(r===void 0&&(r=!1),getSelection().rangeCount!==0&&!n[n.currentMode].element.querySelector("wbr")){var i=getSelection().getRangeAt(0);if(n[n.currentMode].element.contains(i.startContainer)){s=i.cloneRange();var a=document.createElement("span");a.className="vditor-wbr",i.insertNode(a)}}n.ir.element.cloneNode(!0).querySelectorAll(".vditor-"+n.currentMode+"__preview[data-render='1']").forEach(function(_){(_.firstElementChild.classList.contains("language-echarts")||_.firstElementChild.classList.contains("language-plantuml")||_.firstElementChild.classList.contains("language-mindmap"))&&(_.firstElementChild.removeAttribute("_echarts_instance_"),_.firstElementChild.removeAttribute("data-processed"),_.firstElementChild.innerHTML=_.previousElementSibling.firstElementChild.innerHTML,_.setAttribute("data-render","2")),_.firstElementChild.classList.contains("language-math")&&(_.setAttribute("data-render","2"),_.firstElementChild.textContent=_.firstElementChild.getAttribute("data-math"),_.firstElementChild.removeAttribute("data-math"))});var c=n[n.currentMode].element.innerHTML;return n[n.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(_){_.remove()}),r&&s&&(0,P.Hc)(s),c.replace('<span class="vditor-wbr"></span>',"<wbr>")},t}(),xc=f(640),Tc=function(){function t(n){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:g.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"\u{1F44D}","-1":"\u{1F44E}",confused:"\u{1F615}",eyes:"\u{1F440}\uFE0F",heart:"\u2764\uFE0F",rocket:"\u{1F680}\uFE0F",smile:"\u{1F604}",tada:"\u{1F389}\uFE0F"},emojiPath:g.g.CDN+"/dist/images/emoji",extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:g.g.HLJS_OPTIONS,markdown:g.g.MARKDOWN_OPTIONS,math:g.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:g.g.THEME_OPTIONS},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(r){return r.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=n}return t.prototype.merge=function(){var n,r,s;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((r=(n=this.options.preview)===null||n===void 0?void 0:n.theme)===null||r===void 0)&&r.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((s=this.options.hint)===null||s===void 0)&&s.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment));var i=(0,xc.T)(this.defaultOptions,this.options);if(i.cache.enable&&!i.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return i},t.prototype.mergeToolbar=function(n){var r=this,s=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"\u2318E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"\u2318H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"\u2318B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"\u2318I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"\u2318D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"\u2318K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"\u2318L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"\u2318O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"\u2318J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"\u21E7\u2318I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"\u21E7\u2318O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"\u2318;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"\u21E7\u2318H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"\u2318U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"\u2318G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"\u21E7\u2318B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"\u21E7\u2318E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"\u2318M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"\u2318Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"\u2318Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"\u2318'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"\u2318P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],i=[];return n.forEach(function(a){var c=a;s.forEach(function(_){typeof a=="string"&&_.name===a&&(c=_),typeof a=="object"&&_.name===a.name&&(c=Object.assign({},_,a))}),a.toolbar&&(c.toolbar=r.mergeToolbar(a.toolbar)),i.push(c)}),i},t}(),Lc=function(){function t(n){var r=this;this.composingLock=!1,this.commentIds=[];var s=document.createElement("div");s.className="vditor-wysiwyg",s.innerHTML='<pre class="vditor-reset" placeholder="'+n.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`+window.VditorI18n.comment+`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`,this.element=s.firstElementChild,this.popover=s.firstElementChild.nextElementSibling,this.selectPopover=s.lastElementChild,this.bindEvent(n),Gr(n,this.element),lo(n,this.element),Zr(n,this.element),Qr(n,this.element),ei(n,this.element),Jr(n,this.element),Xr(n,this.element,this.copy),Yr(n,this.element,this.copy),n.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var i,a,c=Lute.NewNodeID(),_=getSelection().getRangeAt(0),x=_.cloneRange(),S=_.extractContents(),T=!1,B=!1;S.childNodes.forEach(function(j,W){var me=!1;if(j.nodeType===3?me=!0:j.classList.contains("vditor-comment")?j.classList.contains("vditor-comment")&&j.setAttribute("data-cmtids",j.getAttribute("data-cmtids")+" "+c):me=!0,me)if(j.nodeType!==3&&j.getAttribute("data-block")==="0"&&W===0&&x.startOffset>0)j.innerHTML='<span class="vditor-comment" data-cmtids="'+c+'">'+j.innerHTML+"</span>",i=j;else if(j.nodeType!==3&&j.getAttribute("data-block")==="0"&&W===S.childNodes.length-1&&x.endOffset<x.endContainer.textContent.length)j.innerHTML='<span class="vditor-comment" data-cmtids="'+c+'">'+j.innerHTML+"</span>",a=j;else if(j.nodeType!==3&&j.getAttribute("data-block")==="0")W===0?T=!0:W===S.childNodes.length-1&&(B=!0),j.innerHTML='<span class="vditor-comment" data-cmtids="'+c+'">'+j.innerHTML+"</span>";else{var Y=document.createElement("span");Y.classList.add("vditor-comment"),Y.setAttribute("data-cmtids",c),j.parentNode.insertBefore(Y,j),Y.appendChild(j)}});var Z=(0,k.F9)(x.startContainer);Z&&(i?(Z.insertAdjacentHTML("beforeend",i.innerHTML),i.remove()):Z.textContent.trim().replace(g.g.ZWSP,"")===""&&T&&Z.remove());var ne=(0,k.F9)(x.endContainer);ne&&(a?(ne.insertAdjacentHTML("afterbegin",a.innerHTML),a.remove()):ne.textContent.trim().replace(g.g.ZWSP,"")===""&&B&&ne.remove()),_.insertNode(S),n.options.comment.add(c,_.toString(),r.getComments(n,!0)),V(n,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),r.hideComment()})}return t.prototype.getComments=function(n,r){var s=this;if(r===void 0&&(r=!1),n.currentMode!=="wysiwyg"||!n.options.comment.enable)return[];this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(a){s.commentIds=s.commentIds.concat(a.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var i=[];return r?(this.commentIds.forEach(function(a){i.push({id:a,top:s.element.querySelector('.vditor-comment[data-cmtids="'+a+'"]').offsetTop})}),i):void 0},t.prototype.triggerRemoveComment=function(n){var r,s,i;if(n.currentMode==="wysiwyg"&&n.options.comment.enable&&n.wysiwyg.commentIds.length>0){var a=JSON.parse(JSON.stringify(this.commentIds));this.getComments(n);var c=(r=a,s=this.commentIds,i=new Set(s),r.filter(function(_){return!i.has(_)}));c.length>0&&n.options.comment.remove(c)}},t.prototype.showComment=function(){var n=(0,P.Ny)(this.element);this.selectPopover.setAttribute("style","left:"+n.left+"px;display:block;top:"+Math.max(-8,n.top-21)+"px")},t.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},t.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},t.prototype.copy=function(n,r){var s=getSelection().getRangeAt(0);if(s.toString()!==""){n.stopPropagation(),n.preventDefault();var i=(0,k.lG)(s.startContainer,"CODE"),a=(0,k.lG)(s.endContainer,"CODE");if(i&&a&&a.isSameNode(i)){var c="";return c=i.parentElement.tagName==="PRE"?s.toString():"`"+s.toString()+"`",n.clipboardData.setData("text/plain",c),void n.clipboardData.setData("text/html","")}var _=(0,k.lG)(s.startContainer,"A"),x=(0,k.lG)(s.endContainer,"A");if(_&&x&&x.isSameNode(_)){var S=_.getAttribute("title")||"";return S&&(S=' "'+S+'"'),n.clipboardData.setData("text/plain","["+s.toString()+"]("+_.getAttribute("href")+S+")"),void n.clipboardData.setData("text/html","")}var T=document.createElement("div");T.appendChild(s.cloneContents()),n.clipboardData.setData("text/plain",r.lute.VditorDOM2Md(T.innerHTML).trim()),n.clipboardData.setData("text/html","")}},t.prototype.bindEvent=function(n){var r=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(M(n,["hint"]),r.popover.style.display==="block"&&r.selectPopover.style.display==="block"){var s=parseInt(r.popover.getAttribute("data-top"),10);if(n.options.height==="auto"){if(n.options.toolbarConfig.pin){var i=Math.max(s,window.scrollY-n.element.offsetTop-8)+"px";r.popover.style.display==="block"&&(r.popover.style.top=i),r.selectPopover.style.display==="block"&&(r.selectPopover.style.top=i)}}else if(n.options.toolbarConfig.pin&&n.toolbar.element.getBoundingClientRect().top===0){var a=Math.max(window.scrollY-n.element.offsetTop-8,Math.min(s-n.wysiwyg.element.scrollTop,r.element.clientHeight-21))+"px";r.popover.style.display==="block"&&(r.popover.style.top=a),r.selectPopover.style.display==="block"&&(r.selectPopover.style.top=a)}}}),this.element.addEventListener("scroll",function(){if(M(n,["hint"]),n.options.comment&&n.options.comment.enable&&n.options.comment.scroll&&n.options.comment.scroll(n.wysiwyg.element.scrollTop),r.popover.style.display==="block"){var s=parseInt(r.popover.getAttribute("data-top"),10)-n.wysiwyg.element.scrollTop,i=-8;n.options.toolbarConfig.pin&&n.toolbar.element.getBoundingClientRect().top===0&&(i=window.scrollY-n.element.offsetTop+i);var a=Math.max(i,Math.min(s,r.element.clientHeight-21))+"px";r.popover.style.top=a,r.selectPopover.style.top=a}}),this.element.addEventListener("paste",function(s){fr(n,s,{pasteCode:function(i){var a=(0,P.zh)(n),c=document.createElement("template");c.innerHTML=i,a.insertNode(c.content.cloneNode(!0));var _=(0,k.a1)(a.startContainer,"data-block","0");_?_.outerHTML=n.lute.SpinVditorDOM(_.outerHTML):n.wysiwyg.element.innerHTML=n.lute.SpinVditorDOM(n.wysiwyg.element.innerHTML),(0,P.ib)(n.wysiwyg.element,a)}})}),this.element.addEventListener("compositionstart",function(){r.composingLock=!0}),this.element.addEventListener("compositionend",function(s){var i=(0,F.W)(getSelection().getRangeAt(0).startContainer);i&&i.textContent===""?Je(n):((0,m.vU)()||ar(n,getSelection().getRangeAt(0).cloneRange(),s),r.composingLock=!1)}),this.element.addEventListener("input",function(s){if(s.inputType!=="deleteByDrag"&&s.inputType!=="insertFromDrop"){if(r.preventInput)return r.preventInput=!1,void V(n);if(r.composingLock||s.data==="\u2018"||s.data==="\u201C"||s.data==="\u300A")V(n);else{var i=getSelection().getRangeAt(0),a=(0,k.F9)(i.startContainer);if(a||(ve(n,i),a=(0,k.F9)(i.startContainer)),a){for(var c=(0,P.im)(a,n.wysiwyg.element,i).start,_=!0,x=c-1;x>a.textContent.substr(0,c).lastIndexOf(`
`);x--)if(a.textContent.charAt(x)!==" "&&a.textContent.charAt(x)!=="	"){_=!1;break}c===0&&(_=!1);var S=!0;for(x=c-1;x<a.textContent.length;x++)if(a.textContent.charAt(x)!==" "&&a.textContent.charAt(x)!==`
`){S=!1;break}var T=(0,F.W)(getSelection().getRangeAt(0).startContainer);T&&T.textContent===""&&(Je(n),T.remove()),_&&a.getAttribute("data-type")!=="code-block"||S||ii(a.innerHTML)||ri(a.innerHTML)&&a.previousElementSibling?typeof n.options.input=="function"&&n.options.input(v(n)):ar(n,i,s)}}}}),this.element.addEventListener("click",function(s){if(s.target.tagName==="INPUT"){var i=s.target;return i.checked?i.setAttribute("checked","checked"):i.removeAttribute("checked"),r.preventInput=!0,void V(n)}if(s.target.tagName!=="IMG"||s.target.parentElement.classList.contains("vditor-wysiwyg__preview")){if(s.target.tagName==="A")return n.options.link.click?n.options.link.click(s.target):n.options.link.isOpen&&window.open(s.target.getAttribute("href")),void s.preventDefault();var a=(0,P.zh)(n);if(s.target.isEqualNode(r.element)&&r.element.lastElementChild&&a.collapsed){var c=r.element.lastElementChild.getBoundingClientRect();s.y>c.top+c.height&&(r.element.lastElementChild.tagName==="P"&&r.element.lastElementChild.textContent.trim().replace(g.g.ZWSP,"")===""?(a.selectNodeContents(r.element.lastElementChild),a.collapse(!1)):(r.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+g.g.ZWSP+"<wbr></p>"),(0,P.ib)(r.element,a)))}De(n);var _=(0,k.fb)(s.target,"vditor-wysiwyg__preview");_||(_=(0,k.fb)((0,P.zh)(n).startContainer,"vditor-wysiwyg__preview")),_&&we(_,n),on(s,n)}else s.target.getAttribute("data-type")==="link-ref"?$e(n,s.target):function(x,S){var T=x.target;S.wysiwyg.popover.innerHTML="";var B=function(){T.setAttribute("src",ne.value),T.setAttribute("alt",W.value),T.setAttribute("title",Y.value)},Z=document.createElement("span");Z.setAttribute("aria-label",window.VditorI18n.imageURL),Z.className="vditor-tooltipped vditor-tooltipped__n";var ne=document.createElement("input");Z.appendChild(ne),ne.className="vditor-input",ne.setAttribute("placeholder",window.VditorI18n.imageURL),ne.value=T.getAttribute("src")||"",ne.oninput=function(){B()},ne.onkeydown=function(ae){ge(S,ae)};var j=document.createElement("span");j.setAttribute("aria-label",window.VditorI18n.alternateText),j.className="vditor-tooltipped vditor-tooltipped__n";var W=document.createElement("input");j.appendChild(W),W.className="vditor-input",W.setAttribute("placeholder",window.VditorI18n.alternateText),W.style.width="52px",W.value=T.getAttribute("alt")||"",W.oninput=function(){B()},W.onkeydown=function(ae){ge(S,ae)};var me=document.createElement("span");me.setAttribute("aria-label",window.VditorI18n.title),me.className="vditor-tooltipped vditor-tooltipped__n";var Y=document.createElement("input");me.appendChild(Y),Y.className="vditor-input",Y.setAttribute("placeholder",window.VditorI18n.title),Y.value=T.getAttribute("title")||"",Y.oninput=function(){B()},Y.onkeydown=function(ae){ge(S,ae)},pt(T,S),S.wysiwyg.popover.insertAdjacentElement("beforeend",Z),S.wysiwyg.popover.insertAdjacentElement("beforeend",j),S.wysiwyg.popover.insertAdjacentElement("beforeend",me),Le(S,T)}(s,n)}),this.element.addEventListener("keyup",function(s){if(!s.isComposing&&!(0,m.yl)(s)){s.key==="Enter"&&et(n),s.key!=="Backspace"&&s.key!=="Delete"||n.wysiwyg.element.innerHTML===""||n.wysiwyg.element.childNodes.length!==1||!n.wysiwyg.element.firstElementChild||n.wysiwyg.element.firstElementChild.tagName!=="P"||n.wysiwyg.element.firstElementChild.childElementCount!==0||n.wysiwyg.element.textContent!==""&&n.wysiwyg.element.textContent!==`
`||(n.wysiwyg.element.innerHTML="");var i=(0,P.zh)(n);if(s.key==="Backspace"&&(0,m.vU)()&&i.startContainer.textContent===`
`&&i.startOffset===1&&(i.startContainer.textContent=""),ve(n,i),De(n),s.key==="ArrowDown"||s.key==="ArrowRight"||s.key==="Backspace"||s.key==="ArrowLeft"||s.key==="ArrowUp"){s.key!=="ArrowLeft"&&s.key!=="ArrowRight"||n.hint.render(n);var a=(0,k.fb)(i.startContainer,"vditor-wysiwyg__preview");if(!a&&i.startContainer.nodeType!==3&&i.startOffset>0&&(_=i.startContainer).classList.contains("vditor-wysiwyg__block")&&(a=_.lastElementChild),a)if(a.previousElementSibling.style.display!=="none"){var c=a.previousElementSibling;if(c.tagName==="PRE"&&(c=c.firstElementChild),s.key==="ArrowDown"||s.key==="ArrowRight"){var _,x=function(T){for(var B=T;B&&!B.nextSibling;)B=B.parentElement;return B.nextSibling}(_=a.parentElement);if(x&&x.nodeType!==3){var S=x.querySelector(".vditor-wysiwyg__preview");if(S)return void we(S,n)}if(x.nodeType===3){for(;x.textContent.length===0&&x.nextSibling;)x=x.nextSibling;i.setStart(x,1)}else i.setStart(x.firstChild,0)}else i.selectNodeContents(c),i.collapse(!1)}else s.key==="ArrowDown"||s.key==="ArrowRight"?we(a,n):we(a,n,!1)}}})},t}(),Ac=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}();const Mc=function(t){function n(r,s){var i=t.call(this)||this;i.version=g.H,typeof r=="string"&&(s?s.cache?s.cache.id||(s.cache.id="vditor"+r):s.cache={id:"vditor"+r}:s={cache:{id:"vditor"+r}},r=document.getElementById(r));var a=new Tc(s).merge();if(a.i18n)window.VditorI18n=a.i18n,i.init(r,a);else{if(!["en_US","fr_FR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(a.lang))throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");var c="vditorI18nScript",_=c+a.lang;document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(x){x.id!==_&&document.head.removeChild(x)}),(0,p.G)(a.cdn+"/dist/js/i18n/"+a.lang+".js",_).then(function(){i.init(r,a)})}return i}return Ac(n,t),n.prototype.setTheme=function(r,s,i,a){this.vditor.options.theme=r,qe(this.vditor),s&&(this.vditor.options.preview.theme.current=s,(0,Oe.Z)(s,a||this.vditor.options.preview.theme.path)),i&&(this.vditor.options.preview.hljs.style=i,(0,Ro.Y)(i,this.vditor.options.cdn))},n.prototype.getValue=function(){return v(this.vditor)},n.prototype.getCurrentMode=function(){return this.vditor.currentMode},n.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},n.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},n.prototype.disabled=function(){M(this.vditor,["subToolbar","hint","popover"]),O(this.vditor.toolbar.elements,g.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},n.prototype.enable=function(){L(this.vditor.toolbar.elements,g.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},n.prototype.getSelection=function(){return this.vditor.currentMode==="wysiwyg"?Un(this.vditor.wysiwyg.element):this.vditor.currentMode==="sv"?Un(this.vditor.sv.element):this.vditor.currentMode==="ir"?Un(this.vditor.ir.element):void 0},n.prototype.renderPreview=function(r){this.vditor.preview.render(this.vditor,r)},n.prototype.getCursorPosition=function(){return(0,P.Ny)(this.vditor[this.vditor.currentMode].element)},n.prototype.isUploading=function(){return this.vditor.upload.isUploading},n.prototype.clearCache=function(){localStorage.removeItem(this.vditor.options.cache.id)},n.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},n.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},n.prototype.html2md=function(r){return this.vditor.lute.HTML2Md(r)},n.prototype.exportJSON=function(r){return this.vditor.lute.RenderJSON(r)},n.prototype.getHTML=function(){return Io(this.vditor)},n.prototype.tip=function(r,s){this.vditor.tip.show(r,s)},n.prototype.setPreviewMode=function(r){si(r,this.vditor)},n.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},n.prototype.updateValue=function(r){document.execCommand("insertHTML",!1,r)},n.prototype.insertValue=function(r,s){s===void 0&&(s=!0);var i=(0,P.zh)(this.vditor);i.collapse(!0);var a=document.createElement("template");a.innerHTML=r,i.insertNode(a.content.cloneNode(!0)),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,s&&Re(this.vditor)):this.vditor.currentMode==="wysiwyg"?(this.vditor.wysiwyg.preventInput=!0,s&&ar(this.vditor,getSelection().getRangeAt(0))):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,s&&je(this.vditor,getSelection().getRangeAt(0),!0))},n.prototype.setValue=function(r,s){var i=this;s===void 0&&(s=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>"+this.vditor.lute.SpinVditorSVDOM(r)+"</div>",nt(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?wt(this.vditor,r,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(r),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(a){Ue(a,i.vditor)}),jt(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),r||(M(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),s&&this.clearStack()},n.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},n.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var r=document.getElementById("vditorIconScript");r&&r.remove(),this.clearCache(),R(),this.vditor.wysiwyg.unbindListener()},n.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},n.prototype.hlCommentIds=function(r){if(this.vditor.currentMode==="wysiwyg"){var s=function(i){i.classList.remove("vditor-comment--hover"),r.forEach(function(a){i.getAttribute("data-cmtids").indexOf(a)>-1&&i.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)})}},n.prototype.unHlCommentIds=function(r){if(this.vditor.currentMode==="wysiwyg"){var s=function(i){r.forEach(function(a){i.getAttribute("data-cmtids").indexOf(a)>-1&&i.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)})}},n.prototype.removeCommentIds=function(r){var s=this;if(this.vditor.currentMode==="wysiwyg"){var i=function(a,c){var _=a.getAttribute("data-cmtids").split(" ");_.find(function(x,S){if(x===c)return _.splice(S,1),!0}),_.length===0?(a.outerHTML=a.innerHTML,(0,P.zh)(s.vditor).collapse(!0)):a.setAttribute("data-cmtids",_.join(" "))};r.forEach(function(a){s.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(c){i(c,a)}),s.vditor.preview.element.style.display!=="none"&&s.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(c){i(c,a)})}),V(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},n.prototype.init=function(r,s){var i=this;this.vditor={currentMode:s.mode,element:r,hint:new _l(s.hint.extend),lute:void 0,options:s,originalInnerHTML:r.innerHTML,outline:new Sl(window.VditorI18n.outline),tip:new Ml},this.vditor.sv=new Al(this.vditor),this.vditor.undo=new Sc,this.vditor.wysiwyg=new Lc(this.vditor),this.vditor.ir=new Cl(this.vditor),this.vditor.toolbar=new Cc(this.vditor),s.resize.enable&&(this.vditor.resize=new Ll(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new E),(s.upload.url||s.upload.handler||s.upload.processor)&&(this.vditor.upload=new pl),(0,p.G)(s._lutePath||s.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){i.vditor.lute=(0,kl.X)({autoSpace:i.vditor.options.preview.markdown.autoSpace,codeBlockPreview:i.vditor.options.preview.markdown.codeBlockPreview,emojiSite:i.vditor.options.hint.emojiPath,emojis:i.vditor.options.hint.emoji,fixTermTypo:i.vditor.options.preview.markdown.fixTermTypo,footnotes:i.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:i.vditor.options.preview.math.inlineDigit,linkBase:i.vditor.options.preview.markdown.linkBase,linkPrefix:i.vditor.options.preview.markdown.linkPrefix,listStyle:i.vditor.options.preview.markdown.listStyle,mark:i.vditor.options.preview.markdown.mark,mathBlockPreview:i.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:i.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:i.vditor.options.preview.markdown.sanitize,toc:i.vditor.options.preview.markdown.toc}),i.vditor.preview=new Tl(i.vditor),function(a){a.element.innerHTML="",a.element.classList.add("vditor"),a.options.rtl&&a.element.setAttribute("dir","rtl"),qe(a),(0,Oe.Z)(a.options.preview.theme.current,a.options.preview.theme.path),typeof a.options.height=="number"?a.element.style.height=a.options.height+"px":a.element.style.height=a.options.height,typeof a.options.minHeight=="number"&&(a.element.style.minHeight=a.options.minHeight+"px"),typeof a.options.width=="number"?a.element.style.width=a.options.width+"px":a.element.style.width=a.options.width,a.element.appendChild(a.toolbar.element);var c=document.createElement("div");if(c.className="vditor-content",a.options.outline.position==="left"&&c.appendChild(a.outline.element),c.appendChild(a.wysiwyg.element.parentElement),c.appendChild(a.sv.element),c.appendChild(a.ir.element.parentElement),c.appendChild(a.preview.element),a.toolbar.elements.devtools&&c.appendChild(a.devtools.element),a.options.outline.position==="right"&&(a.outline.element.classList.add("vditor-outline--right"),c.appendChild(a.outline.element)),a.upload&&c.appendChild(a.upload.element),a.options.resize.enable&&c.appendChild(a.resize.element),c.appendChild(a.hint.element),c.appendChild(a.tip.element),a.element.appendChild(c),c.addEventListener("click",function(){M(a,["subToolbar"])}),a.toolbar.elements.export&&a.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),sn(a,a.options.mode,ie(a)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&window.visualViewport!==void 0){var _=!1,x=function(S){_||(_=!0,requestAnimationFrame(function(){_=!1;var T=a.toolbar.element;T.style.transform="none",T.getBoundingClientRect().top<0&&(T.style.transform="translate(0, "+-T.getBoundingClientRect().top+"px)")}))};window.visualViewport.addEventListener("scroll",x),window.visualViewport.addEventListener("resize",x)}}(i.vditor),s.after&&s.after(),s.icon&&(0,p.J)(s.cdn+"/dist/js/icons/"+s.icon+".js","vditorIconScript")})},n}(y.default)})(),h=h.default})()})})(Va);const Hf=Mf(Va.exports);const oo=()=>{const{userInfo:e}=$r(),o=(()=>{const h=new URL(location.href.replace("/#/","/")),b=h.searchParams.get("repo"),y=h.searchParams.get("path");return b&&y?{repo:b,path:y}:void 0})(),l=(()=>{var y;const h=(y=e.value)==null?void 0:y.login;return!h||!o?Promise.resolve(void 0):bf({user:h,...o})})(),d=Kt(!Boolean(o==null?void 0:o.path)),f=Kt();return l.then(h=>{f.value=h,d.value=!1}),{routeInfo:o,loading:d,initialContent:f}},Ka="3.7.5",Nf=Ka,Of=typeof atob=="function",Df=typeof btoa=="function",Bn=typeof Buffer=="function",Ts=typeof TextDecoder=="function"?new TextDecoder:void 0,Ls=typeof TextEncoder=="function"?new TextEncoder:void 0,If="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wn=Array.prototype.slice.call(If),_r=(e=>{let o={};return e.forEach((l,d)=>o[l]=d),o})(Wn),Pf=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,lt=String.fromCharCode.bind(String),As=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Wa=e=>e.replace(/=/g,"").replace(/[+\/]/g,o=>o=="+"?"-":"_"),za=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),$a=e=>{let o,l,d,f,h="";const b=e.length%3;for(let y=0;y<e.length;){if((l=e.charCodeAt(y++))>255||(d=e.charCodeAt(y++))>255||(f=e.charCodeAt(y++))>255)throw new TypeError("invalid character found");o=l<<16|d<<8|f,h+=Wn[o>>18&63]+Wn[o>>12&63]+Wn[o>>6&63]+Wn[o&63]}return b?h.slice(0,b-3)+"===".substring(b):h},so=Df?e=>btoa(e):Bn?e=>Buffer.from(e,"binary").toString("base64"):$a,Ni=Bn?e=>Buffer.from(e).toString("base64"):e=>{let l=[];for(let d=0,f=e.length;d<f;d+=4096)l.push(lt.apply(null,e.subarray(d,d+4096)));return so(l.join(""))},xr=(e,o=!1)=>o?Wa(Ni(e)):Ni(e),Rf=e=>{if(e.length<2){var o=e.charCodeAt(0);return o<128?e:o<2048?lt(192|o>>>6)+lt(128|o&63):lt(224|o>>>12&15)+lt(128|o>>>6&63)+lt(128|o&63)}else{var o=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return lt(240|o>>>18&7)+lt(128|o>>>12&63)+lt(128|o>>>6&63)+lt(128|o&63)}},jf=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ga=e=>e.replace(jf,Rf),Ms=Bn?e=>Buffer.from(e,"utf8").toString("base64"):Ls?e=>Ni(Ls.encode(e)):e=>so(Ga(e)),Hn=(e,o=!1)=>o?Wa(Ms(e)):Ms(e),Hs=e=>Hn(e,!0),Bf=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Uf=e=>{switch(e.length){case 4:var o=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),l=o-65536;return lt((l>>>10)+55296)+lt((l&1023)+56320);case 3:return lt((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return lt((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Za=e=>e.replace(Bf,Uf),Ja=e=>{if(e=e.replace(/\s+/g,""),!Pf.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let o,l="",d,f;for(let h=0;h<e.length;)o=_r[e.charAt(h++)]<<18|_r[e.charAt(h++)]<<12|(d=_r[e.charAt(h++)])<<6|(f=_r[e.charAt(h++)]),l+=d===64?lt(o>>16&255):f===64?lt(o>>16&255,o>>8&255):lt(o>>16&255,o>>8&255,o&255);return l},ao=Of?e=>atob(za(e)):Bn?e=>Buffer.from(e,"base64").toString("binary"):Ja,Xa=Bn?e=>As(Buffer.from(e,"base64")):e=>As(ao(e).split("").map(o=>o.charCodeAt(0))),Ya=e=>Xa(Qa(e)),qf=Bn?e=>Buffer.from(e,"base64").toString("utf8"):Ts?e=>Ts.decode(Xa(e)):e=>Za(ao(e)),Qa=e=>za(e.replace(/[-_]/g,o=>o=="-"?"+":"/")),Oi=e=>qf(Qa(e)),Ff=e=>{if(typeof e!="string")return!1;const o=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(o)||!/[^\s0-9a-zA-Z\-_]/.test(o)},el=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),tl=function(){const e=(o,l)=>Object.defineProperty(String.prototype,o,el(l));e("fromBase64",function(){return Oi(this)}),e("toBase64",function(o){return Hn(this,o)}),e("toBase64URI",function(){return Hn(this,!0)}),e("toBase64URL",function(){return Hn(this,!0)}),e("toUint8Array",function(){return Ya(this)})},nl=function(){const e=(o,l)=>Object.defineProperty(Uint8Array.prototype,o,el(l));e("toBase64",function(o){return xr(this,o)}),e("toBase64URI",function(){return xr(this,!0)}),e("toBase64URL",function(){return xr(this,!0)})},Vf=()=>{tl(),nl()},rl={version:Ka,VERSION:Nf,atob:ao,atobPolyfill:Ja,btoa:so,btoaPolyfill:$a,fromBase64:Oi,toBase64:Hn,encode:Hn,encodeURI:Hs,encodeURL:Hs,utob:Ga,btou:Za,decode:Oi,isValid:Ff,fromUint8Array:xr,toUint8Array:Ya,extendString:tl,extendUint8Array:nl,extendBuiltins:Vf},Kf=(e=o=>o)=>{const o=(()=>{let h=0;return b=>{const y=`assets-server-local/${h}/${b}`;return h+=1,y}})(),l=new Map,d=h=>{const b=URL.createObjectURL(h),y=o(h.name);return l.set(y,{file:h,url:b}),[y,b]};return{handler:h=>{const b=h.map(d);return e(b)},fileMap:l}},Wf=e=>JSON.stringify({msg:"",code:0,data:{errFiles:[],succMap:Object.fromEntries(e)}}),zf=Kf(Wf),$f=e=>{const o=Kt(""),{initialContent:l}=oo();(()=>{var h;return(h=new URL(location.href.replace("/#/","/")).searchParams.get("assets_site"))!=null?h:"https://local.assets.server"})();let d;return Xi(()=>{!e.value||(d=new Hf(e.value,{cache:{enable:!1},upload:{processor:(f,h)=>zf.handler(h)},placeholder:"Type here",input:f=>{o.value=f}}),Ud(async()=>{if(l.value){const f=rl.decode(l.value.content);d.setValue(f)}}))}),{value:o}},il=rn({__name:"Overlay",props:{bindings:null,transitionProps:null},setup(e){return(o,l)=>(st(),jn(tf,Ft(hn(e.transitionProps)),{default:Yt(()=>[(st(!0),xt(rt,null,ya(e.bindings,(d,f)=>gn(o.$slots,"default",Ft(Mn({key:d.key},{...d,index:f})))),128))]),_:3},16))}}),Ns=(()=>{let e=-1;return()=>(e+=1,e)})(),ol=()=>{const e=Kt([]);return{bindings:e,unshift:f=>{const h=Ns();return e.value.unshift({bind:f,key:h}),h},push:f=>{const h=Ns();return e.value.push({bind:f,key:h}),h},remove:f=>{e.value=e.value.filter(h=>h.key!==f)}}},Tr=Symbol("UNSELECT_CLOSE"),Gf=()=>{const{bindings:e,push:o,remove:l}=ol(),d=(h,b)=>{e.value.findIndex(g=>g.key===h)!=-1&&na(()=>{l(h)})};return{bindings:e,showConfirm:h=>new Promise((b,y)=>{const g={selections:["Cancel","Ok"],...h,onSelect:v=>{v===Tr?y("confirm closed without selection"):v!==void 0&&b(v),d(u)}},u=o(g)})}},Zf=["innerHTML"],sl=rn({__name:"Content",props:{content:null,contentHtml:null,contentNode:null},setup(e){return(o,l)=>(st(),xt("div",null,[e.content?(st(),xt(rt,{key:0},[Ha(Ir(e.content),1)],64)):e.contentHtml?(st(),xt("div",{key:1,innerHTML:e.contentHtml},null,8,Zf)):e.contentNode?(st(),jn(Yd(e.contentNode),{key:2})):ir("",!0)]))}}),Jf={class:"vl-confirm-content__header"},Xf={class:"vl-confirm-content__footer"},Yf=["disabled","onClick"],Qf=rn({__name:"Confirm",props:{customClass:null,customContentClass:null,selections:null,showClose:{type:Boolean},modalClose:{type:Boolean},content:null,contentHtml:null,contentNode:null},emits:["select"],setup(e,{emit:o}){const l=e,d=Kt(),f=y=>({content:y.content,contentHtml:y.contentHtml,contentNode:y.contentNode}),h=y=>typeof y=="string"?y:y.label,b=async(y,g)=>{if(d.value===void 0){if(typeof y=="string"){o("select",y);return}if(!y.entering){o("select",y.value);return}d.value=g;try{await y.entering(),d.value=void 0,o("select",y.value)}catch{d.value=void 0}}};return(y,g)=>(st(),xt("div",{class:Nn(["vl-confirm-provider",[e.customClass]])},[ot("div",{class:"vl-confirm-modal",onClick:g[0]||(g[0]=()=>e.modalClose&&y.$emit("select",Xe(Tr)))}),ot("div",{class:Nn(["vl-confirm-content",[e.customContentClass]])},[ot("div",Jf,[e.showClose?gn(y.$slots,"closeButton",Ft(Mn({key:0},{close:()=>y.$emit("select",Xe(Tr))})),()=>[ot("button",{class:"close-button",onClick:g[1]||(g[1]=u=>y.$emit("select",Xe(Tr)))}," close ")]):ir("",!0)]),gn(y.$slots,"default",Ft(hn({...f(l)})),()=>[Ve(Xe(sl),Mn(f(l),{class:"vl-confirm-content__body"}),null,16)]),ot("div",Xf,[(st(!0),xt(rt,null,ya(e.selections,(u,v)=>gn(y.$slots,"footerButton",Ft(Mn({key:v},{select:()=>b(u,v),selection:u,index:v,enteringIndex:d.value})),()=>[ot("button",{class:"selection-button",disabled:d.value!==void 0,onClick:p=>b(u,v)},Ir(d.value===v?"Waiting...":h(u)),9,Yf)])),128))])],2)],2))}}),ep=rn({__name:"ConfirmProvider",props:{bindings:null},setup(e){return(o,l)=>(st(),jn(Ta,{to:"body"},[Ve(Xe(il),{bindings:e.bindings,"transition-props":{name:"fade"}},{default:Yt(({bind:d,key:f})=>[Ve(Qf,Ft(hn(d)),{closeButton:Yt(h=>[gn(o.$slots,"closeButton",Ft(hn(h)))]),default:Yt(h=>[gn(o.$slots,"default",Ft(hn(h)))]),footerButton:Yt(h=>[gn(o.$slots,"footerButton",Ft(hn(h)))]),_:2},1040)]),_:3},8,["bindings"])]))}});const tp=()=>{const{bindings:e,unshift:o,remove:l}=ol();return{showNotice:f=>{const h={type:"success",timeout:2e3,...f},b=o(h);setTimeout(()=>{l(b)},h.timeout)},bindings:e}},np={key:0,class:"vl-notice-provider"},rp=rn({__name:"NoticeProvider",props:{bindings:null},setup(e){const o=d=>d,l=d=>({content:d.content,contentHtml:d.contentHtml,contentNode:d.contentNode});return(d,f)=>(st(),jn(Ta,{to:"body"},[Ve(ro,{name:"slide"},{default:Yt(()=>[e.bindings.length?(st(),xt("div",np,[Ve(Xe(il),{bindings:e.bindings,"transition-props":{name:"slide"}},{default:Yt(({bind:h,index:b,key:y})=>[Ve(Xe(sl),Mn(l(h),{class:["vl-notice",[o(h.type)]],style:{zIndex:e.bindings.length}}),null,16,["class","style"])]),_:1},8,["bindings"])])):ir("",!0)]),_:1})]))}});const{bindings:ip,showNotice:bi}=tp(),op=()=>{const{userInfo:e}=$r(),{routeInfo:o,initialContent:l}=oo(),d=Kt(!1);return{upload:async h=>{var y,g;const b=(y=e.value)==null?void 0:y.login;if(!b||!o){bi({type:"warning",content:"user, path or repo not in url"});return}d.value=!0;try{await yf({user:b,repo:o.repo,message:"feat: edit or add file by linkhub",path:o.path,content:rl.encode(h),sha:(g=l.value)==null?void 0:g.sha}),bi({type:"success",content:"Upload success!"})}catch(u){bi({type:"error",content:u})}d.value=!1},uploading:d}},{bindings:sp,showConfirm:pp}=Gf(),ap={class:"w-full flex justify-between p-2"},lp={class:"flex items-center"},cp=ot("a",{class:"mr-2",href:"",target:"_blank"},[ot("div",{class:"i-mdi:question-mark-circle-outline w-5 h-5 bg-stone-400"})],-1),dp=["disabled"],up={class:"flex-1 w-full px-4 py-4 max-w-[1000px] h-[400px]"},fp=rn({__name:"App",setup(e){const{upload:o,uploading:l}=op(),{isLogin:d}=$r(),{routeInfo:f}=oo(),h=Kt(),{value:b}=$f(h),y=()=>{!d.value||!b.value||(console.log(b),o(b.value))},g=Ia(()=>l.value?f!=null&&f.path?"Editing...":"Creating":f!=null&&f.path?"Edit":"Create");return(u,v)=>(st(),xt(rt,null,[ot("div",ap,[Ve(Lf),ot("div",lp,[cp,ot("button",{disabled:!Xe(d)||!Xe(b)||Xe(l),class:"primary-button",onClick:y},Ir(Xe(g)),9,dp)])]),ot("div",up,[ot("div",{ref_key:"editorRef",ref:h},null,512)]),Ve(Xe(ep),{bindings:Xe(sp)},null,8,["bindings"]),Ve(Xe(rp),{bindings:Xe(ip)},null,8,["bindings"])],64))}});ff();cf(fp).mount("#app");
