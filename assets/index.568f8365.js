(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function a(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerpolicy&&(g.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?g.credentials="include":f.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(f){if(f.ep)return;f.ep=!0;const g=a(f);fetch(f.href,g)}})();function Di(e,o){const a=Object.create(null),c=e.split(",");for(let f=0;f<c.length;f++)a[c[f]]=!0;return o?f=>!!a[f.toLowerCase()]:f=>!!a[f]}function Dr(e){if(Te(e)){const o={};for(let a=0;a<e.length;a++){const c=e[a],f=Je(c)?Oc(c):Dr(c);if(f)for(const g in f)o[g]=f[g]}return o}else{if(Je(e))return e;if(We(e))return e}}const Mc=/;(?![^(]*\))/g,Hc=/:([^]+)/,Nc=/\/\*.*?\*\//gs;function Oc(e){const o={};return e.replace(Nc,"").split(Mc).forEach(a=>{if(a){const c=a.split(Hc);c.length>1&&(o[c[0].trim()]=c[1].trim())}}),o}function Nn(e){let o="";if(Je(e))o=e;else if(Te(e))for(let a=0;a<e.length;a++){const c=Nn(e[a]);c&&(o+=c+" ")}else if(We(e))for(const a in e)e[a]&&(o+=a+" ");return o.trim()}function Ft(e){if(!e)return null;let{class:o,style:a}=e;return o&&!Je(o)&&(e.class=Nn(o)),a&&(e.style=Dr(a)),e}const Dc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ic=Di(Dc);function Ns(e){return!!e||e===""}const Ir=e=>Je(e)?e:e==null?"":Te(e)||We(e)&&(e.toString===Ps||!He(e.toString))?JSON.stringify(e,Os,2):String(e),Os=(e,o)=>o&&o.__v_isRef?Os(e,o.value):Tn(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((a,[c,f])=>(a[`${c} =>`]=f,a),{})}:Ds(o)?{[`Set(${o.size})`]:[...o.values()]}:We(o)&&!Te(o)&&!js(o)?String(o):o,ze={},xn=[],Nt=()=>{},Pc=()=>!1,jc=/^on[^a-z]/,Pr=e=>jc.test(e),Ii=e=>e.startsWith("onUpdate:"),at=Object.assign,Pi=(e,o)=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)},Rc=Object.prototype.hasOwnProperty,Pe=(e,o)=>Rc.call(e,o),Te=Array.isArray,Tn=e=>jr(e)==="[object Map]",Ds=e=>jr(e)==="[object Set]",He=e=>typeof e=="function",Je=e=>typeof e=="string",ji=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Is=e=>We(e)&&He(e.then)&&He(e.catch),Ps=Object.prototype.toString,jr=e=>Ps.call(e),Bc=e=>jr(e).slice(8,-1),js=e=>jr(e)==="[object Object]",Ri=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cr=Di(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rr=e=>{const o=Object.create(null);return a=>o[a]||(o[a]=e(a))},Uc=/-(\w)/g,Pt=Rr(e=>e.replace(Uc,(o,a)=>a?a.toUpperCase():"")),qc=/\B([A-Z])/g,In=Rr(e=>e.replace(qc,"-$1").toLowerCase()),Br=Rr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ci=Rr(e=>e?`on${Br(e)}`:""),Jn=(e,o)=>!Object.is(e,o),di=(e,o)=>{for(let a=0;a<e.length;a++)e[a](o)},Lr=(e,o,a)=>{Object.defineProperty(e,o,{configurable:!0,enumerable:!1,value:a})},Fc=e=>{const o=parseFloat(e);return isNaN(o)?e:o},Vc=e=>{const o=Je(e)?Number(e):NaN;return isNaN(o)?e:o};let Vo;const Kc=()=>Vo||(Vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let At;class Wc{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=At,!o&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const a=At;try{return At=this,o()}finally{At=a}}}on(){At=this}off(){At=this.parent}stop(o){if(this._active){let a,c;for(a=0,c=this.effects.length;a<c;a++)this.effects[a].stop();for(a=0,c=this.cleanups.length;a<c;a++)this.cleanups[a]();if(this.scopes)for(a=0,c=this.scopes.length;a<c;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!o){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function zc(e,o=At){o&&o.active&&o.effects.push(e)}function $c(){return At}const Bi=e=>{const o=new Set(e);return o.w=0,o.n=0,o},Rs=e=>(e.w&en)>0,Bs=e=>(e.n&en)>0,Gc=({deps:e})=>{if(e.length)for(let o=0;o<e.length;o++)e[o].w|=en},Zc=e=>{const{deps:o}=e;if(o.length){let a=0;for(let c=0;c<o.length;c++){const f=o[c];Rs(f)&&!Bs(f)?f.delete(e):o[a++]=f,f.w&=~en,f.n&=~en}o.length=a}},wi=new WeakMap;let Kn=0,en=1;const Ei=30;let Mt;const hn=Symbol(""),_i=Symbol("");class Ui{constructor(o,a=null,c){this.fn=o,this.scheduler=a,this.active=!0,this.deps=[],this.parent=void 0,zc(this,c)}run(){if(!this.active)return this.fn();let o=Mt,a=Yt;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=Mt,Mt=this,Yt=!0,en=1<<++Kn,Kn<=Ei?Gc(this):Ko(this),this.fn()}finally{Kn<=Ei&&Zc(this),en=1<<--Kn,Mt=this.parent,Yt=a,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Mt===this?this.deferStop=!0:this.active&&(Ko(this),this.onStop&&this.onStop(),this.active=!1)}}function Ko(e){const{deps:o}=e;if(o.length){for(let a=0;a<o.length;a++)o[a].delete(e);o.length=0}}let Yt=!0;const Us=[];function Pn(){Us.push(Yt),Yt=!1}function jn(){const e=Us.pop();Yt=e===void 0?!0:e}function yt(e,o,a){if(Yt&&Mt){let c=wi.get(e);c||wi.set(e,c=new Map);let f=c.get(a);f||c.set(a,f=Bi()),qs(f)}}function qs(e,o){let a=!1;Kn<=Ei?Bs(e)||(e.n|=en,a=!Rs(e)):a=!e.has(Mt),a&&(e.add(Mt),Mt.deps.push(e))}function Vt(e,o,a,c,f,g){const b=wi.get(e);if(!b)return;let y=[];if(o==="clear")y=[...b.values()];else if(a==="length"&&Te(e)){const h=Number(c);b.forEach((u,m)=>{(m==="length"||m>=h)&&y.push(u)})}else switch(a!==void 0&&y.push(b.get(a)),o){case"add":Te(e)?Ri(a)&&y.push(b.get("length")):(y.push(b.get(hn)),Tn(e)&&y.push(b.get(_i)));break;case"delete":Te(e)||(y.push(b.get(hn)),Tn(e)&&y.push(b.get(_i)));break;case"set":Tn(e)&&y.push(b.get(hn));break}if(y.length===1)y[0]&&Ci(y[0]);else{const h=[];for(const u of y)u&&h.push(...u);Ci(Bi(h))}}function Ci(e,o){const a=Te(e)?e:[...e];for(const c of a)c.computed&&Wo(c);for(const c of a)c.computed||Wo(c)}function Wo(e,o){(e!==Mt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Jc=Di("__proto__,__v_isRef,__isVue"),Fs=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ji)),Xc=qi(),Yc=qi(!1,!0),Qc=qi(!0),zo=ed();function ed(){const e={};return["includes","indexOf","lastIndexOf"].forEach(o=>{e[o]=function(...a){const c=je(this);for(let g=0,b=this.length;g<b;g++)yt(c,"get",g+"");const f=c[o](...a);return f===-1||f===!1?c[o](...a.map(je)):f}}),["push","pop","shift","unshift","splice"].forEach(o=>{e[o]=function(...a){Pn();const c=je(this)[o].apply(this,a);return jn(),c}}),e}function td(e){const o=je(this);return yt(o,"has",e),o.hasOwnProperty(e)}function qi(e=!1,o=!1){return function(c,f,g){if(f==="__v_isReactive")return!e;if(f==="__v_isReadonly")return e;if(f==="__v_isShallow")return o;if(f==="__v_raw"&&g===(e?o?gd:$s:o?zs:Ws).get(c))return c;const b=Te(c);if(!e){if(b&&Pe(zo,f))return Reflect.get(zo,f,g);if(f==="hasOwnProperty")return td}const y=Reflect.get(c,f,g);return(ji(f)?Fs.has(f):Jc(f))||(e||yt(c,"get",f),o)?y:ft(y)?b&&Ri(f)?y:y.value:We(y)?e?Ar(y):Ki(y):y}}const nd=Vs(),rd=Vs(!0);function Vs(e=!1){return function(a,c,f,g){let b=a[c];if(On(b)&&ft(b)&&!ft(f))return!1;if(!e&&(!Mr(f)&&!On(f)&&(b=je(b),f=je(f)),!Te(a)&&ft(b)&&!ft(f)))return b.value=f,!0;const y=Te(a)&&Ri(c)?Number(c)<a.length:Pe(a,c),h=Reflect.set(a,c,f,g);return a===je(g)&&(y?Jn(f,b)&&Vt(a,"set",c,f):Vt(a,"add",c,f)),h}}function id(e,o){const a=Pe(e,o);e[o];const c=Reflect.deleteProperty(e,o);return c&&a&&Vt(e,"delete",o,void 0),c}function od(e,o){const a=Reflect.has(e,o);return(!ji(o)||!Fs.has(o))&&yt(e,"has",o),a}function sd(e){return yt(e,"iterate",Te(e)?"length":hn),Reflect.ownKeys(e)}const Ks={get:Xc,set:nd,deleteProperty:id,has:od,ownKeys:sd},ld={get:Qc,set(e,o){return!0},deleteProperty(e,o){return!0}},ad=at({},Ks,{get:Yc,set:rd}),Fi=e=>e,Ur=e=>Reflect.getPrototypeOf(e);function hr(e,o,a=!1,c=!1){e=e.__v_raw;const f=je(e),g=je(o);a||(o!==g&&yt(f,"get",o),yt(f,"get",g));const{has:b}=Ur(f),y=c?Fi:a?zi:Xn;if(b.call(f,o))return y(e.get(o));if(b.call(f,g))return y(e.get(g));e!==f&&e.get(o)}function vr(e,o=!1){const a=this.__v_raw,c=je(a),f=je(e);return o||(e!==f&&yt(c,"has",e),yt(c,"has",f)),e===f?a.has(e):a.has(e)||a.has(f)}function gr(e,o=!1){return e=e.__v_raw,!o&&yt(je(e),"iterate",hn),Reflect.get(e,"size",e)}function $o(e){e=je(e);const o=je(this);return Ur(o).has.call(o,e)||(o.add(e),Vt(o,"add",e,e)),this}function Go(e,o){o=je(o);const a=je(this),{has:c,get:f}=Ur(a);let g=c.call(a,e);g||(e=je(e),g=c.call(a,e));const b=f.call(a,e);return a.set(e,o),g?Jn(o,b)&&Vt(a,"set",e,o):Vt(a,"add",e,o),this}function Zo(e){const o=je(this),{has:a,get:c}=Ur(o);let f=a.call(o,e);f||(e=je(e),f=a.call(o,e)),c&&c.call(o,e);const g=o.delete(e);return f&&Vt(o,"delete",e,void 0),g}function Jo(){const e=je(this),o=e.size!==0,a=e.clear();return o&&Vt(e,"clear",void 0,void 0),a}function yr(e,o){return function(c,f){const g=this,b=g.__v_raw,y=je(b),h=o?Fi:e?zi:Xn;return!e&&yt(y,"iterate",hn),b.forEach((u,m)=>c.call(f,h(u),h(m),g))}}function br(e,o,a){return function(...c){const f=this.__v_raw,g=je(f),b=Tn(g),y=e==="entries"||e===Symbol.iterator&&b,h=e==="keys"&&b,u=f[e](...c),m=a?Fi:o?zi:Xn;return!o&&yt(g,"iterate",h?_i:hn),{next(){const{value:p,done:w}=u.next();return w?{value:p,done:w}:{value:y?[m(p[0]),m(p[1])]:m(p),done:w}},[Symbol.iterator](){return this}}}}function $t(e){return function(...o){return e==="delete"?!1:this}}function cd(){const e={get(g){return hr(this,g)},get size(){return gr(this)},has:vr,add:$o,set:Go,delete:Zo,clear:Jo,forEach:yr(!1,!1)},o={get(g){return hr(this,g,!1,!0)},get size(){return gr(this)},has:vr,add:$o,set:Go,delete:Zo,clear:Jo,forEach:yr(!1,!0)},a={get(g){return hr(this,g,!0)},get size(){return gr(this,!0)},has(g){return vr.call(this,g,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:yr(!0,!1)},c={get(g){return hr(this,g,!0,!0)},get size(){return gr(this,!0)},has(g){return vr.call(this,g,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:yr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(g=>{e[g]=br(g,!1,!1),a[g]=br(g,!0,!1),o[g]=br(g,!1,!0),c[g]=br(g,!0,!0)}),[e,a,o,c]}const[dd,ud,fd,pd]=cd();function Vi(e,o){const a=o?e?pd:fd:e?ud:dd;return(c,f,g)=>f==="__v_isReactive"?!e:f==="__v_isReadonly"?e:f==="__v_raw"?c:Reflect.get(Pe(a,f)&&f in c?a:c,f,g)}const md={get:Vi(!1,!1)},hd={get:Vi(!1,!0)},vd={get:Vi(!0,!1)},Ws=new WeakMap,zs=new WeakMap,$s=new WeakMap,gd=new WeakMap;function yd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bd(e){return e.__v_skip||!Object.isExtensible(e)?0:yd(Bc(e))}function Ki(e){return On(e)?e:Wi(e,!1,Ks,md,Ws)}function wd(e){return Wi(e,!1,ad,hd,zs)}function Ar(e){return Wi(e,!0,ld,vd,$s)}function Wi(e,o,a,c,f){if(!We(e)||e.__v_raw&&!(o&&e.__v_isReactive))return e;const g=f.get(e);if(g)return g;const b=bd(e);if(b===0)return e;const y=new Proxy(e,b===2?c:a);return f.set(e,y),y}function Ln(e){return On(e)?Ln(e.__v_raw):!!(e&&e.__v_isReactive)}function On(e){return!!(e&&e.__v_isReadonly)}function Mr(e){return!!(e&&e.__v_isShallow)}function Gs(e){return Ln(e)||On(e)}function je(e){const o=e&&e.__v_raw;return o?je(o):e}function Zs(e){return Lr(e,"__v_skip",!0),e}const Xn=e=>We(e)?Ki(e):e,zi=e=>We(e)?Ar(e):e;function Js(e){Yt&&Mt&&(e=je(e),qs(e.dep||(e.dep=Bi())))}function Xs(e,o){e=je(e);const a=e.dep;a&&Ci(a)}function ft(e){return!!(e&&e.__v_isRef===!0)}function Kt(e){return Ed(e,!1)}function Ed(e,o){return ft(e)?e:new _d(e,o)}class _d{constructor(o,a){this.__v_isShallow=a,this.dep=void 0,this.__v_isRef=!0,this._rawValue=a?o:je(o),this._value=a?o:Xn(o)}get value(){return Js(this),this._value}set value(o){const a=this.__v_isShallow||Mr(o)||On(o);o=a?o:je(o),Jn(o,this._rawValue)&&(this._rawValue=o,this._value=a?o:Xn(o),Xs(this))}}function Ye(e){return ft(e)?e.value:e}const Cd={get:(e,o,a)=>Ye(Reflect.get(e,o,a)),set:(e,o,a,c)=>{const f=e[o];return ft(f)&&!ft(a)?(f.value=a,!0):Reflect.set(e,o,a,c)}};function Ys(e){return Ln(e)?e:new Proxy(e,Cd)}var Qs;class kd{constructor(o,a,c,f){this._setter=a,this.dep=void 0,this.__v_isRef=!0,this[Qs]=!1,this._dirty=!0,this.effect=new Ui(o,()=>{this._dirty||(this._dirty=!0,Xs(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=c}get value(){const o=je(this);return Js(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}Qs="__v_isReadonly";function Sd(e,o,a=!1){let c,f;const g=He(e);return g?(c=e,f=Nt):(c=e.get,f=e.set),new kd(c,f,g||!f,a)}function Qt(e,o,a,c){let f;try{f=c?e(...c):e()}catch(g){qr(g,o,a)}return f}function kt(e,o,a,c){if(He(e)){const g=Qt(e,o,a,c);return g&&Is(g)&&g.catch(b=>{qr(b,o,a)}),g}const f=[];for(let g=0;g<e.length;g++)f.push(kt(e[g],o,a,c));return f}function qr(e,o,a,c=!0){const f=o?o.vnode:null;if(o){let g=o.parent;const b=o.proxy,y=a;for(;g;){const u=g.ec;if(u){for(let m=0;m<u.length;m++)if(u[m](e,b,y)===!1)return}g=g.parent}const h=o.appContext.config.errorHandler;if(h){Qt(h,null,10,[e,b,y]);return}}xd(e,a,f,c)}function xd(e,o,a,c=!0){console.error(e)}let Yn=!1,ki=!1;const ut=[];let It=0;const An=[];let qt=null,un=0;const el=Promise.resolve();let $i=null;function tl(e){const o=$i||el;return e?o.then(this?e.bind(this):e):o}function Td(e){let o=It+1,a=ut.length;for(;o<a;){const c=o+a>>>1;Qn(ut[c])<e?o=c+1:a=c}return o}function Gi(e){(!ut.length||!ut.includes(e,Yn&&e.allowRecurse?It+1:It))&&(e.id==null?ut.push(e):ut.splice(Td(e.id),0,e),nl())}function nl(){!Yn&&!ki&&(ki=!0,$i=el.then(il))}function Ld(e){const o=ut.indexOf(e);o>It&&ut.splice(o,1)}function Ad(e){Te(e)?An.push(...e):(!qt||!qt.includes(e,e.allowRecurse?un+1:un))&&An.push(e),nl()}function Xo(e,o=Yn?It+1:0){for(;o<ut.length;o++){const a=ut[o];a&&a.pre&&(ut.splice(o,1),o--,a())}}function rl(e){if(An.length){const o=[...new Set(An)];if(An.length=0,qt){qt.push(...o);return}for(qt=o,qt.sort((a,c)=>Qn(a)-Qn(c)),un=0;un<qt.length;un++)qt[un]();qt=null,un=0}}const Qn=e=>e.id==null?1/0:e.id,Md=(e,o)=>{const a=Qn(e)-Qn(o);if(a===0){if(e.pre&&!o.pre)return-1;if(o.pre&&!e.pre)return 1}return a};function il(e){ki=!1,Yn=!0,ut.sort(Md);const o=Nt;try{for(It=0;It<ut.length;It++){const a=ut[It];a&&a.active!==!1&&Qt(a,null,14)}}finally{It=0,ut.length=0,rl(),Yn=!1,$i=null,(ut.length||An.length)&&il()}}function Hd(e,o,...a){if(e.isUnmounted)return;const c=e.vnode.props||ze;let f=a;const g=o.startsWith("update:"),b=g&&o.slice(7);if(b&&b in c){const m=`${b==="modelValue"?"model":b}Modifiers`,{number:p,trim:w}=c[m]||ze;w&&(f=a.map(v=>Je(v)?v.trim():v)),p&&(f=a.map(Fc))}let y,h=c[y=ci(o)]||c[y=ci(Pt(o))];!h&&g&&(h=c[y=ci(In(o))]),h&&kt(h,e,6,f);const u=c[y+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[y])return;e.emitted[y]=!0,kt(u,e,6,f)}}function ol(e,o,a=!1){const c=o.emitsCache,f=c.get(e);if(f!==void 0)return f;const g=e.emits;let b={},y=!1;if(!He(e)){const h=u=>{const m=ol(u,o,!0);m&&(y=!0,at(b,m))};!a&&o.mixins.length&&o.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!g&&!y?(We(e)&&c.set(e,null),null):(Te(g)?g.forEach(h=>b[h]=null):at(b,g),We(e)&&c.set(e,b),b)}function Fr(e,o){return!e||!Pr(o)?!1:(o=o.slice(2).replace(/Once$/,""),Pe(e,o[0].toLowerCase()+o.slice(1))||Pe(e,In(o))||Pe(e,o))}let pt=null,sl=null;function Hr(e){const o=pt;return pt=e,sl=e&&e.type.__scopeId||null,o}function Xt(e,o=pt,a){if(!o||e._n)return e;const c=(...f)=>{c._d&&as(-1);const g=Hr(o);let b;try{b=e(...f)}finally{Hr(g),c._d&&as(1)}return b};return c._n=!0,c._c=!0,c._d=!0,c}function ui(e){const{type:o,vnode:a,proxy:c,withProxy:f,props:g,propsOptions:[b],slots:y,attrs:h,emit:u,render:m,renderCache:p,data:w,setupState:v,ctx:E,inheritAttrs:_}=e;let L,O;const N=Hr(e);try{if(a.shapeFlag&4){const A=f||c;L=Dt(m.call(A,A,p,g,v,w,E)),O=h}else{const A=o;L=Dt(A.length>1?A(g,{attrs:h,slots:y,emit:u}):A(g,null)),O=o.props?h:Nd(h)}}catch(A){Zn.length=0,qr(A,e,1),L=Ke(St)}let I=L;if(O&&_!==!1){const A=Object.keys(O),{shapeFlag:H}=I;A.length&&H&7&&(b&&A.some(Ii)&&(O=Od(O,b)),I=tn(I,O))}return a.dirs&&(I=tn(I),I.dirs=I.dirs?I.dirs.concat(a.dirs):a.dirs),a.transition&&(I.transition=a.transition),L=I,Hr(N),L}const Nd=e=>{let o;for(const a in e)(a==="class"||a==="style"||Pr(a))&&((o||(o={}))[a]=e[a]);return o},Od=(e,o)=>{const a={};for(const c in e)(!Ii(c)||!(c.slice(9)in o))&&(a[c]=e[c]);return a};function Dd(e,o,a){const{props:c,children:f,component:g}=e,{props:b,children:y,patchFlag:h}=o,u=g.emitsOptions;if(o.dirs||o.transition)return!0;if(a&&h>=0){if(h&1024)return!0;if(h&16)return c?Yo(c,b,u):!!b;if(h&8){const m=o.dynamicProps;for(let p=0;p<m.length;p++){const w=m[p];if(b[w]!==c[w]&&!Fr(u,w))return!0}}}else return(f||y)&&(!y||!y.$stable)?!0:c===b?!1:c?b?Yo(c,b,u):!0:!!b;return!1}function Yo(e,o,a){const c=Object.keys(o);if(c.length!==Object.keys(e).length)return!0;for(let f=0;f<c.length;f++){const g=c[f];if(o[g]!==e[g]&&!Fr(a,g))return!0}return!1}function Id({vnode:e,parent:o},a){for(;o&&o.subTree===e;)(e=o.vnode).el=a,o=o.parent}const Pd=e=>e.__isSuspense;function jd(e,o){o&&o.pendingBranch?Te(e)?o.effects.push(...e):o.effects.push(e):Ad(e)}function Rd(e,o){if(Qe){let a=Qe.provides;const c=Qe.parent&&Qe.parent.provides;c===a&&(a=Qe.provides=Object.create(c)),a[e]=o}}function kr(e,o,a=!1){const c=Qe||pt;if(c){const f=c.parent==null?c.vnode.appContext&&c.vnode.appContext.provides:c.parent.provides;if(f&&e in f)return f[e];if(arguments.length>1)return a&&He(o)?o.call(c.proxy):o}}function Bd(e,o){return Zi(e,null,o)}const wr={};function fi(e,o,a){return Zi(e,o,a)}function Zi(e,o,{immediate:a,deep:c,flush:f,onTrack:g,onTrigger:b}=ze){const y=$c()===(Qe==null?void 0:Qe.scope)?Qe:null;let h,u=!1,m=!1;if(ft(e)?(h=()=>e.value,u=Mr(e)):Ln(e)?(h=()=>e,c=!0):Te(e)?(m=!0,u=e.some(I=>Ln(I)||Mr(I)),h=()=>e.map(I=>{if(ft(I))return I.value;if(Ln(I))return Sn(I);if(He(I))return Qt(I,y,2)})):He(e)?o?h=()=>Qt(e,y,2):h=()=>{if(!(y&&y.isUnmounted))return p&&p(),kt(e,y,3,[w])}:h=Nt,o&&c){const I=h;h=()=>Sn(I())}let p,w=I=>{p=O.onStop=()=>{Qt(I,y,4)}},v;if(rr)if(w=Nt,o?a&&kt(o,y,3,[h(),m?[]:void 0,w]):h(),f==="sync"){const I=Hu();v=I.__watcherHandles||(I.__watcherHandles=[])}else return Nt;let E=m?new Array(e.length).fill(wr):wr;const _=()=>{if(!!O.active)if(o){const I=O.run();(c||u||(m?I.some((A,H)=>Jn(A,E[H])):Jn(I,E)))&&(p&&p(),kt(o,y,3,[I,E===wr?void 0:m&&E[0]===wr?[]:E,w]),E=I)}else O.run()};_.allowRecurse=!!o;let L;f==="sync"?L=_:f==="post"?L=()=>gt(_,y&&y.suspense):(_.pre=!0,y&&(_.id=y.uid),L=()=>Gi(_));const O=new Ui(h,L);o?a?_():E=O.run():f==="post"?gt(O.run.bind(O),y&&y.suspense):O.run();const N=()=>{O.stop(),y&&y.scope&&Pi(y.scope.effects,O)};return v&&v.push(N),N}function Ud(e,o,a){const c=this.proxy,f=Je(e)?e.includes(".")?ll(c,e):()=>c[e]:e.bind(c,c);let g;He(o)?g=o:(g=o.handler,a=o);const b=Qe;Dn(this);const y=Zi(f,g.bind(c),a);return b?Dn(b):gn(),y}function ll(e,o){const a=o.split(".");return()=>{let c=e;for(let f=0;f<a.length&&c;f++)c=c[a[f]];return c}}function Sn(e,o){if(!We(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),ft(e))Sn(e.value,o);else if(Te(e))for(let a=0;a<e.length;a++)Sn(e[a],o);else if(Ds(e)||Tn(e))e.forEach(a=>{Sn(a,o)});else if(js(e))for(const a in e)Sn(e[a],o);return e}function al(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xi(()=>{e.isMounted=!0}),pl(()=>{e.isUnmounting=!0}),e}const Ct=[Function,Array],qd={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ct,onEnter:Ct,onAfterEnter:Ct,onEnterCancelled:Ct,onBeforeLeave:Ct,onLeave:Ct,onAfterLeave:Ct,onLeaveCancelled:Ct,onBeforeAppear:Ct,onAppear:Ct,onAfterAppear:Ct,onAppearCancelled:Ct},setup(e,{slots:o}){const a=Hl(),c=al();let f;return()=>{const g=o.default&&Ji(o.default(),!0);if(!g||!g.length)return;let b=g[0];if(g.length>1){for(const _ of g)if(_.type!==St){b=_;break}}const y=je(e),{mode:h}=y;if(c.isLeaving)return pi(b);const u=Qo(b);if(!u)return pi(b);const m=er(u,y,c,a);tr(u,m);const p=a.subTree,w=p&&Qo(p);let v=!1;const{getTransitionKey:E}=u.type;if(E){const _=E();f===void 0?f=_:_!==f&&(f=_,v=!0)}if(w&&w.type!==St&&(!fn(u,w)||v)){const _=er(w,y,c,a);if(tr(w,_),h==="out-in")return c.isLeaving=!0,_.afterLeave=()=>{c.isLeaving=!1,a.update.active!==!1&&a.update()},pi(b);h==="in-out"&&u.type!==St&&(_.delayLeave=(L,O,N)=>{const I=dl(c,w);I[String(w.key)]=w,L._leaveCb=()=>{O(),L._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=N})}return b}}},cl=qd;function dl(e,o){const{leavingVNodes:a}=e;let c=a.get(o.type);return c||(c=Object.create(null),a.set(o.type,c)),c}function er(e,o,a,c){const{appear:f,mode:g,persisted:b=!1,onBeforeEnter:y,onEnter:h,onAfterEnter:u,onEnterCancelled:m,onBeforeLeave:p,onLeave:w,onAfterLeave:v,onLeaveCancelled:E,onBeforeAppear:_,onAppear:L,onAfterAppear:O,onAppearCancelled:N}=o,I=String(e.key),A=dl(a,e),H=(q,J)=>{q&&kt(q,c,9,J)},k=(q,J)=>{const Y=J[1];H(q,J),Te(q)?q.every(ue=>ue.length<=1)&&Y():q.length<=1&&Y()},F={mode:g,persisted:b,beforeEnter(q){let J=y;if(!a.isMounted)if(f)J=_||y;else return;q._leaveCb&&q._leaveCb(!0);const Y=A[I];Y&&fn(e,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),H(J,[q])},enter(q){let J=h,Y=u,ue=m;if(!a.isMounted)if(f)J=L||h,Y=O||u,ue=N||m;else return;let $=!1;const _e=q._enterCb=xe=>{$||($=!0,xe?H(ue,[q]):H(Y,[q]),F.delayedLeave&&F.delayedLeave(),q._enterCb=void 0)};J?k(J,[q,_e]):_e()},leave(q,J){const Y=String(e.key);if(q._enterCb&&q._enterCb(!0),a.isUnmounting)return J();H(p,[q]);let ue=!1;const $=q._leaveCb=_e=>{ue||(ue=!0,J(),_e?H(E,[q]):H(v,[q]),q._leaveCb=void 0,A[Y]===e&&delete A[Y])};A[Y]=e,w?k(w,[q,$]):$()},clone(q){return er(q,o,a,c)}};return F}function pi(e){if(Vr(e))return e=tn(e),e.children=null,e}function Qo(e){return Vr(e)?e.children?e.children[0]:void 0:e}function tr(e,o){e.shapeFlag&6&&e.component?tr(e.component.subTree,o):e.shapeFlag&128?(e.ssContent.transition=o.clone(e.ssContent),e.ssFallback.transition=o.clone(e.ssFallback)):e.transition=o}function Ji(e,o=!1,a){let c=[],f=0;for(let g=0;g<e.length;g++){let b=e[g];const y=a==null?b.key:String(a)+String(b.key!=null?b.key:g);b.type===it?(b.patchFlag&128&&f++,c=c.concat(Ji(b.children,o,y))):(o||b.type!==St)&&c.push(y!=null?tn(b,{key:y}):b)}if(f>1)for(let g=0;g<c.length;g++)c[g].patchFlag=-2;return c}function nn(e){return He(e)?{setup:e,name:e.name}:e}const zn=e=>!!e.type.__asyncLoader,Vr=e=>e.type.__isKeepAlive;function Fd(e,o){ul(e,"a",o)}function Vd(e,o){ul(e,"da",o)}function ul(e,o,a=Qe){const c=e.__wdc||(e.__wdc=()=>{let f=a;for(;f;){if(f.isDeactivated)return;f=f.parent}return e()});if(Kr(o,c,a),a){let f=a.parent;for(;f&&f.parent;)Vr(f.parent.vnode)&&Kd(c,o,a,f),f=f.parent}}function Kd(e,o,a,c){const f=Kr(o,e,c,!0);ml(()=>{Pi(c[o],f)},a)}function Kr(e,o,a=Qe,c=!1){if(a){const f=a[e]||(a[e]=[]),g=o.__weh||(o.__weh=(...b)=>{if(a.isUnmounted)return;Pn(),Dn(a);const y=kt(o,a,e,b);return gn(),jn(),y});return c?f.unshift(g):f.push(g),g}}const Wt=e=>(o,a=Qe)=>(!rr||e==="sp")&&Kr(e,(...c)=>o(...c),a),Wd=Wt("bm"),Xi=Wt("m"),zd=Wt("bu"),fl=Wt("u"),pl=Wt("bum"),ml=Wt("um"),$d=Wt("sp"),Gd=Wt("rtg"),Zd=Wt("rtc");function Jd(e,o=Qe){Kr("ec",e,o)}function ln(e,o,a,c){const f=e.dirs,g=o&&o.dirs;for(let b=0;b<f.length;b++){const y=f[b];g&&(y.oldValue=g[b].value);let h=y.dir[c];h&&(Pn(),kt(h,a,8,[e.el,y,e,o]),jn())}}const hl="components",vl=Symbol();function Xd(e){return Je(e)?Yd(hl,e,!1)||e:e||vl}function Yd(e,o,a=!0,c=!1){const f=pt||Qe;if(f){const g=f.type;if(e===hl){const y=Tu(g,!1);if(y&&(y===o||y===Pt(o)||y===Br(Pt(o))))return g}const b=es(f[e]||g[e],o)||es(f.appContext[e],o);return!b&&c?g:b}}function es(e,o){return e&&(e[o]||e[Pt(o)]||e[Br(Pt(o))])}function gl(e,o,a,c){let f;const g=a&&a[c];if(Te(e)||Je(e)){f=new Array(e.length);for(let b=0,y=e.length;b<y;b++)f[b]=o(e[b],b,void 0,g&&g[b])}else if(typeof e=="number"){f=new Array(e);for(let b=0;b<e;b++)f[b]=o(b+1,b,void 0,g&&g[b])}else if(We(e))if(e[Symbol.iterator])f=Array.from(e,(b,y)=>o(b,y,void 0,g&&g[y]));else{const b=Object.keys(e);f=new Array(b.length);for(let y=0,h=b.length;y<h;y++){const u=b[y];f[y]=o(e[u],u,y,g&&g[y])}}else f=[];return a&&(a[c]=f),f}function vn(e,o,a={},c,f){if(pt.isCE||pt.parent&&zn(pt.parent)&&pt.parent.isCE)return o!=="default"&&(a.name=o),Ke("slot",a,c&&c());let g=e[o];g&&g._c&&(g._d=!1),lt();const b=g&&yl(g(a)),y=Rn(it,{key:a.key||b&&b.key||`_${o}`},b||(c?c():[]),b&&e._===1?64:-2);return!f&&y.scopeId&&(y.slotScopeIds=[y.scopeId+"-s"]),g&&g._c&&(g._d=!0),y}function yl(e){return e.some(o=>Or(o)?!(o.type===St||o.type===it&&!yl(o.children)):!0)?e:null}const Si=e=>e?Nl(e)?no(e)||e.proxy:Si(e.parent):null,$n=at(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Si(e.parent),$root:e=>Si(e.root),$emit:e=>e.emit,$options:e=>Yi(e),$forceUpdate:e=>e.f||(e.f=()=>Gi(e.update)),$nextTick:e=>e.n||(e.n=tl.bind(e.proxy)),$watch:e=>Ud.bind(e)}),mi=(e,o)=>e!==ze&&!e.__isScriptSetup&&Pe(e,o),Qd={get({_:e},o){const{ctx:a,setupState:c,data:f,props:g,accessCache:b,type:y,appContext:h}=e;let u;if(o[0]!=="$"){const v=b[o];if(v!==void 0)switch(v){case 1:return c[o];case 2:return f[o];case 4:return a[o];case 3:return g[o]}else{if(mi(c,o))return b[o]=1,c[o];if(f!==ze&&Pe(f,o))return b[o]=2,f[o];if((u=e.propsOptions[0])&&Pe(u,o))return b[o]=3,g[o];if(a!==ze&&Pe(a,o))return b[o]=4,a[o];xi&&(b[o]=0)}}const m=$n[o];let p,w;if(m)return o==="$attrs"&&yt(e,"get",o),m(e);if((p=y.__cssModules)&&(p=p[o]))return p;if(a!==ze&&Pe(a,o))return b[o]=4,a[o];if(w=h.config.globalProperties,Pe(w,o))return w[o]},set({_:e},o,a){const{data:c,setupState:f,ctx:g}=e;return mi(f,o)?(f[o]=a,!0):c!==ze&&Pe(c,o)?(c[o]=a,!0):Pe(e.props,o)||o[0]==="$"&&o.slice(1)in e?!1:(g[o]=a,!0)},has({_:{data:e,setupState:o,accessCache:a,ctx:c,appContext:f,propsOptions:g}},b){let y;return!!a[b]||e!==ze&&Pe(e,b)||mi(o,b)||(y=g[0])&&Pe(y,b)||Pe(c,b)||Pe($n,b)||Pe(f.config.globalProperties,b)},defineProperty(e,o,a){return a.get!=null?e._.accessCache[o]=0:Pe(a,"value")&&this.set(e,o,a.value,null),Reflect.defineProperty(e,o,a)}};let xi=!0;function eu(e){const o=Yi(e),a=e.proxy,c=e.ctx;xi=!1,o.beforeCreate&&ts(o.beforeCreate,e,"bc");const{data:f,computed:g,methods:b,watch:y,provide:h,inject:u,created:m,beforeMount:p,mounted:w,beforeUpdate:v,updated:E,activated:_,deactivated:L,beforeDestroy:O,beforeUnmount:N,destroyed:I,unmounted:A,render:H,renderTracked:k,renderTriggered:F,errorCaptured:q,serverPrefetch:J,expose:Y,inheritAttrs:ue,components:$,directives:_e,filters:xe}=o;if(u&&tu(u,c,null,e.appContext.config.unwrapInjectedRef),b)for(const Ae in b){const ke=b[Ae];He(ke)&&(c[Ae]=ke.bind(a))}if(f){const Ae=f.call(a,a);We(Ae)&&(e.data=Ki(Ae))}if(xi=!0,g)for(const Ae in g){const ke=g[Ae],dt=He(ke)?ke.bind(a,a):He(ke.get)?ke.get.bind(a,a):Nt,Ue=!He(ke)&&He(ke.set)?ke.set.bind(a):Nt,P=Dl({get:dt,set:Ue});Object.defineProperty(c,Ae,{enumerable:!0,configurable:!0,get:()=>P.value,set:Xe=>P.value=Xe})}if(y)for(const Ae in y)bl(y[Ae],c,a,Ae);if(h){const Ae=He(h)?h.call(a):h;Reflect.ownKeys(Ae).forEach(ke=>{Rd(ke,Ae[ke])})}m&&ts(m,e,"c");function Se(Ae,ke){Te(ke)?ke.forEach(dt=>Ae(dt.bind(a))):ke&&Ae(ke.bind(a))}if(Se(Wd,p),Se(Xi,w),Se(zd,v),Se(fl,E),Se(Fd,_),Se(Vd,L),Se(Jd,q),Se(Zd,k),Se(Gd,F),Se(pl,N),Se(ml,A),Se($d,J),Te(Y))if(Y.length){const Ae=e.exposed||(e.exposed={});Y.forEach(ke=>{Object.defineProperty(Ae,ke,{get:()=>a[ke],set:dt=>a[ke]=dt})})}else e.exposed||(e.exposed={});H&&e.render===Nt&&(e.render=H),ue!=null&&(e.inheritAttrs=ue),$&&(e.components=$),_e&&(e.directives=_e)}function tu(e,o,a=Nt,c=!1){Te(e)&&(e=Ti(e));for(const f in e){const g=e[f];let b;We(g)?"default"in g?b=kr(g.from||f,g.default,!0):b=kr(g.from||f):b=kr(g),ft(b)&&c?Object.defineProperty(o,f,{enumerable:!0,configurable:!0,get:()=>b.value,set:y=>b.value=y}):o[f]=b}}function ts(e,o,a){kt(Te(e)?e.map(c=>c.bind(o.proxy)):e.bind(o.proxy),o,a)}function bl(e,o,a,c){const f=c.includes(".")?ll(a,c):()=>a[c];if(Je(e)){const g=o[e];He(g)&&fi(f,g)}else if(He(e))fi(f,e.bind(a));else if(We(e))if(Te(e))e.forEach(g=>bl(g,o,a,c));else{const g=He(e.handler)?e.handler.bind(a):o[e.handler];He(g)&&fi(f,g,e)}}function Yi(e){const o=e.type,{mixins:a,extends:c}=o,{mixins:f,optionsCache:g,config:{optionMergeStrategies:b}}=e.appContext,y=g.get(o);let h;return y?h=y:!f.length&&!a&&!c?h=o:(h={},f.length&&f.forEach(u=>Nr(h,u,b,!0)),Nr(h,o,b)),We(o)&&g.set(o,h),h}function Nr(e,o,a,c=!1){const{mixins:f,extends:g}=o;g&&Nr(e,g,a,!0),f&&f.forEach(b=>Nr(e,b,a,!0));for(const b in o)if(!(c&&b==="expose")){const y=nu[b]||a&&a[b];e[b]=y?y(e[b],o[b]):o[b]}return e}const nu={data:ns,props:dn,emits:dn,methods:dn,computed:dn,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:dn,directives:dn,watch:iu,provide:ns,inject:ru};function ns(e,o){return o?e?function(){return at(He(e)?e.call(this,this):e,He(o)?o.call(this,this):o)}:o:e}function ru(e,o){return dn(Ti(e),Ti(o))}function Ti(e){if(Te(e)){const o={};for(let a=0;a<e.length;a++)o[e[a]]=e[a];return o}return e}function vt(e,o){return e?[...new Set([].concat(e,o))]:o}function dn(e,o){return e?at(at(Object.create(null),e),o):o}function iu(e,o){if(!e)return o;if(!o)return e;const a=at(Object.create(null),e);for(const c in o)a[c]=vt(e[c],o[c]);return a}function ou(e,o,a,c=!1){const f={},g={};Lr(g,zr,1),e.propsDefaults=Object.create(null),wl(e,o,f,g);for(const b in e.propsOptions[0])b in f||(f[b]=void 0);a?e.props=c?f:wd(f):e.type.props?e.props=f:e.props=g,e.attrs=g}function su(e,o,a,c){const{props:f,attrs:g,vnode:{patchFlag:b}}=e,y=je(f),[h]=e.propsOptions;let u=!1;if((c||b>0)&&!(b&16)){if(b&8){const m=e.vnode.dynamicProps;for(let p=0;p<m.length;p++){let w=m[p];if(Fr(e.emitsOptions,w))continue;const v=o[w];if(h)if(Pe(g,w))v!==g[w]&&(g[w]=v,u=!0);else{const E=Pt(w);f[E]=Li(h,y,E,v,e,!1)}else v!==g[w]&&(g[w]=v,u=!0)}}}else{wl(e,o,f,g)&&(u=!0);let m;for(const p in y)(!o||!Pe(o,p)&&((m=In(p))===p||!Pe(o,m)))&&(h?a&&(a[p]!==void 0||a[m]!==void 0)&&(f[p]=Li(h,y,p,void 0,e,!0)):delete f[p]);if(g!==y)for(const p in g)(!o||!Pe(o,p)&&!0)&&(delete g[p],u=!0)}u&&Vt(e,"set","$attrs")}function wl(e,o,a,c){const[f,g]=e.propsOptions;let b=!1,y;if(o)for(let h in o){if(Cr(h))continue;const u=o[h];let m;f&&Pe(f,m=Pt(h))?!g||!g.includes(m)?a[m]=u:(y||(y={}))[m]=u:Fr(e.emitsOptions,h)||(!(h in c)||u!==c[h])&&(c[h]=u,b=!0)}if(g){const h=je(a),u=y||ze;for(let m=0;m<g.length;m++){const p=g[m];a[p]=Li(f,h,p,u[p],e,!Pe(u,p))}}return b}function Li(e,o,a,c,f,g){const b=e[a];if(b!=null){const y=Pe(b,"default");if(y&&c===void 0){const h=b.default;if(b.type!==Function&&He(h)){const{propsDefaults:u}=f;a in u?c=u[a]:(Dn(f),c=u[a]=h.call(null,o),gn())}else c=h}b[0]&&(g&&!y?c=!1:b[1]&&(c===""||c===In(a))&&(c=!0))}return c}function El(e,o,a=!1){const c=o.propsCache,f=c.get(e);if(f)return f;const g=e.props,b={},y=[];let h=!1;if(!He(e)){const m=p=>{h=!0;const[w,v]=El(p,o,!0);at(b,w),v&&y.push(...v)};!a&&o.mixins.length&&o.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!g&&!h)return We(e)&&c.set(e,xn),xn;if(Te(g))for(let m=0;m<g.length;m++){const p=Pt(g[m]);rs(p)&&(b[p]=ze)}else if(g)for(const m in g){const p=Pt(m);if(rs(p)){const w=g[m],v=b[p]=Te(w)||He(w)?{type:w}:Object.assign({},w);if(v){const E=ss(Boolean,v.type),_=ss(String,v.type);v[0]=E>-1,v[1]=_<0||E<_,(E>-1||Pe(v,"default"))&&y.push(p)}}}const u=[b,y];return We(e)&&c.set(e,u),u}function rs(e){return e[0]!=="$"}function is(e){const o=e&&e.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:e===null?"null":""}function os(e,o){return is(e)===is(o)}function ss(e,o){return Te(o)?o.findIndex(a=>os(a,e)):He(o)&&os(o,e)?0:-1}const _l=e=>e[0]==="_"||e==="$stable",Qi=e=>Te(e)?e.map(Dt):[Dt(e)],lu=(e,o,a)=>{if(o._n)return o;const c=Xt((...f)=>Qi(o(...f)),a);return c._c=!1,c},Cl=(e,o,a)=>{const c=e._ctx;for(const f in e){if(_l(f))continue;const g=e[f];if(He(g))o[f]=lu(f,g,c);else if(g!=null){const b=Qi(g);o[f]=()=>b}}},kl=(e,o)=>{const a=Qi(o);e.slots.default=()=>a},au=(e,o)=>{if(e.vnode.shapeFlag&32){const a=o._;a?(e.slots=je(o),Lr(o,"_",a)):Cl(o,e.slots={})}else e.slots={},o&&kl(e,o);Lr(e.slots,zr,1)},cu=(e,o,a)=>{const{vnode:c,slots:f}=e;let g=!0,b=ze;if(c.shapeFlag&32){const y=o._;y?a&&y===1?g=!1:(at(f,o),!a&&y===1&&delete f._):(g=!o.$stable,Cl(o,f)),b=o}else o&&(kl(e,o),b={default:1});if(g)for(const y in f)!_l(y)&&!(y in b)&&delete f[y]};function Sl(){return{app:null,config:{isNativeTag:Pc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let du=0;function uu(e,o){return function(c,f=null){He(c)||(c=Object.assign({},c)),f!=null&&!We(f)&&(f=null);const g=Sl(),b=new Set;let y=!1;const h=g.app={_uid:du++,_component:c,_props:f,_container:null,_context:g,_instance:null,version:Nu,get config(){return g.config},set config(u){},use(u,...m){return b.has(u)||(u&&He(u.install)?(b.add(u),u.install(h,...m)):He(u)&&(b.add(u),u(h,...m))),h},mixin(u){return g.mixins.includes(u)||g.mixins.push(u),h},component(u,m){return m?(g.components[u]=m,h):g.components[u]},directive(u,m){return m?(g.directives[u]=m,h):g.directives[u]},mount(u,m,p){if(!y){const w=Ke(c,f);return w.appContext=g,m&&o?o(w,u):e(w,u,p),y=!0,h._container=u,u.__vue_app__=h,no(w.component)||w.component.proxy}},unmount(){y&&(e(null,h._container),delete h._container.__vue_app__)},provide(u,m){return g.provides[u]=m,h}};return h}}function Ai(e,o,a,c,f=!1){if(Te(e)){e.forEach((w,v)=>Ai(w,o&&(Te(o)?o[v]:o),a,c,f));return}if(zn(c)&&!f)return;const g=c.shapeFlag&4?no(c.component)||c.component.proxy:c.el,b=f?null:g,{i:y,r:h}=e,u=o&&o.r,m=y.refs===ze?y.refs={}:y.refs,p=y.setupState;if(u!=null&&u!==h&&(Je(u)?(m[u]=null,Pe(p,u)&&(p[u]=null)):ft(u)&&(u.value=null)),He(h))Qt(h,y,12,[b,m]);else{const w=Je(h),v=ft(h);if(w||v){const E=()=>{if(e.f){const _=w?Pe(p,h)?p[h]:m[h]:h.value;f?Te(_)&&Pi(_,g):Te(_)?_.includes(g)||_.push(g):w?(m[h]=[g],Pe(p,h)&&(p[h]=m[h])):(h.value=[g],e.k&&(m[e.k]=h.value))}else w?(m[h]=b,Pe(p,h)&&(p[h]=b)):v&&(h.value=b,e.k&&(m[e.k]=b))};b?(E.id=-1,gt(E,a)):E()}}}const gt=jd;function fu(e){return pu(e)}function pu(e,o){const a=Kc();a.__VUE__=!0;const{insert:c,remove:f,patchProp:g,createElement:b,createText:y,createComment:h,setText:u,setElementText:m,parentNode:p,nextSibling:w,setScopeId:v=Nt,insertStaticContent:E}=e,_=(M,D,R,K=null,W=null,ne=null,ae=!1,V=null,oe=!!D.dynamicChildren)=>{if(M===D)return;M&&!fn(M,D)&&(K=X(M),Xe(M,W,ne,!0),M=null),D.patchFlag===-2&&(oe=!1,D.dynamicChildren=null);const{type:G,ref:ge,shapeFlag:me}=D;switch(G){case Wr:L(M,D,R,K);break;case St:O(M,D,R,K);break;case hi:M==null&&N(D,R,K,ae);break;case it:$(M,D,R,K,W,ne,ae,V,oe);break;default:me&1?H(M,D,R,K,W,ne,ae,V,oe):me&6?_e(M,D,R,K,W,ne,ae,V,oe):(me&64||me&128)&&G.process(M,D,R,K,W,ne,ae,V,oe,Re)}ge!=null&&W&&Ai(ge,M&&M.ref,ne,D||M,!D)},L=(M,D,R,K)=>{if(M==null)c(D.el=y(D.children),R,K);else{const W=D.el=M.el;D.children!==M.children&&u(W,D.children)}},O=(M,D,R,K)=>{M==null?c(D.el=h(D.children||""),R,K):D.el=M.el},N=(M,D,R,K)=>{[M.el,M.anchor]=E(M.children,D,R,K,M.el,M.anchor)},I=({el:M,anchor:D},R,K)=>{let W;for(;M&&M!==D;)W=w(M),c(M,R,K),M=W;c(D,R,K)},A=({el:M,anchor:D})=>{let R;for(;M&&M!==D;)R=w(M),f(M),M=R;f(D)},H=(M,D,R,K,W,ne,ae,V,oe)=>{ae=ae||D.type==="svg",M==null?k(D,R,K,W,ne,ae,V,oe):J(M,D,W,ne,ae,V,oe)},k=(M,D,R,K,W,ne,ae,V)=>{let oe,G;const{type:ge,props:me,shapeFlag:ve,transition:Ce,dirs:Ee}=M;if(oe=M.el=b(M.type,ne,me&&me.is,me),ve&8?m(oe,M.children):ve&16&&q(M.children,oe,null,K,W,ne&&ge!=="foreignObject",ae,V),Ee&&ln(M,null,K,"created"),F(oe,M,M.scopeId,ae,K),me){for(const Me in me)Me!=="value"&&!Cr(Me)&&g(oe,Me,null,me[Me],ne,M.children,K,W,Q);"value"in me&&g(oe,"value",null,me.value),(G=me.onVnodeBeforeMount)&&Ot(G,K,M)}Ee&&ln(M,null,K,"beforeMount");const Ie=(!W||W&&!W.pendingBranch)&&Ce&&!Ce.persisted;Ie&&Ce.beforeEnter(oe),c(oe,D,R),((G=me&&me.onVnodeMounted)||Ie||Ee)&&gt(()=>{G&&Ot(G,K,M),Ie&&Ce.enter(oe),Ee&&ln(M,null,K,"mounted")},W)},F=(M,D,R,K,W)=>{if(R&&v(M,R),K)for(let ne=0;ne<K.length;ne++)v(M,K[ne]);if(W){let ne=W.subTree;if(D===ne){const ae=W.vnode;F(M,ae,ae.scopeId,ae.slotScopeIds,W.parent)}}},q=(M,D,R,K,W,ne,ae,V,oe=0)=>{for(let G=oe;G<M.length;G++){const ge=M[G]=V?Jt(M[G]):Dt(M[G]);_(null,ge,D,R,K,W,ne,ae,V)}},J=(M,D,R,K,W,ne,ae)=>{const V=D.el=M.el;let{patchFlag:oe,dynamicChildren:G,dirs:ge}=D;oe|=M.patchFlag&16;const me=M.props||ze,ve=D.props||ze;let Ce;R&&an(R,!1),(Ce=ve.onVnodeBeforeUpdate)&&Ot(Ce,R,D,M),ge&&ln(D,M,R,"beforeUpdate"),R&&an(R,!0);const Ee=W&&D.type!=="foreignObject";if(G?Y(M.dynamicChildren,G,V,R,K,Ee,ne):ae||ke(M,D,V,null,R,K,Ee,ne,!1),oe>0){if(oe&16)ue(V,D,me,ve,R,K,W);else if(oe&2&&me.class!==ve.class&&g(V,"class",null,ve.class,W),oe&4&&g(V,"style",me.style,ve.style,W),oe&8){const Ie=D.dynamicProps;for(let Me=0;Me<Ie.length;Me++){const $e=Ie[Me],ot=me[$e],bt=ve[$e];(bt!==ot||$e==="value")&&g(V,$e,ot,bt,W,M.children,R,K,Q)}}oe&1&&M.children!==D.children&&m(V,D.children)}else!ae&&G==null&&ue(V,D,me,ve,R,K,W);((Ce=ve.onVnodeUpdated)||ge)&&gt(()=>{Ce&&Ot(Ce,R,D,M),ge&&ln(D,M,R,"updated")},K)},Y=(M,D,R,K,W,ne,ae)=>{for(let V=0;V<D.length;V++){const oe=M[V],G=D[V],ge=oe.el&&(oe.type===it||!fn(oe,G)||oe.shapeFlag&70)?p(oe.el):R;_(oe,G,ge,null,K,W,ne,ae,!0)}},ue=(M,D,R,K,W,ne,ae)=>{if(R!==K){if(R!==ze)for(const V in R)!Cr(V)&&!(V in K)&&g(M,V,R[V],null,ae,D.children,W,ne,Q);for(const V in K){if(Cr(V))continue;const oe=K[V],G=R[V];oe!==G&&V!=="value"&&g(M,V,G,oe,ae,D.children,W,ne,Q)}"value"in K&&g(M,"value",R.value,K.value)}},$=(M,D,R,K,W,ne,ae,V,oe)=>{const G=D.el=M?M.el:y(""),ge=D.anchor=M?M.anchor:y("");let{patchFlag:me,dynamicChildren:ve,slotScopeIds:Ce}=D;Ce&&(V=V?V.concat(Ce):Ce),M==null?(c(G,R,K),c(ge,R,K),q(D.children,R,ge,W,ne,ae,V,oe)):me>0&&me&64&&ve&&M.dynamicChildren?(Y(M.dynamicChildren,ve,R,W,ne,ae,V),(D.key!=null||W&&D===W.subTree)&&eo(M,D,!0)):ke(M,D,R,ge,W,ne,ae,V,oe)},_e=(M,D,R,K,W,ne,ae,V,oe)=>{D.slotScopeIds=V,M==null?D.shapeFlag&512?W.ctx.activate(D,R,K,ae,oe):xe(D,R,K,W,ne,ae,oe):Ne(M,D,oe)},xe=(M,D,R,K,W,ne,ae)=>{const V=M.component=_u(M,K,W);if(Vr(M)&&(V.ctx.renderer=Re),Cu(V),V.asyncDep){if(W&&W.registerDep(V,Se),!M.el){const oe=V.subTree=Ke(St);O(null,oe,D,R)}return}Se(V,M,D,R,W,ne,ae)},Ne=(M,D,R)=>{const K=D.component=M.component;if(Dd(M,D,R))if(K.asyncDep&&!K.asyncResolved){Ae(K,D,R);return}else K.next=D,Ld(K.update),K.update();else D.el=M.el,K.vnode=D},Se=(M,D,R,K,W,ne,ae)=>{const V=()=>{if(M.isMounted){let{next:ge,bu:me,u:ve,parent:Ce,vnode:Ee}=M,Ie=ge,Me;an(M,!1),ge?(ge.el=Ee.el,Ae(M,ge,ae)):ge=Ee,me&&di(me),(Me=ge.props&&ge.props.onVnodeBeforeUpdate)&&Ot(Me,Ce,ge,Ee),an(M,!0);const $e=ui(M),ot=M.subTree;M.subTree=$e,_(ot,$e,p(ot.el),X(ot),M,W,ne),ge.el=$e.el,Ie===null&&Id(M,$e.el),ve&&gt(ve,W),(Me=ge.props&&ge.props.onVnodeUpdated)&&gt(()=>Ot(Me,Ce,ge,Ee),W)}else{let ge;const{el:me,props:ve}=D,{bm:Ce,m:Ee,parent:Ie}=M,Me=zn(D);if(an(M,!1),Ce&&di(Ce),!Me&&(ge=ve&&ve.onVnodeBeforeMount)&&Ot(ge,Ie,D),an(M,!0),me&&Fe){const $e=()=>{M.subTree=ui(M),Fe(me,M.subTree,M,W,null)};Me?D.type.__asyncLoader().then(()=>!M.isUnmounted&&$e()):$e()}else{const $e=M.subTree=ui(M);_(null,$e,R,K,M,W,ne),D.el=$e.el}if(Ee&&gt(Ee,W),!Me&&(ge=ve&&ve.onVnodeMounted)){const $e=D;gt(()=>Ot(ge,Ie,$e),W)}(D.shapeFlag&256||Ie&&zn(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&M.a&&gt(M.a,W),M.isMounted=!0,D=R=K=null}},oe=M.effect=new Ui(V,()=>Gi(G),M.scope),G=M.update=()=>oe.run();G.id=M.uid,an(M,!0),G()},Ae=(M,D,R)=>{D.component=M;const K=M.vnode.props;M.vnode=D,M.next=null,su(M,D.props,K,R),cu(M,D.children,R),Pn(),Xo(),jn()},ke=(M,D,R,K,W,ne,ae,V,oe=!1)=>{const G=M&&M.children,ge=M?M.shapeFlag:0,me=D.children,{patchFlag:ve,shapeFlag:Ce}=D;if(ve>0){if(ve&128){Ue(G,me,R,K,W,ne,ae,V,oe);return}else if(ve&256){dt(G,me,R,K,W,ne,ae,V,oe);return}}Ce&8?(ge&16&&Q(G,W,ne),me!==G&&m(R,me)):ge&16?Ce&16?Ue(G,me,R,K,W,ne,ae,V,oe):Q(G,W,ne,!0):(ge&8&&m(R,""),Ce&16&&q(me,R,K,W,ne,ae,V,oe))},dt=(M,D,R,K,W,ne,ae,V,oe)=>{M=M||xn,D=D||xn;const G=M.length,ge=D.length,me=Math.min(G,ge);let ve;for(ve=0;ve<me;ve++){const Ce=D[ve]=oe?Jt(D[ve]):Dt(D[ve]);_(M[ve],Ce,R,null,W,ne,ae,V,oe)}G>ge?Q(M,W,ne,!0,!1,me):q(D,R,K,W,ne,ae,V,oe,me)},Ue=(M,D,R,K,W,ne,ae,V,oe)=>{let G=0;const ge=D.length;let me=M.length-1,ve=ge-1;for(;G<=me&&G<=ve;){const Ce=M[G],Ee=D[G]=oe?Jt(D[G]):Dt(D[G]);if(fn(Ce,Ee))_(Ce,Ee,R,null,W,ne,ae,V,oe);else break;G++}for(;G<=me&&G<=ve;){const Ce=M[me],Ee=D[ve]=oe?Jt(D[ve]):Dt(D[ve]);if(fn(Ce,Ee))_(Ce,Ee,R,null,W,ne,ae,V,oe);else break;me--,ve--}if(G>me){if(G<=ve){const Ce=ve+1,Ee=Ce<ge?D[Ce].el:K;for(;G<=ve;)_(null,D[G]=oe?Jt(D[G]):Dt(D[G]),R,Ee,W,ne,ae,V,oe),G++}}else if(G>ve)for(;G<=me;)Xe(M[G],W,ne,!0),G++;else{const Ce=G,Ee=G,Ie=new Map;for(G=Ee;G<=ve;G++){const et=D[G]=oe?Jt(D[G]):Dt(D[G]);et.key!=null&&Ie.set(et.key,G)}let Me,$e=0;const ot=ve-Ee+1;let bt=!1,mt=0;const Tt=new Array(ot);for(G=0;G<ot;G++)Tt[G]=0;for(G=Ce;G<=me;G++){const et=M[G];if($e>=ot){Xe(et,W,ne,!0);continue}let wt;if(et.key!=null)wt=Ie.get(et.key);else for(Me=Ee;Me<=ve;Me++)if(Tt[Me-Ee]===0&&fn(et,D[Me])){wt=Me;break}wt===void 0?Xe(et,W,ne,!0):(Tt[wt-Ee]=G+1,wt>=mt?mt=wt:bt=!0,_(et,D[wt],R,null,W,ne,ae,V,oe),$e++)}const yn=bt?mu(Tt):xn;for(Me=yn.length-1,G=ot-1;G>=0;G--){const et=Ee+G,wt=D[et],or=et+1<ge?D[et+1].el:K;Tt[G]===0?_(null,wt,R,or,W,ne,ae,V,oe):bt&&(Me<0||G!==yn[Me]?P(wt,R,or,2):Me--)}}},P=(M,D,R,K,W=null)=>{const{el:ne,type:ae,transition:V,children:oe,shapeFlag:G}=M;if(G&6){P(M.component.subTree,D,R,K);return}if(G&128){M.suspense.move(D,R,K);return}if(G&64){ae.move(M,D,R,Re);return}if(ae===it){c(ne,D,R);for(let me=0;me<oe.length;me++)P(oe[me],D,R,K);c(M.anchor,D,R);return}if(ae===hi){I(M,D,R);return}if(K!==2&&G&1&&V)if(K===0)V.beforeEnter(ne),c(ne,D,R),gt(()=>V.enter(ne),W);else{const{leave:me,delayLeave:ve,afterLeave:Ce}=V,Ee=()=>c(ne,D,R),Ie=()=>{me(ne,()=>{Ee(),Ce&&Ce()})};ve?ve(ne,Ee,Ie):Ie()}else c(ne,D,R)},Xe=(M,D,R,K=!1,W=!1)=>{const{type:ne,props:ae,ref:V,children:oe,dynamicChildren:G,shapeFlag:ge,patchFlag:me,dirs:ve}=M;if(V!=null&&Ai(V,null,R,M,!0),ge&256){D.ctx.deactivate(M);return}const Ce=ge&1&&ve,Ee=!zn(M);let Ie;if(Ee&&(Ie=ae&&ae.onVnodeBeforeUnmount)&&Ot(Ie,D,M),ge&6)Be(M.component,R,K);else{if(ge&128){M.suspense.unmount(R,K);return}Ce&&ln(M,null,D,"beforeUnmount"),ge&64?M.type.remove(M,D,R,W,Re,K):G&&(ne!==it||me>0&&me&64)?Q(G,D,R,!1,!0):(ne===it&&me&384||!W&&ge&16)&&Q(oe,D,R),K&&rn(M)}(Ee&&(Ie=ae&&ae.onVnodeUnmounted)||Ce)&&gt(()=>{Ie&&Ot(Ie,D,M),Ce&&ln(M,null,D,"unmounted")},R)},rn=M=>{const{type:D,el:R,anchor:K,transition:W}=M;if(D===it){fe(R,K);return}if(D===hi){A(M);return}const ne=()=>{f(R),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(M.shapeFlag&1&&W&&!W.persisted){const{leave:ae,delayLeave:V}=W,oe=()=>ae(R,ne);V?V(M.el,ne,oe):oe()}else ne()},fe=(M,D)=>{let R;for(;M!==D;)R=w(M),f(M),M=R;f(D)},Be=(M,D,R)=>{const{bum:K,scope:W,update:ne,subTree:ae,um:V}=M;K&&di(K),W.stop(),ne&&(ne.active=!1,Xe(ae,M,D,R)),V&&gt(V,D),gt(()=>{M.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Q=(M,D,R,K=!1,W=!1,ne=0)=>{for(let ae=ne;ae<M.length;ae++)Xe(M[ae],D,R,K,W)},X=M=>M.shapeFlag&6?X(M.component.subTree):M.shapeFlag&128?M.suspense.next():w(M.anchor||M.el),pe=(M,D,R)=>{M==null?D._vnode&&Xe(D._vnode,null,null,!0):_(D._vnode||null,M,D,null,null,null,R),Xo(),rl(),D._vnode=M},Re={p:_,um:Xe,m:P,r:rn,mt:xe,mc:q,pc:ke,pbc:Y,n:X,o:e};let De,Fe;return o&&([De,Fe]=o(Re)),{render:pe,hydrate:De,createApp:uu(pe,De)}}function an({effect:e,update:o},a){e.allowRecurse=o.allowRecurse=a}function eo(e,o,a=!1){const c=e.children,f=o.children;if(Te(c)&&Te(f))for(let g=0;g<c.length;g++){const b=c[g];let y=f[g];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=f[g]=Jt(f[g]),y.el=b.el),a||eo(b,y)),y.type===Wr&&(y.el=b.el)}}function mu(e){const o=e.slice(),a=[0];let c,f,g,b,y;const h=e.length;for(c=0;c<h;c++){const u=e[c];if(u!==0){if(f=a[a.length-1],e[f]<u){o[c]=f,a.push(c);continue}for(g=0,b=a.length-1;g<b;)y=g+b>>1,e[a[y]]<u?g=y+1:b=y;u<e[a[g]]&&(g>0&&(o[c]=a[g-1]),a[g]=c)}}for(g=a.length,b=a[g-1];g-- >0;)a[g]=b,b=o[b];return a}const hu=e=>e.__isTeleport,Gn=e=>e&&(e.disabled||e.disabled===""),ls=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Mi=(e,o)=>{const a=e&&e.to;return Je(a)?o?o(a):null:a},vu={__isTeleport:!0,process(e,o,a,c,f,g,b,y,h,u){const{mc:m,pc:p,pbc:w,o:{insert:v,querySelector:E,createText:_,createComment:L}}=u,O=Gn(o.props);let{shapeFlag:N,children:I,dynamicChildren:A}=o;if(e==null){const H=o.el=_(""),k=o.anchor=_("");v(H,a,c),v(k,a,c);const F=o.target=Mi(o.props,E),q=o.targetAnchor=_("");F&&(v(q,F),b=b||ls(F));const J=(Y,ue)=>{N&16&&m(I,Y,ue,f,g,b,y,h)};O?J(a,k):F&&J(F,q)}else{o.el=e.el;const H=o.anchor=e.anchor,k=o.target=e.target,F=o.targetAnchor=e.targetAnchor,q=Gn(e.props),J=q?a:k,Y=q?H:F;if(b=b||ls(k),A?(w(e.dynamicChildren,A,J,f,g,b,y),eo(e,o,!0)):h||p(e,o,J,Y,f,g,b,y,!1),O)q||Er(o,a,H,u,1);else if((o.props&&o.props.to)!==(e.props&&e.props.to)){const ue=o.target=Mi(o.props,E);ue&&Er(o,ue,null,u,0)}else q&&Er(o,k,F,u,1)}Tl(o)},remove(e,o,a,c,{um:f,o:{remove:g}},b){const{shapeFlag:y,children:h,anchor:u,targetAnchor:m,target:p,props:w}=e;if(p&&g(m),(b||!Gn(w))&&(g(u),y&16))for(let v=0;v<h.length;v++){const E=h[v];f(E,o,a,!0,!!E.dynamicChildren)}},move:Er,hydrate:gu};function Er(e,o,a,{o:{insert:c},m:f},g=2){g===0&&c(e.targetAnchor,o,a);const{el:b,anchor:y,shapeFlag:h,children:u,props:m}=e,p=g===2;if(p&&c(b,o,a),(!p||Gn(m))&&h&16)for(let w=0;w<u.length;w++)f(u[w],o,a,2);p&&c(y,o,a)}function gu(e,o,a,c,f,g,{o:{nextSibling:b,parentNode:y,querySelector:h}},u){const m=o.target=Mi(o.props,h);if(m){const p=m._lpa||m.firstChild;if(o.shapeFlag&16)if(Gn(o.props))o.anchor=u(b(e),o,y(e),a,c,f,g),o.targetAnchor=p;else{o.anchor=b(e);let w=p;for(;w;)if(w=b(w),w&&w.nodeType===8&&w.data==="teleport anchor"){o.targetAnchor=w,m._lpa=o.targetAnchor&&b(o.targetAnchor);break}u(p,o,m,a,c,f,g)}Tl(o)}return o.anchor&&b(o.anchor)}const xl=vu;function Tl(e){const o=e.ctx;if(o&&o.ut){let a=e.children[0].el;for(;a!==e.targetAnchor;)a.nodeType===1&&a.setAttribute("data-v-owner",o.uid),a=a.nextSibling;o.ut()}}const it=Symbol(void 0),Wr=Symbol(void 0),St=Symbol(void 0),hi=Symbol(void 0),Zn=[];let Ht=null;function lt(e=!1){Zn.push(Ht=e?null:[])}function yu(){Zn.pop(),Ht=Zn[Zn.length-1]||null}let nr=1;function as(e){nr+=e}function Ll(e){return e.dynamicChildren=nr>0?Ht||xn:null,yu(),nr>0&&Ht&&Ht.push(e),e}function xt(e,o,a,c,f,g){return Ll(st(e,o,a,c,f,g,!0))}function Rn(e,o,a,c,f){return Ll(Ke(e,o,a,c,f,!0))}function Or(e){return e?e.__v_isVNode===!0:!1}function fn(e,o){return e.type===o.type&&e.key===o.key}const zr="__vInternal",Al=({key:e})=>e!=null?e:null,Sr=({ref:e,ref_key:o,ref_for:a})=>e!=null?Je(e)||ft(e)||He(e)?{i:pt,r:e,k:o,f:!!a}:e:null;function st(e,o=null,a=null,c=0,f=null,g=e===it?0:1,b=!1,y=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:o,key:o&&Al(o),ref:o&&Sr(o),scopeId:sl,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:c,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:pt};return y?(to(h,a),g&128&&e.normalize(h)):a&&(h.shapeFlag|=Je(a)?8:16),nr>0&&!b&&Ht&&(h.patchFlag>0||g&6)&&h.patchFlag!==32&&Ht.push(h),h}const Ke=bu;function bu(e,o=null,a=null,c=0,f=null,g=!1){if((!e||e===vl)&&(e=St),Or(e)){const y=tn(e,o,!0);return a&&to(y,a),nr>0&&!g&&Ht&&(y.shapeFlag&6?Ht[Ht.indexOf(e)]=y:Ht.push(y)),y.patchFlag|=-2,y}if(Lu(e)&&(e=e.__vccOpts),o){o=mn(o);let{class:y,style:h}=o;y&&!Je(y)&&(o.class=Nn(y)),We(h)&&(Gs(h)&&!Te(h)&&(h=at({},h)),o.style=Dr(h))}const b=Je(e)?1:Pd(e)?128:hu(e)?64:We(e)?4:He(e)?2:0;return st(e,o,a,c,f,b,g,!0)}function mn(e){return e?Gs(e)||zr in e?at({},e):e:null}function tn(e,o,a=!1){const{props:c,ref:f,patchFlag:g,children:b}=e,y=o?Mn(c||{},o):c;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&Al(y),ref:o&&o.ref?a&&f?Te(f)?f.concat(Sr(o)):[f,Sr(o)]:Sr(o):f,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:b,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:o&&e.type!==it?g===-1?16:g|16:g,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tn(e.ssContent),ssFallback:e.ssFallback&&tn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ml(e=" ",o=0){return Ke(Wr,null,e,o)}function ir(e="",o=!1){return o?(lt(),Rn(St,null,e)):Ke(St,null,e)}function Dt(e){return e==null||typeof e=="boolean"?Ke(St):Te(e)?Ke(it,null,e.slice()):typeof e=="object"?Jt(e):Ke(Wr,null,String(e))}function Jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:tn(e)}function to(e,o){let a=0;const{shapeFlag:c}=e;if(o==null)o=null;else if(Te(o))a=16;else if(typeof o=="object")if(c&65){const f=o.default;f&&(f._c&&(f._d=!1),to(e,f()),f._c&&(f._d=!0));return}else{a=32;const f=o._;!f&&!(zr in o)?o._ctx=pt:f===3&&pt&&(pt.slots._===1?o._=1:(o._=2,e.patchFlag|=1024))}else He(o)?(o={default:o,_ctx:pt},a=32):(o=String(o),c&64?(a=16,o=[Ml(o)]):a=8);e.children=o,e.shapeFlag|=a}function Mn(...e){const o={};for(let a=0;a<e.length;a++){const c=e[a];for(const f in c)if(f==="class")o.class!==c.class&&(o.class=Nn([o.class,c.class]));else if(f==="style")o.style=Dr([o.style,c.style]);else if(Pr(f)){const g=o[f],b=c[f];b&&g!==b&&!(Te(g)&&g.includes(b))&&(o[f]=g?[].concat(g,b):b)}else f!==""&&(o[f]=c[f])}return o}function Ot(e,o,a,c=null){kt(e,o,7,[a,c])}const wu=Sl();let Eu=0;function _u(e,o,a){const c=e.type,f=(o?o.appContext:e.appContext)||wu,g={uid:Eu++,vnode:e,type:c,parent:o,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:El(c,f),emitsOptions:ol(c,f),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:c.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=o?o.root:g,g.emit=Hd.bind(null,g),e.ce&&e.ce(g),g}let Qe=null;const Hl=()=>Qe||pt,Dn=e=>{Qe=e,e.scope.on()},gn=()=>{Qe&&Qe.scope.off(),Qe=null};function Nl(e){return e.vnode.shapeFlag&4}let rr=!1;function Cu(e,o=!1){rr=o;const{props:a,children:c}=e.vnode,f=Nl(e);ou(e,a,f,o),au(e,c);const g=f?ku(e,o):void 0;return rr=!1,g}function ku(e,o){const a=e.type;e.accessCache=Object.create(null),e.proxy=Zs(new Proxy(e.ctx,Qd));const{setup:c}=a;if(c){const f=e.setupContext=c.length>1?xu(e):null;Dn(e),Pn();const g=Qt(c,e,0,[e.props,f]);if(jn(),gn(),Is(g)){if(g.then(gn,gn),o)return g.then(b=>{cs(e,b,o)}).catch(b=>{qr(b,e,0)});e.asyncDep=g}else cs(e,g,o)}else Ol(e,o)}function cs(e,o,a){He(o)?e.type.__ssrInlineRender?e.ssrRender=o:e.render=o:We(o)&&(e.setupState=Ys(o)),Ol(e,a)}let ds;function Ol(e,o,a){const c=e.type;if(!e.render){if(!o&&ds&&!c.render){const f=c.template||Yi(e).template;if(f){const{isCustomElement:g,compilerOptions:b}=e.appContext.config,{delimiters:y,compilerOptions:h}=c,u=at(at({isCustomElement:g,delimiters:y},b),h);c.render=ds(f,u)}}e.render=c.render||Nt}Dn(e),Pn(),eu(e),jn(),gn()}function Su(e){return new Proxy(e.attrs,{get(o,a){return yt(e,"get","$attrs"),o[a]}})}function xu(e){const o=c=>{e.exposed=c||{}};let a;return{get attrs(){return a||(a=Su(e))},slots:e.slots,emit:e.emit,expose:o}}function no(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ys(Zs(e.exposed)),{get(o,a){if(a in o)return o[a];if(a in $n)return $n[a](e)},has(o,a){return a in o||a in $n}}))}function Tu(e,o=!0){return He(e)?e.displayName||e.name:e.name||o&&e.__name}function Lu(e){return He(e)&&"__vccOpts"in e}const Dl=(e,o)=>Sd(e,o,rr);function Au(e,o,a){const c=arguments.length;return c===2?We(o)&&!Te(o)?Or(o)?Ke(e,null,[o]):Ke(e,o):Ke(e,null,o):(c>3?a=Array.prototype.slice.call(arguments,2):c===3&&Or(a)&&(a=[a]),Ke(e,o,a))}const Mu=Symbol(""),Hu=()=>kr(Mu),Nu="3.2.47",Ou="http://www.w3.org/2000/svg",pn=typeof document<"u"?document:null,us=pn&&pn.createElement("template"),Du={insert:(e,o,a)=>{o.insertBefore(e,a||null)},remove:e=>{const o=e.parentNode;o&&o.removeChild(e)},createElement:(e,o,a,c)=>{const f=o?pn.createElementNS(Ou,e):pn.createElement(e,a?{is:a}:void 0);return e==="select"&&c&&c.multiple!=null&&f.setAttribute("multiple",c.multiple),f},createText:e=>pn.createTextNode(e),createComment:e=>pn.createComment(e),setText:(e,o)=>{e.nodeValue=o},setElementText:(e,o)=>{e.textContent=o},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pn.querySelector(e),setScopeId(e,o){e.setAttribute(o,"")},insertStaticContent(e,o,a,c,f,g){const b=a?a.previousSibling:o.lastChild;if(f&&(f===g||f.nextSibling))for(;o.insertBefore(f.cloneNode(!0),a),!(f===g||!(f=f.nextSibling)););else{us.innerHTML=c?`<svg>${e}</svg>`:e;const y=us.content;if(c){const h=y.firstChild;for(;h.firstChild;)y.appendChild(h.firstChild);y.removeChild(h)}o.insertBefore(y,a)}return[b?b.nextSibling:o.firstChild,a?a.previousSibling:o.lastChild]}};function Iu(e,o,a){const c=e._vtc;c&&(o=(o?[o,...c]:[...c]).join(" ")),o==null?e.removeAttribute("class"):a?e.setAttribute("class",o):e.className=o}function Pu(e,o,a){const c=e.style,f=Je(a);if(a&&!f){if(o&&!Je(o))for(const g in o)a[g]==null&&Hi(c,g,"");for(const g in a)Hi(c,g,a[g])}else{const g=c.display;f?o!==a&&(c.cssText=a):o&&e.removeAttribute("style"),"_vod"in e&&(c.display=g)}}const fs=/\s*!important$/;function Hi(e,o,a){if(Te(a))a.forEach(c=>Hi(e,o,c));else if(a==null&&(a=""),o.startsWith("--"))e.setProperty(o,a);else{const c=ju(e,o);fs.test(a)?e.setProperty(In(c),a.replace(fs,""),"important"):e[c]=a}}const ps=["Webkit","Moz","ms"],vi={};function ju(e,o){const a=vi[o];if(a)return a;let c=Pt(o);if(c!=="filter"&&c in e)return vi[o]=c;c=Br(c);for(let f=0;f<ps.length;f++){const g=ps[f]+c;if(g in e)return vi[o]=g}return o}const ms="http://www.w3.org/1999/xlink";function Ru(e,o,a,c,f){if(c&&o.startsWith("xlink:"))a==null?e.removeAttributeNS(ms,o.slice(6,o.length)):e.setAttributeNS(ms,o,a);else{const g=Ic(o);a==null||g&&!Ns(a)?e.removeAttribute(o):e.setAttribute(o,g?"":a)}}function Bu(e,o,a,c,f,g,b){if(o==="innerHTML"||o==="textContent"){c&&b(c,f,g),e[o]=a==null?"":a;return}if(o==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=a;const h=a==null?"":a;(e.value!==h||e.tagName==="OPTION")&&(e.value=h),a==null&&e.removeAttribute(o);return}let y=!1;if(a===""||a==null){const h=typeof e[o];h==="boolean"?a=Ns(a):a==null&&h==="string"?(a="",y=!0):h==="number"&&(a=0,y=!0)}try{e[o]=a}catch{}y&&e.removeAttribute(o)}function Uu(e,o,a,c){e.addEventListener(o,a,c)}function qu(e,o,a,c){e.removeEventListener(o,a,c)}function Fu(e,o,a,c,f=null){const g=e._vei||(e._vei={}),b=g[o];if(c&&b)b.value=c;else{const[y,h]=Vu(o);if(c){const u=g[o]=zu(c,f);Uu(e,y,u,h)}else b&&(qu(e,y,b,h),g[o]=void 0)}}const hs=/(?:Once|Passive|Capture)$/;function Vu(e){let o;if(hs.test(e)){o={};let c;for(;c=e.match(hs);)e=e.slice(0,e.length-c[0].length),o[c[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):In(e.slice(2)),o]}let gi=0;const Ku=Promise.resolve(),Wu=()=>gi||(Ku.then(()=>gi=0),gi=Date.now());function zu(e,o){const a=c=>{if(!c._vts)c._vts=Date.now();else if(c._vts<=a.attached)return;kt($u(c,a.value),o,5,[c])};return a.value=e,a.attached=Wu(),a}function $u(e,o){if(Te(o)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},o.map(c=>f=>!f._stopped&&c&&c(f))}else return o}const vs=/^on[a-z]/,Gu=(e,o,a,c,f=!1,g,b,y,h)=>{o==="class"?Iu(e,c,f):o==="style"?Pu(e,a,c):Pr(o)?Ii(o)||Fu(e,o,a,c,b):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):Zu(e,o,c,f))?Bu(e,o,c,g,b,y,h):(o==="true-value"?e._trueValue=c:o==="false-value"&&(e._falseValue=c),Ru(e,o,c,f))};function Zu(e,o,a,c){return c?!!(o==="innerHTML"||o==="textContent"||o in e&&vs.test(o)&&He(a)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&e.tagName==="INPUT"||o==="type"&&e.tagName==="TEXTAREA"||vs.test(o)&&Je(a)?!1:o in e}const Gt="transition",Vn="animation",ro=(e,{slots:o})=>Au(cl,Pl(e),o);ro.displayName="Transition";const Il={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ju=ro.props=at({},cl.props,Il),cn=(e,o=[])=>{Te(e)?e.forEach(a=>a(...o)):e&&e(...o)},gs=e=>e?Te(e)?e.some(o=>o.length>1):e.length>1:!1;function Pl(e){const o={};for(const $ in e)$ in Il||(o[$]=e[$]);if(e.css===!1)return o;const{name:a="v",type:c,duration:f,enterFromClass:g=`${a}-enter-from`,enterActiveClass:b=`${a}-enter-active`,enterToClass:y=`${a}-enter-to`,appearFromClass:h=g,appearActiveClass:u=b,appearToClass:m=y,leaveFromClass:p=`${a}-leave-from`,leaveActiveClass:w=`${a}-leave-active`,leaveToClass:v=`${a}-leave-to`}=e,E=Xu(f),_=E&&E[0],L=E&&E[1],{onBeforeEnter:O,onEnter:N,onEnterCancelled:I,onLeave:A,onLeaveCancelled:H,onBeforeAppear:k=O,onAppear:F=N,onAppearCancelled:q=I}=o,J=($,_e,xe)=>{Zt($,_e?m:y),Zt($,_e?u:b),xe&&xe()},Y=($,_e)=>{$._isLeaving=!1,Zt($,p),Zt($,v),Zt($,w),_e&&_e()},ue=$=>(_e,xe)=>{const Ne=$?F:N,Se=()=>J(_e,$,xe);cn(Ne,[_e,Se]),ys(()=>{Zt(_e,$?h:g),Ut(_e,$?m:y),gs(Ne)||bs(_e,c,_,Se)})};return at(o,{onBeforeEnter($){cn(O,[$]),Ut($,g),Ut($,b)},onBeforeAppear($){cn(k,[$]),Ut($,h),Ut($,u)},onEnter:ue(!1),onAppear:ue(!0),onLeave($,_e){$._isLeaving=!0;const xe=()=>Y($,_e);Ut($,p),Rl(),Ut($,w),ys(()=>{!$._isLeaving||(Zt($,p),Ut($,v),gs(A)||bs($,c,L,xe))}),cn(A,[$,xe])},onEnterCancelled($){J($,!1),cn(I,[$])},onAppearCancelled($){J($,!0),cn(q,[$])},onLeaveCancelled($){Y($),cn(H,[$])}})}function Xu(e){if(e==null)return null;if(We(e))return[yi(e.enter),yi(e.leave)];{const o=yi(e);return[o,o]}}function yi(e){return Vc(e)}function Ut(e,o){o.split(/\s+/).forEach(a=>a&&e.classList.add(a)),(e._vtc||(e._vtc=new Set)).add(o)}function Zt(e,o){o.split(/\s+/).forEach(c=>c&&e.classList.remove(c));const{_vtc:a}=e;a&&(a.delete(o),a.size||(e._vtc=void 0))}function ys(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Yu=0;function bs(e,o,a,c){const f=e._endId=++Yu,g=()=>{f===e._endId&&c()};if(a)return setTimeout(g,a);const{type:b,timeout:y,propCount:h}=jl(e,o);if(!b)return c();const u=b+"end";let m=0;const p=()=>{e.removeEventListener(u,w),g()},w=v=>{v.target===e&&++m>=h&&p()};setTimeout(()=>{m<h&&p()},y+1),e.addEventListener(u,w)}function jl(e,o){const a=window.getComputedStyle(e),c=E=>(a[E]||"").split(", "),f=c(`${Gt}Delay`),g=c(`${Gt}Duration`),b=ws(f,g),y=c(`${Vn}Delay`),h=c(`${Vn}Duration`),u=ws(y,h);let m=null,p=0,w=0;o===Gt?b>0&&(m=Gt,p=b,w=g.length):o===Vn?u>0&&(m=Vn,p=u,w=h.length):(p=Math.max(b,u),m=p>0?b>u?Gt:Vn:null,w=m?m===Gt?g.length:h.length:0);const v=m===Gt&&/\b(transform|all)(,|$)/.test(c(`${Gt}Property`).toString());return{type:m,timeout:p,propCount:w,hasTransform:v}}function ws(e,o){for(;e.length<o.length;)e=e.concat(e);return Math.max(...o.map((a,c)=>Es(a)+Es(e[c])))}function Es(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Rl(){return document.body.offsetHeight}const Bl=new WeakMap,Ul=new WeakMap,ql={name:"TransitionGroup",props:at({},Ju,{tag:String,moveClass:String}),setup(e,{slots:o}){const a=Hl(),c=al();let f,g;return fl(()=>{if(!f.length)return;const b=e.moveClass||`${e.name||"v"}-move`;if(!of(f[0].el,a.vnode.el,b))return;f.forEach(tf),f.forEach(nf);const y=f.filter(rf);Rl(),y.forEach(h=>{const u=h.el,m=u.style;Ut(u,b),m.transform=m.webkitTransform=m.transitionDuration="";const p=u._moveCb=w=>{w&&w.target!==u||(!w||/transform$/.test(w.propertyName))&&(u.removeEventListener("transitionend",p),u._moveCb=null,Zt(u,b))};u.addEventListener("transitionend",p)})}),()=>{const b=je(e),y=Pl(b);let h=b.tag||it;f=g,g=o.default?Ji(o.default()):[];for(let u=0;u<g.length;u++){const m=g[u];m.key!=null&&tr(m,er(m,y,c,a))}if(f)for(let u=0;u<f.length;u++){const m=f[u];tr(m,er(m,y,c,a)),Bl.set(m,m.el.getBoundingClientRect())}return Ke(h,null,g)}}},Qu=e=>delete e.mode;ql.props;const ef=ql;function tf(e){const o=e.el;o._moveCb&&o._moveCb(),o._enterCb&&o._enterCb()}function nf(e){Ul.set(e,e.el.getBoundingClientRect())}function rf(e){const o=Bl.get(e),a=Ul.get(e),c=o.left-a.left,f=o.top-a.top;if(c||f){const g=e.el.style;return g.transform=g.webkitTransform=`translate(${c}px,${f}px)`,g.transitionDuration="0s",e}}function of(e,o,a){const c=e.cloneNode();e._vtc&&e._vtc.forEach(b=>{b.split(/\s+/).forEach(y=>y&&c.classList.remove(y))}),a.split(/\s+/).forEach(b=>b&&c.classList.add(b)),c.style.display="none";const f=o.nodeType===1?o:o.parentNode;f.appendChild(c);const{hasTransform:g}=jl(c);return f.removeChild(c),g}const sf=at({patchProp:Gu},Du);let _s;function lf(){return _s||(_s=fu(sf))}const af=(...e)=>{const o=lf().createApp(...e),{mount:a}=o;return o.mount=c=>{const f=cf(c);if(!f)return;const g=o._component;!He(g)&&!g.render&&!g.template&&(g.template=f.innerHTML),f.innerHTML="";const b=a(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),b},o};function cf(e){return Je(e)?document.querySelector(e):e}const df=()=>({innerHeight:window.innerHeight,innerWidth:window.innerWidth}),uf=()=>{const e=()=>{const o=df();document.documentElement.style.setProperty("--actVw",`${o.innerWidth}px`),document.documentElement.style.setProperty("--actVh",`${o.innerHeight}px`)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},ff={class:"flex items-center"},pf=["src"],mf={class:"px-2"},hf=nn({__name:"User",props:{info:null},emits:["logout"],setup(e){return(o,a)=>(lt(),xt("div",ff,[e.info?(lt(),xt(it,{key:0},[st("img",{src:e.info.avatar_url,class:"w-8 h-8 rounded-full",alt:""},null,8,pf),st("div",mf,Ir(e.info.name),1),st("button",{class:"normal-button font-bold text-stone-400",onClick:a[0]||(a[0]=c=>o.$emit("logout"))},"Log out")],64)):ir("",!0)]))}}),io=async(e,o)=>{const a=localStorage.getItem("github_access_token");return await(await fetch(e,{headers:{accept:"application/json",Authorization:`Bearer ${a}`},...o})).json()},vf=async()=>await io("https://api.github.com/user"),gf=async({user:e,repo:o,path:a,content:c,message:f,sha:g})=>{await io(`https://api.github.com/repos/${e}/${o}/contents/${a}`,{method:"put",body:JSON.stringify({content:c,message:f,sha:g})})},yf=async({user:e,repo:o,path:a})=>io(`https://api.github.com/repos/${e}/${o}/contents/${a}`,{method:"get"}),bf="ca9e273e5bec4299799c",wf=`https://linkhub-navy.vercel.app/api/oath/redirect?origin=${window.origin}`,Ef={width:626,height:436},_f=(e,o)=>{const a=window.innerWidth||document.documentElement.clientWidth||window.screenX,c=window.innerHeight||document.documentElement.clientHeight||window.screenY,f=a/window.screen.availWidth,g=(a-e)/2/f+(window.screenLeft!==void 0?window.screenLeft:window.screenX),b=(c-o)/2/f+(window.screenTop!==void 0?window.screenTop:window.screenY);return{left:g,top:b}},Cf=(e,o)=>{const a={...Ef},c=_f(a.width,a.height);return window.open(e,o,`,height=${a.height},width=${a.width},left=${c.left},top=${c.top},screenX=${c.left},screenY=${c.top}`)},Cs="github_access_token",kf=()=>({showLogin:()=>{const a=Cf(`https://github.com/login/oauth/authorize?client_id=${bf}&scope=repo&redirect_uri=${wf}`,"login");return new Promise(c=>{window.addEventListener("message",f=>{console.log(f),f.data.accessToken&&(console.log("loginsuccess"),a==null||a.close(),localStorage.setItem(Cs,f.data.accessToken),c())})})},logout:()=>{localStorage.removeItem(Cs),location.reload()}}),ks=kf(),Sf=(e,o)=>Object.fromEntries(Object.entries(e).filter(([a])=>o.includes(a))),Ss=()=>localStorage.getItem("github_access_token"),xf=()=>{const e=localStorage.getItem("github_user_info");if(!!e)return JSON.parse(e)},$r=(()=>{const e=Kt(Boolean(Ss())),o=Kt(xf()),a=async()=>{const g=await vf();o.value=Sf(g,["name","login","avatar_url"]),localStorage.setItem("github_user_info",JSON.stringify(g))},c=async()=>{await ks.showLogin(),e.value=Boolean(Ss()),await a()},f=()=>{localStorage.removeItem("github_user_info"),ks.logout()};return e.value&&a(),()=>({login:c,logout:f,userInfo:Ar(o),isLogin:Ar(e)})})(),Tf=nn({__name:"Login",setup(e){const{login:o,userInfo:a,isLogin:c,logout:f}=$r();return(g,b)=>(lt(),xt(it,null,[Ye(c)?ir("",!0):(lt(),xt("button",{key:0,class:"primary-button text-white font-bold",onClick:b[0]||(b[0]=(...y)=>Ye(o)&&Ye(o)(...y))},"login")),Ke(hf,{info:Ye(a),onLogout:Ye(f)},null,8,["info","onLogout"])],64))}});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fl={exports:{}};(function(e,o){(function(a,c){e.exports=c()})(Lf,function(){return(()=>{var a={760:b=>{var y=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},h=-1;y.Diff=function(u,m){return[u,m]},y.prototype.diff_main=function(u,m,p,w){w===void 0&&(w=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);var v=w;if(u==null||m==null)throw new Error("Null input. (diff_main)");if(u==m)return u?[new y.Diff(0,u)]:[];p===void 0&&(p=!0);var E=p,_=this.diff_commonPrefix(u,m),L=u.substring(0,_);u=u.substring(_),m=m.substring(_),_=this.diff_commonSuffix(u,m);var O=u.substring(u.length-_);u=u.substring(0,u.length-_),m=m.substring(0,m.length-_);var N=this.diff_compute_(u,m,E,v);return L&&N.unshift(new y.Diff(0,L)),O&&N.push(new y.Diff(0,O)),this.diff_cleanupMerge(N),N},y.prototype.diff_compute_=function(u,m,p,w){var v;if(!u)return[new y.Diff(1,m)];if(!m)return[new y.Diff(h,u)];var E=u.length>m.length?u:m,_=u.length>m.length?m:u,L=E.indexOf(_);if(L!=-1)return v=[new y.Diff(1,E.substring(0,L)),new y.Diff(0,_),new y.Diff(1,E.substring(L+_.length))],u.length>m.length&&(v[0][0]=v[2][0]=h),v;if(_.length==1)return[new y.Diff(h,u),new y.Diff(1,m)];var O=this.diff_halfMatch_(u,m);if(O){var N=O[0],I=O[1],A=O[2],H=O[3],k=O[4],F=this.diff_main(N,A,p,w),q=this.diff_main(I,H,p,w);return F.concat([new y.Diff(0,k)],q)}return p&&u.length>100&&m.length>100?this.diff_lineMode_(u,m,w):this.diff_bisect_(u,m,w)},y.prototype.diff_lineMode_=function(u,m,p){var w=this.diff_linesToChars_(u,m);u=w.chars1,m=w.chars2;var v=w.lineArray,E=this.diff_main(u,m,!1,p);this.diff_charsToLines_(E,v),this.diff_cleanupSemantic(E),E.push(new y.Diff(0,""));for(var _=0,L=0,O=0,N="",I="";_<E.length;){switch(E[_][0]){case 1:O++,I+=E[_][1];break;case h:L++,N+=E[_][1];break;case 0:if(L>=1&&O>=1){E.splice(_-L-O,L+O),_=_-L-O;for(var A=this.diff_main(N,I,!1,p),H=A.length-1;H>=0;H--)E.splice(_,0,A[H]);_+=A.length}O=0,L=0,N="",I=""}_++}return E.pop(),E},y.prototype.diff_bisect_=function(u,m,p){for(var w=u.length,v=m.length,E=Math.ceil((w+v)/2),_=E,L=2*E,O=new Array(L),N=new Array(L),I=0;I<L;I++)O[I]=-1,N[I]=-1;O[_+1]=0,N[_+1]=0;for(var A=w-v,H=A%2!=0,k=0,F=0,q=0,J=0,Y=0;Y<E&&!(new Date().getTime()>p);Y++){for(var ue=-Y+k;ue<=Y-F;ue+=2){for(var $=_+ue,_e=(ke=ue==-Y||ue!=Y&&O[$-1]<O[$+1]?O[$+1]:O[$-1]+1)-ue;ke<w&&_e<v&&u.charAt(ke)==m.charAt(_e);)ke++,_e++;if(O[$]=ke,ke>w)F+=2;else if(_e>v)k+=2;else if(H&&(Se=_+A-ue)>=0&&Se<L&&N[Se]!=-1&&ke>=(Ne=w-N[Se]))return this.diff_bisectSplit_(u,m,ke,_e,p)}for(var xe=-Y+q;xe<=Y-J;xe+=2){for(var Ne,Se=_+xe,Ae=(Ne=xe==-Y||xe!=Y&&N[Se-1]<N[Se+1]?N[Se+1]:N[Se-1]+1)-xe;Ne<w&&Ae<v&&u.charAt(w-Ne-1)==m.charAt(v-Ae-1);)Ne++,Ae++;if(N[Se]=Ne,Ne>w)J+=2;else if(Ae>v)q+=2;else if(!H&&($=_+A-xe)>=0&&$<L&&O[$]!=-1){var ke;if(_e=_+(ke=O[$])-$,ke>=(Ne=w-Ne))return this.diff_bisectSplit_(u,m,ke,_e,p)}}}return[new y.Diff(h,u),new y.Diff(1,m)]},y.prototype.diff_bisectSplit_=function(u,m,p,w,v){var E=u.substring(0,p),_=m.substring(0,w),L=u.substring(p),O=m.substring(w),N=this.diff_main(E,_,!1,v),I=this.diff_main(L,O,!1,v);return N.concat(I)},y.prototype.diff_linesToChars_=function(u,m){var p=[],w={};function v(L){for(var O="",N=0,I=-1,A=p.length;I<L.length-1;){(I=L.indexOf(`
`,N))==-1&&(I=L.length-1);var H=L.substring(N,I+1);(w.hasOwnProperty?w.hasOwnProperty(H):w[H]!==void 0)?O+=String.fromCharCode(w[H]):(A==E&&(H=L.substring(N),I=L.length),O+=String.fromCharCode(A),w[H]=A,p[A++]=H),N=I+1}return O}p[0]="";var E=4e4,_=v(u);return E=65535,{chars1:_,chars2:v(m),lineArray:p}},y.prototype.diff_charsToLines_=function(u,m){for(var p=0;p<u.length;p++){for(var w=u[p][1],v=[],E=0;E<w.length;E++)v[E]=m[w.charCodeAt(E)];u[p][1]=v.join("")}},y.prototype.diff_commonPrefix=function(u,m){if(!u||!m||u.charAt(0)!=m.charAt(0))return 0;for(var p=0,w=Math.min(u.length,m.length),v=w,E=0;p<v;)u.substring(E,v)==m.substring(E,v)?E=p=v:w=v,v=Math.floor((w-p)/2+p);return v},y.prototype.diff_commonSuffix=function(u,m){if(!u||!m||u.charAt(u.length-1)!=m.charAt(m.length-1))return 0;for(var p=0,w=Math.min(u.length,m.length),v=w,E=0;p<v;)u.substring(u.length-v,u.length-E)==m.substring(m.length-v,m.length-E)?E=p=v:w=v,v=Math.floor((w-p)/2+p);return v},y.prototype.diff_commonOverlap_=function(u,m){var p=u.length,w=m.length;if(p==0||w==0)return 0;p>w?u=u.substring(p-w):p<w&&(m=m.substring(0,p));var v=Math.min(p,w);if(u==m)return v;for(var E=0,_=1;;){var L=u.substring(v-_),O=m.indexOf(L);if(O==-1)return E;_+=O,O!=0&&u.substring(v-_)!=m.substring(0,_)||(E=_,_++)}},y.prototype.diff_halfMatch_=function(u,m){if(this.Diff_Timeout<=0)return null;var p=u.length>m.length?u:m,w=u.length>m.length?m:u;if(p.length<4||2*w.length<p.length)return null;var v=this;function E(k,F,q){for(var J,Y,ue,$,_e=k.substring(q,q+Math.floor(k.length/4)),xe=-1,Ne="";(xe=F.indexOf(_e,xe+1))!=-1;){var Se=v.diff_commonPrefix(k.substring(q),F.substring(xe)),Ae=v.diff_commonSuffix(k.substring(0,q),F.substring(0,xe));Ne.length<Ae+Se&&(Ne=F.substring(xe-Ae,xe)+F.substring(xe,xe+Se),J=k.substring(0,q-Ae),Y=k.substring(q+Se),ue=F.substring(0,xe-Ae),$=F.substring(xe+Se))}return 2*Ne.length>=k.length?[J,Y,ue,$,Ne]:null}var _,L,O,N,I,A=E(p,w,Math.ceil(p.length/4)),H=E(p,w,Math.ceil(p.length/2));return A||H?(_=H?A&&A[4].length>H[4].length?A:H:A,u.length>m.length?(L=_[0],O=_[1],N=_[2],I=_[3]):(N=_[0],I=_[1],L=_[2],O=_[3]),[L,O,N,I,_[4]]):null},y.prototype.diff_cleanupSemantic=function(u){for(var m=!1,p=[],w=0,v=null,E=0,_=0,L=0,O=0,N=0;E<u.length;)u[E][0]==0?(p[w++]=E,_=O,L=N,O=0,N=0,v=u[E][1]):(u[E][0]==1?O+=u[E][1].length:N+=u[E][1].length,v&&v.length<=Math.max(_,L)&&v.length<=Math.max(O,N)&&(u.splice(p[w-1],0,new y.Diff(h,v)),u[p[w-1]+1][0]=1,w--,E=--w>0?p[w-1]:-1,_=0,L=0,O=0,N=0,v=null,m=!0)),E++;for(m&&this.diff_cleanupMerge(u),this.diff_cleanupSemanticLossless(u),E=1;E<u.length;){if(u[E-1][0]==h&&u[E][0]==1){var I=u[E-1][1],A=u[E][1],H=this.diff_commonOverlap_(I,A),k=this.diff_commonOverlap_(A,I);H>=k?(H>=I.length/2||H>=A.length/2)&&(u.splice(E,0,new y.Diff(0,A.substring(0,H))),u[E-1][1]=I.substring(0,I.length-H),u[E+1][1]=A.substring(H),E++):(k>=I.length/2||k>=A.length/2)&&(u.splice(E,0,new y.Diff(0,I.substring(0,k))),u[E-1][0]=1,u[E-1][1]=A.substring(0,A.length-k),u[E+1][0]=h,u[E+1][1]=I.substring(k),E++),E++}E++}},y.prototype.diff_cleanupSemanticLossless=function(u){function m(k,F){if(!k||!F)return 6;var q=k.charAt(k.length-1),J=F.charAt(0),Y=q.match(y.nonAlphaNumericRegex_),ue=J.match(y.nonAlphaNumericRegex_),$=Y&&q.match(y.whitespaceRegex_),_e=ue&&J.match(y.whitespaceRegex_),xe=$&&q.match(y.linebreakRegex_),Ne=_e&&J.match(y.linebreakRegex_),Se=xe&&k.match(y.blanklineEndRegex_),Ae=Ne&&F.match(y.blanklineStartRegex_);return Se||Ae?5:xe||Ne?4:Y&&!$&&_e?3:$||_e?2:Y||ue?1:0}for(var p=1;p<u.length-1;){if(u[p-1][0]==0&&u[p+1][0]==0){var w=u[p-1][1],v=u[p][1],E=u[p+1][1],_=this.diff_commonSuffix(w,v);if(_){var L=v.substring(v.length-_);w=w.substring(0,w.length-_),v=L+v.substring(0,v.length-_),E=L+E}for(var O=w,N=v,I=E,A=m(w,v)+m(v,E);v.charAt(0)===E.charAt(0);){w+=v.charAt(0),v=v.substring(1)+E.charAt(0),E=E.substring(1);var H=m(w,v)+m(v,E);H>=A&&(A=H,O=w,N=v,I=E)}u[p-1][1]!=O&&(O?u[p-1][1]=O:(u.splice(p-1,1),p--),u[p][1]=N,I?u[p+1][1]=I:(u.splice(p+1,1),p--))}p++}},y.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,y.whitespaceRegex_=/\s/,y.linebreakRegex_=/[\r\n]/,y.blanklineEndRegex_=/\n\r?\n$/,y.blanklineStartRegex_=/^\r?\n\r?\n/,y.prototype.diff_cleanupEfficiency=function(u){for(var m=!1,p=[],w=0,v=null,E=0,_=!1,L=!1,O=!1,N=!1;E<u.length;)u[E][0]==0?(u[E][1].length<this.Diff_EditCost&&(O||N)?(p[w++]=E,_=O,L=N,v=u[E][1]):(w=0,v=null),O=N=!1):(u[E][0]==h?N=!0:O=!0,v&&(_&&L&&O&&N||v.length<this.Diff_EditCost/2&&_+L+O+N==3)&&(u.splice(p[w-1],0,new y.Diff(h,v)),u[p[w-1]+1][0]=1,w--,v=null,_&&L?(O=N=!0,w=0):(E=--w>0?p[w-1]:-1,O=N=!1),m=!0)),E++;m&&this.diff_cleanupMerge(u)},y.prototype.diff_cleanupMerge=function(u){u.push(new y.Diff(0,""));for(var m,p=0,w=0,v=0,E="",_="";p<u.length;)switch(u[p][0]){case 1:v++,_+=u[p][1],p++;break;case h:w++,E+=u[p][1],p++;break;case 0:w+v>1?(w!==0&&v!==0&&((m=this.diff_commonPrefix(_,E))!==0&&(p-w-v>0&&u[p-w-v-1][0]==0?u[p-w-v-1][1]+=_.substring(0,m):(u.splice(0,0,new y.Diff(0,_.substring(0,m))),p++),_=_.substring(m),E=E.substring(m)),(m=this.diff_commonSuffix(_,E))!==0&&(u[p][1]=_.substring(_.length-m)+u[p][1],_=_.substring(0,_.length-m),E=E.substring(0,E.length-m))),p-=w+v,u.splice(p,w+v),E.length&&(u.splice(p,0,new y.Diff(h,E)),p++),_.length&&(u.splice(p,0,new y.Diff(1,_)),p++),p++):p!==0&&u[p-1][0]==0?(u[p-1][1]+=u[p][1],u.splice(p,1)):p++,v=0,w=0,E="",_=""}u[u.length-1][1]===""&&u.pop();var L=!1;for(p=1;p<u.length-1;)u[p-1][0]==0&&u[p+1][0]==0&&(u[p][1].substring(u[p][1].length-u[p-1][1].length)==u[p-1][1]?(u[p][1]=u[p-1][1]+u[p][1].substring(0,u[p][1].length-u[p-1][1].length),u[p+1][1]=u[p-1][1]+u[p+1][1],u.splice(p-1,1),L=!0):u[p][1].substring(0,u[p+1][1].length)==u[p+1][1]&&(u[p-1][1]+=u[p+1][1],u[p][1]=u[p][1].substring(u[p+1][1].length)+u[p+1][1],u.splice(p+1,1),L=!0)),p++;L&&this.diff_cleanupMerge(u)},y.prototype.diff_xIndex=function(u,m){var p,w=0,v=0,E=0,_=0;for(p=0;p<u.length&&(u[p][0]!==1&&(w+=u[p][1].length),u[p][0]!==h&&(v+=u[p][1].length),!(w>m));p++)E=w,_=v;return u.length!=p&&u[p][0]===h?_:_+(m-E)},y.prototype.diff_prettyHtml=function(u){for(var m=[],p=/&/g,w=/</g,v=/>/g,E=/\n/g,_=0;_<u.length;_++){var L=u[_][0],O=u[_][1].replace(p,"&amp;").replace(w,"&lt;").replace(v,"&gt;").replace(E,"&para;<br>");switch(L){case 1:m[_]='<ins style="background:#e6ffe6;">'+O+"</ins>";break;case h:m[_]='<del style="background:#ffe6e6;">'+O+"</del>";break;case 0:m[_]="<span>"+O+"</span>"}}return m.join("")},y.prototype.diff_text1=function(u){for(var m=[],p=0;p<u.length;p++)u[p][0]!==1&&(m[p]=u[p][1]);return m.join("")},y.prototype.diff_text2=function(u){for(var m=[],p=0;p<u.length;p++)u[p][0]!==h&&(m[p]=u[p][1]);return m.join("")},y.prototype.diff_levenshtein=function(u){for(var m=0,p=0,w=0,v=0;v<u.length;v++){var E=u[v][0],_=u[v][1];switch(E){case 1:p+=_.length;break;case h:w+=_.length;break;case 0:m+=Math.max(p,w),p=0,w=0}}return m+=Math.max(p,w)},y.prototype.diff_toDelta=function(u){for(var m=[],p=0;p<u.length;p++)switch(u[p][0]){case 1:m[p]="+"+encodeURI(u[p][1]);break;case h:m[p]="-"+u[p][1].length;break;case 0:m[p]="="+u[p][1].length}return m.join("	").replace(/%20/g," ")},y.prototype.diff_fromDelta=function(u,m){for(var p=[],w=0,v=0,E=m.split(/\t/g),_=0;_<E.length;_++){var L=E[_].substring(1);switch(E[_].charAt(0)){case"+":try{p[w++]=new y.Diff(1,decodeURI(L))}catch{throw new Error("Illegal escape in diff_fromDelta: "+L)}break;case"-":case"=":var O=parseInt(L,10);if(isNaN(O)||O<0)throw new Error("Invalid number in diff_fromDelta: "+L);var N=u.substring(v,v+=O);E[_].charAt(0)=="="?p[w++]=new y.Diff(0,N):p[w++]=new y.Diff(h,N);break;default:if(E[_])throw new Error("Invalid diff operation in diff_fromDelta: "+E[_])}}if(v!=u.length)throw new Error("Delta length ("+v+") does not equal source text length ("+u.length+").");return p},y.prototype.match_main=function(u,m,p){if(u==null||m==null||p==null)throw new Error("Null input. (match_main)");return p=Math.max(0,Math.min(p,u.length)),u==m?0:u.length?u.substring(p,p+m.length)==m?p:this.match_bitap_(u,m,p):-1},y.prototype.match_bitap_=function(u,m,p){if(m.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var w=this.match_alphabet_(m),v=this;function E(_e,xe){var Ne=_e/m.length,Se=Math.abs(p-xe);return v.Match_Distance?Ne+Se/v.Match_Distance:Se?1:Ne}var _=this.Match_Threshold,L=u.indexOf(m,p);L!=-1&&(_=Math.min(E(0,L),_),(L=u.lastIndexOf(m,p+m.length))!=-1&&(_=Math.min(E(0,L),_)));var O,N,I=1<<m.length-1;L=-1;for(var A,H=m.length+u.length,k=0;k<m.length;k++){for(O=0,N=H;O<N;)E(k,p+N)<=_?O=N:H=N,N=Math.floor((H-O)/2+O);H=N;var F=Math.max(1,p-N+1),q=Math.min(p+N,u.length)+m.length,J=Array(q+2);J[q+1]=(1<<k)-1;for(var Y=q;Y>=F;Y--){var ue=w[u.charAt(Y-1)];if(J[Y]=k===0?(J[Y+1]<<1|1)&ue:(J[Y+1]<<1|1)&ue|(A[Y+1]|A[Y])<<1|1|A[Y+1],J[Y]&I){var $=E(k,Y-1);if($<=_){if(_=$,!((L=Y-1)>p))break;F=Math.max(1,2*p-L)}}}if(E(k+1,p)>_)break;A=J}return L},y.prototype.match_alphabet_=function(u){for(var m={},p=0;p<u.length;p++)m[u.charAt(p)]=0;for(p=0;p<u.length;p++)m[u.charAt(p)]|=1<<u.length-p-1;return m},y.prototype.patch_addContext_=function(u,m){if(m.length!=0){if(u.start2===null)throw Error("patch not initialized");for(var p=m.substring(u.start2,u.start2+u.length1),w=0;m.indexOf(p)!=m.lastIndexOf(p)&&p.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)w+=this.Patch_Margin,p=m.substring(u.start2-w,u.start2+u.length1+w);w+=this.Patch_Margin;var v=m.substring(u.start2-w,u.start2);v&&u.diffs.unshift(new y.Diff(0,v));var E=m.substring(u.start2+u.length1,u.start2+u.length1+w);E&&u.diffs.push(new y.Diff(0,E)),u.start1-=v.length,u.start2-=v.length,u.length1+=v.length+E.length,u.length2+=v.length+E.length}},y.prototype.patch_make=function(u,m,p){var w,v;if(typeof u=="string"&&typeof m=="string"&&p===void 0)w=u,(v=this.diff_main(w,m,!0)).length>2&&(this.diff_cleanupSemantic(v),this.diff_cleanupEfficiency(v));else if(u&&typeof u=="object"&&m===void 0&&p===void 0)v=u,w=this.diff_text1(v);else if(typeof u=="string"&&m&&typeof m=="object"&&p===void 0)w=u,v=m;else{if(typeof u!="string"||typeof m!="string"||!p||typeof p!="object")throw new Error("Unknown call format to patch_make.");w=u,v=p}if(v.length===0)return[];for(var E=[],_=new y.patch_obj,L=0,O=0,N=0,I=w,A=w,H=0;H<v.length;H++){var k=v[H][0],F=v[H][1];switch(L||k===0||(_.start1=O,_.start2=N),k){case 1:_.diffs[L++]=v[H],_.length2+=F.length,A=A.substring(0,N)+F+A.substring(N);break;case h:_.length1+=F.length,_.diffs[L++]=v[H],A=A.substring(0,N)+A.substring(N+F.length);break;case 0:F.length<=2*this.Patch_Margin&&L&&v.length!=H+1?(_.diffs[L++]=v[H],_.length1+=F.length,_.length2+=F.length):F.length>=2*this.Patch_Margin&&L&&(this.patch_addContext_(_,I),E.push(_),_=new y.patch_obj,L=0,I=A,O=N)}k!==1&&(O+=F.length),k!==h&&(N+=F.length)}return L&&(this.patch_addContext_(_,I),E.push(_)),E},y.prototype.patch_deepCopy=function(u){for(var m=[],p=0;p<u.length;p++){var w=u[p],v=new y.patch_obj;v.diffs=[];for(var E=0;E<w.diffs.length;E++)v.diffs[E]=new y.Diff(w.diffs[E][0],w.diffs[E][1]);v.start1=w.start1,v.start2=w.start2,v.length1=w.length1,v.length2=w.length2,m[p]=v}return m},y.prototype.patch_apply=function(u,m){if(u.length==0)return[m,[]];u=this.patch_deepCopy(u);var p=this.patch_addPadding(u);m=p+m+p,this.patch_splitMax(u);for(var w=0,v=[],E=0;E<u.length;E++){var _,L,O=u[E].start2+w,N=this.diff_text1(u[E].diffs),I=-1;if(N.length>this.Match_MaxBits?(_=this.match_main(m,N.substring(0,this.Match_MaxBits),O))!=-1&&((I=this.match_main(m,N.substring(N.length-this.Match_MaxBits),O+N.length-this.Match_MaxBits))==-1||_>=I)&&(_=-1):_=this.match_main(m,N,O),_==-1)v[E]=!1,w-=u[E].length2-u[E].length1;else if(v[E]=!0,w=_-O,N==(L=I==-1?m.substring(_,_+N.length):m.substring(_,I+this.Match_MaxBits)))m=m.substring(0,_)+this.diff_text2(u[E].diffs)+m.substring(_+N.length);else{var A=this.diff_main(N,L,!1);if(N.length>this.Match_MaxBits&&this.diff_levenshtein(A)/N.length>this.Patch_DeleteThreshold)v[E]=!1;else{this.diff_cleanupSemanticLossless(A);for(var H,k=0,F=0;F<u[E].diffs.length;F++){var q=u[E].diffs[F];q[0]!==0&&(H=this.diff_xIndex(A,k)),q[0]===1?m=m.substring(0,_+H)+q[1]+m.substring(_+H):q[0]===h&&(m=m.substring(0,_+H)+m.substring(_+this.diff_xIndex(A,k+q[1].length))),q[0]!==h&&(k+=q[1].length)}}}}return[m=m.substring(p.length,m.length-p.length),v]},y.prototype.patch_addPadding=function(u){for(var m=this.Patch_Margin,p="",w=1;w<=m;w++)p+=String.fromCharCode(w);for(w=0;w<u.length;w++)u[w].start1+=m,u[w].start2+=m;var v=u[0],E=v.diffs;if(E.length==0||E[0][0]!=0)E.unshift(new y.Diff(0,p)),v.start1-=m,v.start2-=m,v.length1+=m,v.length2+=m;else if(m>E[0][1].length){var _=m-E[0][1].length;E[0][1]=p.substring(E[0][1].length)+E[0][1],v.start1-=_,v.start2-=_,v.length1+=_,v.length2+=_}return(E=(v=u[u.length-1]).diffs).length==0||E[E.length-1][0]!=0?(E.push(new y.Diff(0,p)),v.length1+=m,v.length2+=m):m>E[E.length-1][1].length&&(_=m-E[E.length-1][1].length,E[E.length-1][1]+=p.substring(0,_),v.length1+=_,v.length2+=_),p},y.prototype.patch_splitMax=function(u){for(var m=this.Match_MaxBits,p=0;p<u.length;p++)if(!(u[p].length1<=m)){var w=u[p];u.splice(p--,1);for(var v=w.start1,E=w.start2,_="";w.diffs.length!==0;){var L=new y.patch_obj,O=!0;for(L.start1=v-_.length,L.start2=E-_.length,_!==""&&(L.length1=L.length2=_.length,L.diffs.push(new y.Diff(0,_)));w.diffs.length!==0&&L.length1<m-this.Patch_Margin;){var N=w.diffs[0][0],I=w.diffs[0][1];N===1?(L.length2+=I.length,E+=I.length,L.diffs.push(w.diffs.shift()),O=!1):N===h&&L.diffs.length==1&&L.diffs[0][0]==0&&I.length>2*m?(L.length1+=I.length,v+=I.length,O=!1,L.diffs.push(new y.Diff(N,I)),w.diffs.shift()):(I=I.substring(0,m-L.length1-this.Patch_Margin),L.length1+=I.length,v+=I.length,N===0?(L.length2+=I.length,E+=I.length):O=!1,L.diffs.push(new y.Diff(N,I)),I==w.diffs[0][1]?w.diffs.shift():w.diffs[0][1]=w.diffs[0][1].substring(I.length))}_=(_=this.diff_text2(L.diffs)).substring(_.length-this.Patch_Margin);var A=this.diff_text1(w.diffs).substring(0,this.Patch_Margin);A!==""&&(L.length1+=A.length,L.length2+=A.length,L.diffs.length!==0&&L.diffs[L.diffs.length-1][0]===0?L.diffs[L.diffs.length-1][1]+=A:L.diffs.push(new y.Diff(0,A))),O||u.splice(++p,0,L)}}},y.prototype.patch_toText=function(u){for(var m=[],p=0;p<u.length;p++)m[p]=u[p];return m.join("")},y.prototype.patch_fromText=function(u){var m=[];if(!u)return m;for(var p=u.split(`
`),w=0,v=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;w<p.length;){var E=p[w].match(v);if(!E)throw new Error("Invalid patch string: "+p[w]);var _=new y.patch_obj;for(m.push(_),_.start1=parseInt(E[1],10),E[2]===""?(_.start1--,_.length1=1):E[2]=="0"?_.length1=0:(_.start1--,_.length1=parseInt(E[2],10)),_.start2=parseInt(E[3],10),E[4]===""?(_.start2--,_.length2=1):E[4]=="0"?_.length2=0:(_.start2--,_.length2=parseInt(E[4],10)),w++;w<p.length;){var L=p[w].charAt(0);try{var O=decodeURI(p[w].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+O)}if(L=="-")_.diffs.push(new y.Diff(h,O));else if(L=="+")_.diffs.push(new y.Diff(1,O));else if(L==" ")_.diffs.push(new y.Diff(0,O));else{if(L=="@")break;if(L!=="")throw new Error('Invalid patch mode "'+L+'" in: '+O)}w++}}return m},(y.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var u,m=["@@ -"+(this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1)+" +"+(this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2)+` @@
`],p=0;p<this.diffs.length;p++){switch(this.diffs[p][0]){case 1:u="+";break;case h:u="-";break;case 0:u=" "}m[p+1]=u+encodeURI(this.diffs[p][1])+`
`}return m.join("").replace(/%20/g," ")},b.exports=y,b.exports.diff_match_patch=y,b.exports.DIFF_DELETE=h,b.exports.DIFF_INSERT=1,b.exports.DIFF_EQUAL=0},872:(b,y,h)=>{h.d(y,{default:()=>rn});var u=h(478),m=h(156),p=h(314),w=h(730),v=h(66),E=h(218),_=h(702),L=function(fe){fe===void 0&&(fe=document);var Be=function(Q){var X=document.createElement("img");X.src=Q.getAttribute("data-src"),X.addEventListener("load",function(){Q.getAttribute("style")||Q.getAttribute("class")||Q.getAttribute("width")||Q.getAttribute("height")||X.naturalHeight>X.naturalWidth&&X.naturalWidth/X.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&X.naturalHeight>window.innerHeight-40&&(Q.style.height=window.innerHeight-40+"px"),Q.src=X.src}),Q.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return fe.querySelectorAll("img").forEach(function(Q){Q.getAttribute("data-src")&&Be(Q)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),fe.querySelectorAll("img").forEach(function(Q){window.vditorImageIntersectionObserver.observe(Q)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(Q){Q.forEach(function(X){(X.isIntersecting===void 0?X.intersectionRatio!==0:X.isIntersecting)&&X.target.getAttribute("data-src")&&Be(X.target)})}),fe.querySelectorAll("img").forEach(function(Q){window.vditorImageIntersectionObserver.observe(Q)}))},O=h(466),N=h(554),I=h(40),A=h(563),H=h(749),k=h(818),F=h(408),q=h(54),J=h(227),Y=h(526),ue=h(827),$=h(640),_e=h(895),xe=h(393),Ne=function(fe,Be){if(Be===void 0&&(Be="zh_CN"),typeof speechSynthesis<"u"&&typeof SpeechSynthesisUtterance<"u"){var Q='<svg><use xlink:href="#vditor-icon-play"></use></svg>',X='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(Q='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',X='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var pe=document.querySelector(".vditor-speech");if(!pe){(pe=document.createElement("div")).className="vditor-speech",document.body.insertAdjacentElement("beforeend",pe);var Re=function(){var Fe,M;return speechSynthesis.getVoices().forEach(function(D){D.lang===Be.replace("_","-")&&(Fe=D),D.default&&(M=D)}),Fe||(Fe=M),Fe};speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=Re);var De=Re();pe.onclick=function(){if(pe.className==="vditor-speech"){var Fe=new SpeechSynthesisUtterance(pe.getAttribute("data-text"));Fe.voice=De,Fe.onend=function(){pe.className="vditor-speech",speechSynthesis.cancel(),pe.innerHTML=Q},speechSynthesis.speak(Fe),pe.className="vditor-speech vditor-speech--current",pe.innerHTML=X}else speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),pe.innerHTML=X):(speechSynthesis.pause(),pe.innerHTML=Q));(0,xe.Hc)(window.vditorSpeechRange)},document.body.addEventListener("click",function(){getSelection().toString().trim()===""&&pe.style.display==="block"&&(pe.className="vditor-speech",speechSynthesis.cancel(),pe.style.display="none")})}fe.addEventListener("mouseup",function(Fe){var M=getSelection().toString().trim();if(speechSynthesis.cancel(),getSelection().toString().trim()!==""){window.vditorSpeechRange=getSelection().getRangeAt(0).cloneRange();var D=getSelection().getRangeAt(0).getBoundingClientRect();pe.innerHTML=Q,pe.style.display="block",pe.style.top=D.top+D.height+document.querySelector("html").scrollTop-20+"px",pe.style.left=Fe.screenX+2+"px",pe.setAttribute("data-text",M)}else pe.style.display==="block"&&(pe.className="vditor-speech",pe.style.display="none")})}},Se=function(fe,Be,Q,X){return new(Q||(Q=Promise))(function(pe,Re){function De(D){try{M(X.next(D))}catch(R){Re(R)}}function Fe(D){try{M(X.throw(D))}catch(R){Re(R)}}function M(D){var R;D.done?pe(D.value):(R=D.value,R instanceof Q?R:new Q(function(K){K(R)})).then(De,Fe)}M((X=X.apply(fe,Be||[])).next())})},Ae=function(fe,Be){var Q,X,pe,Re,De={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return Re={next:Fe(0),throw:Fe(1),return:Fe(2)},typeof Symbol=="function"&&(Re[Symbol.iterator]=function(){return this}),Re;function Fe(M){return function(D){return function(R){if(Q)throw new TypeError("Generator is already executing.");for(;De;)try{if(Q=1,X&&(pe=2&R[0]?X.return:R[0]?X.throw||((pe=X.return)&&pe.call(X),0):X.next)&&!(pe=pe.call(X,R[1])).done)return pe;switch(X=0,pe&&(R=[2&R[0],pe.value]),R[0]){case 0:case 1:pe=R;break;case 4:return De.label++,{value:R[1],done:!1};case 5:De.label++,X=R[1],R=[0];continue;case 7:R=De.ops.pop(),De.trys.pop();continue;default:if(pe=De.trys,!((pe=pe.length>0&&pe[pe.length-1])||R[0]!==6&&R[0]!==2)){De=0;continue}if(R[0]===3&&(!pe||R[1]>pe[0]&&R[1]<pe[3])){De.label=R[1];break}if(R[0]===6&&De.label<pe[1]){De.label=pe[1],pe=R;break}if(pe&&De.label<pe[2]){De.label=pe[2],De.ops.push(R);break}pe[2]&&De.ops.pop(),De.trys.pop();continue}R=Be.call(fe,De)}catch(K){R=[6,K],X=0}finally{Q=pe=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([M,D])}}},ke=function(fe){var Be={anchor:0,cdn:q.g.CDN,customEmoji:{},emojiPath:(fe&&fe.emojiPath||q.g.CDN)+"/dist/images/emoji",hljs:q.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:q.g.MARKDOWN_OPTIONS,math:q.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},theme:q.g.THEME_OPTIONS};return(0,$.T)(Be,fe)},dt=function(fe,Be){var Q=ke(Be);return(0,Y.G)(Q.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){var X=(0,_e.X)({autoSpace:Q.markdown.autoSpace,codeBlockPreview:Q.markdown.codeBlockPreview,emojiSite:Q.emojiPath,emojis:Q.customEmoji,fixTermTypo:Q.markdown.fixTermTypo,footnotes:Q.markdown.footnotes,headingAnchor:Q.anchor!==0,inlineMathDigit:Q.math.inlineDigit,lazyLoadImage:Q.lazyLoadImage,linkBase:Q.markdown.linkBase,linkPrefix:Q.markdown.linkPrefix,listStyle:Q.markdown.listStyle,mark:Q.markdown.mark,mathBlockPreview:Q.markdown.mathBlockPreview,paragraphBeginningSpace:Q.markdown.paragraphBeginningSpace,sanitize:Q.markdown.sanitize,toc:Q.markdown.toc});return Be!=null&&Be.renderers&&X.SetJSRenderers({renderers:{Md2HTML:Be.renderers}}),X.SetHeadingID(!0),X.Md2HTML(fe)})},Ue=function(fe,Be,Q){return Se(void 0,void 0,void 0,function(){var X,pe,Re;return Ae(this,function(De){switch(De.label){case 0:return X=ke(Q),[4,dt(Be,X)];case 1:if(pe=De.sent(),X.transform&&(pe=X.transform(pe)),fe.innerHTML=pe,fe.classList.add("vditor-reset"),X.i18n)return[3,5];if(["en_US","ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(X.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return Re="vditorI18nScript"+X.lang,document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(M){M.id!==Re&&document.head.removeChild(M)}),[4,(0,Y.G)(X.cdn+"/dist/js/i18n/"+X.lang+".js",Re)];case 3:De.sent(),De.label=4;case 4:return[3,6];case 5:window.VditorI18n=X.i18n,De.label=6;case 6:return X.icon?[4,(0,Y.G)(X.cdn+"/dist/js/icons/"+X.icon+".js","vditorIconScript")]:[3,8];case 7:De.sent(),De.label=8;case 8:return(0,J.Z)(X.theme.current,X.theme.path),X.anchor===1&&fe.classList.add("vditor-reset--anchor"),(0,w.O)(fe),(0,_.s)(X.hljs,fe,X.cdn),(0,O.H)(fe,{cdn:X.cdn,math:X.math}),(0,I.i)(fe,X.cdn,X.mode),(0,A.K)(fe,X.cdn,X.mode),(0,v.P)(fe,X.cdn),(0,E.v)(fe,X.cdn),(0,p.p)(fe,X.cdn,X.mode),(0,H.P)(fe,X.cdn,X.mode),(0,F.B)(fe,X.cdn),(0,u.Q)(fe,X.cdn),(0,N.Y)(fe),X.speech.enable&&Ne(fe),X.anchor!==0&&(Fe=X.anchor,document.querySelectorAll(".vditor-anchor").forEach(function(M){Fe===1&&M.classList.add("vditor-anchor--left"),M.onclick=function(){var D=M.getAttribute("href").substr(1),R=document.getElementById("vditorAnchor-"+D).offsetTop;document.querySelector("html").scrollTop=R}}),window.onhashchange=function(){var M=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));M&&(document.querySelector("html").scrollTop=M.offsetTop)}),X.after&&X.after(),X.lazyLoadImage&&L(fe),fe.addEventListener("click",function(M){var D=(0,ue.lG)(M.target,"SPAN");if(D&&(0,ue.fb)(D,"vditor-toc")){var R=fe.querySelector("#"+D.getAttribute("data-target-id"));R&&window.scrollTo(window.scrollX,R.offsetTop)}}),[2]}var Fe})})},P=h(863),Xe=h(312);const rn=function(){function fe(){}return fe.adapterRender=m,fe.previewImage=P.E,fe.codeRender=w.O,fe.graphvizRender=E.v,fe.highlightRender=_.s,fe.mathRender=O.H,fe.mermaidRender=I.i,fe.markmapRender=A.K,fe.flowchartRender=v.P,fe.chartRender=p.p,fe.abcRender=u.Q,fe.mindmapRender=H.P,fe.plantumlRender=F.B,fe.outlineRender=k.k,fe.mediaRender=N.Y,fe.speechRender=Ne,fe.lazyLoadImageRender=L,fe.md2html=dt,fe.preview=Ue,fe.setCodeTheme=Xe.Y,fe.setContentTheme=J.Z,fe}()},54:(b,y,h)=>{h.d(y,{H:()=>u,g:()=>m});var u="3.9.0",m=function(){function p(){}return p.ZWSP="\u200B",p.DROP_EDITOR="application/editor",p.MOBILE_WIDTH=520,p.CLASS_MENU_DISABLED="vditor-menu--disabled",p.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],p.CODE_THEME=["abap","algol","algol_nu","arduino","autumn","borland","bw","colorful","dracula","emacs","friendly","fruity","github","igor","lovelace","manni","monokai","monokailight","murphy","native","paraiso-dark","paraiso-light","pastie","perldoc","pygments","rainbow_dash","rrt","solarized-dark","solarized-dark256","solarized-light","swapoff","tango","trac","vim","vs","xcode","ant-design"],p.CODE_LANGUAGES=["mermaid","echarts","mindmap","plantuml","abc","graphviz","flowchart","apache","js","ts","html","markmap","properties","apache","bash","c","csharp","cpp","css","coffeescript","diff","go","xml","http","json","java","javascript","kotlin","less","lua","makefile","markdown","nginx","objectivec","php","php-template","perl","plaintext","python","python-repl","r","ruby","rust","scss","sql","shell","swift","ini","typescript","vbnet","yaml","ada","clojure","dart","erb","fortran","gradle","haskell","julia","julia-repl","lisp","matlab","pgsql","powershell","sql_more","stata","cmake","mathematica","solidity","yul"],p.CDN="https://unpkg.com/vditor@3.9.0",p.MARKDOWN_OPTIONS={autoSpace:!1,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},p.HLJS_OPTIONS={enable:!0,lineNumber:!1,style:"github"},p.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},p.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:p.CDN+"/dist/css/content-theme"},p}()},478:(b,y,h)=>{h.d(y,{Q:()=>w});var u=h(54),m=h(526),p=h(156),w=function(v,E){v===void 0&&(v=document),E===void 0&&(E=u.g.CDN);var _=p.abcRenderAdapter.getElements(v);_.length>0&&(0,m.G)(E+"/dist/js/abcjs/abcjs_basic.min.js","vditorAbcjsScript").then(function(){_.forEach(function(L){L.parentElement.classList.contains("vditor-wysiwyg__pre")||L.parentElement.classList.contains("vditor-ir__marker--pre")||L.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(L,p.abcRenderAdapter.getCode(L).trim()),L.style.overflowX="auto",L.setAttribute("data-processed","true"))})})}},156:(b,y,h)=>{h.r(y),h.d(y,{mathRenderAdapter:()=>u,mermaidRenderAdapter:()=>m,markmapRenderAdapter:()=>p,mindmapRenderAdapter:()=>w,chartRenderAdapter:()=>v,abcRenderAdapter:()=>E,graphvizRenderAdapter:()=>_,flowchartRenderAdapter:()=>L,plantumlRenderAdapter:()=>O});var u={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-math")}},m={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-mermaid")}},p={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-markmap")}},w={getCode:function(N){return N.getAttribute("data-code")},getElements:function(N){return N.querySelectorAll(".language-mindmap")}},v={getCode:function(N){return N.innerText},getElements:function(N){return N.querySelectorAll(".language-echarts")}},E={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-abc")}},_={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-graphviz")}},L={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-flowchart")}},O={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-plantuml")}}},314:(b,y,h)=>{h.d(y,{p:()=>w});var u=h(54),m=h(526),p=h(156),w=function(v,E,_){v===void 0&&(v=document),E===void 0&&(E=u.g.CDN);var L=p.chartRenderAdapter.getElements(v);L.length>0&&(0,m.G)(E+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){L.forEach(function(O){if(!O.parentElement.classList.contains("vditor-wysiwyg__pre")&&!O.parentElement.classList.contains("vditor-ir__marker--pre")){var N=p.chartRenderAdapter.getCode(O).trim();if(N)try{if(O.getAttribute("data-processed")==="true")return;var I=JSON.parse(N);echarts.init(O,_==="dark"?"dark":void 0).setOption(I),O.setAttribute("data-processed","true")}catch(A){O.className="vditor-reset--error",O.innerHTML="echarts render error: <br>"+A}}})})}},730:(b,y,h)=>{h.d(y,{O:()=>m});var u=h(51),m=function(p){p.querySelectorAll("pre > code").forEach(function(w,v){var E,_,L;if(!w.parentElement.classList.contains("vditor-wysiwyg__pre")&&!w.parentElement.classList.contains("vditor-ir__marker--pre")&&!(w.classList.contains("language-mermaid")||w.classList.contains("language-flowchart")||w.classList.contains("language-echarts")||w.classList.contains("language-mindmap")||w.classList.contains("language-plantuml")||w.classList.contains("language-markmap")||w.classList.contains("language-abc")||w.classList.contains("language-graphviz")||w.classList.contains("language-math")||w.style.maxHeight.indexOf("px")>-1||p.classList.contains("vditor-preview")&&v>5)){var O=w.innerText;if(w.classList.contains("highlight-chroma")){var N=document.createElement("code");N.innerHTML=w.innerHTML,N.querySelectorAll(".highlight-ln").forEach(function(k){k.remove()}),O=N.innerText}else O.endsWith(`
`)&&(O=O.substr(0,O.length-1));var I='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(I='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var A=document.createElement("div");A.className="vditor-copy",A.innerHTML='<span aria-label="'+(((E=window.VditorI18n)===null||E===void 0?void 0:E.copy)||"\u590D\u5236")+`"
onmouseover="this.setAttribute('aria-label', '`+(((_=window.VditorI18n)===null||_===void 0?void 0:_.copy)||"\u590D\u5236")+`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`+(((L=window.VditorI18n)===null||L===void 0?void 0:L.copied)||"\u5DF2\u590D\u5236")+`')">`+I+"</span>";var H=document.createElement("textarea");H.value=(0,u.X)(O),A.insertAdjacentElement("afterbegin",H),w.before(A),w.style.maxHeight=window.outerHeight-40+"px"}})}},66:(b,y,h)=>{h.d(y,{P:()=>w});var u=h(54),m=h(526),p=h(156),w=function(v,E){E===void 0&&(E=u.g.CDN);var _=p.flowchartRenderAdapter.getElements(v);_.length!==0&&(0,m.G)(E+"/dist/js/flowchart.js/flowchart.min.js","vditorFlowchartScript").then(function(){_.forEach(function(L){if(L.getAttribute("data-processed")!=="true"){var O=flowchart.parse(p.flowchartRenderAdapter.getCode(L));L.innerHTML="",O.drawSVG(L),L.setAttribute("data-processed","true")}})})}},218:(b,y,h)=>{h.d(y,{v:()=>w});var u=h(54),m=h(526),p=h(156),w=function(v,E){E===void 0&&(E=u.g.CDN);var _=p.graphvizRenderAdapter.getElements(v);_.length!==0&&(0,m.G)(E+"/dist/js/graphviz/viz.js","vditorGraphVizScript").then(function(){_.forEach(function(L){var O=p.graphvizRenderAdapter.getCode(L);if(!L.parentElement.classList.contains("vditor-wysiwyg__pre")&&!L.parentElement.classList.contains("vditor-ir__marker--pre")&&L.getAttribute("data-processed")!=="true"&&O.trim()!==""){try{var N=new Blob(["importScripts('"+document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js")+"');"],{type:"application/javascript"}),I=(window.URL||window.webkitURL).createObjectURL(N),A=new Worker(I);new Viz({worker:A}).renderSVGElement(O).then(function(H){L.innerHTML=H.outerHTML}).catch(function(H){L.innerHTML="graphviz render error: <br>"+H,L.className="vditor-reset--error"})}catch(H){console.error("graphviz error",H)}L.setAttribute("data-processed","true")}})})}},702:(b,y,h)=>{h.d(y,{s:()=>w});var u=h(54),m=h(526),p=h(578),w=function(v,E,_){E===void 0&&(E=document),_===void 0&&(_=u.g.CDN);var L=v.style;u.g.CODE_THEME.includes(L)||(L="github");var O=document.getElementById("vditorHljsStyle"),N=_+"/dist/js/highlight.js/styles/"+L+".css";O&&O.href!==N&&O.remove(),(0,p.c)(_+"/dist/js/highlight.js/styles/"+L+".css","vditorHljsStyle"),v.enable!==!1&&E.querySelectorAll("pre > code").length!==0&&(0,m.G)(_+"/dist/js/highlight.js/highlight.pack.js","vditorHljsScript").then(function(){(0,m.G)(_+"/dist/js/highlight.js/solidity.min.js","vditorHljsSolidityScript").then(function(){(0,m.G)(_+"/dist/js/highlight.js/yul.min.js","vditorHljsYulScript").then(function(){E.querySelectorAll("pre > code").forEach(function(I){if(!I.parentElement.classList.contains("vditor-ir__marker--pre")&&!I.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(I.classList.contains("language-mermaid")||I.classList.contains("language-flowchart")||I.classList.contains("language-echarts")||I.classList.contains("language-mindmap")||I.classList.contains("language-plantuml")||I.classList.contains("language-abc")||I.classList.contains("language-graphviz")||I.classList.contains("language-math"))&&(hljs.highlightElement(I),v.lineNumber)){I.classList.add("vditor-linenumber");var A=I.querySelector(".vditor-linenumber__temp");A||((A=document.createElement("div")).className="vditor-linenumber__temp",I.insertAdjacentElement("beforeend",A));var H=getComputedStyle(I).whiteSpace,k=!1;H!=="pre-wrap"&&H!=="pre-line"||(k=!0);var F="",q=I.textContent.split(/\r\n|\r|\n/g);q.pop(),q.map(function(J){var Y="";k&&(A.textContent=J||`
`,Y=' style="height:'+A.getBoundingClientRect().height+'px"'),F+="<span"+Y+"></span>"}),A.style.display="none",F='<span class="vditor-linenumber__rows">'+F+"</span>",I.insertAdjacentHTML("beforeend",F)}})})})})}},563:(b,y,h)=>{h.d(y,{K:()=>E});var u=h(54),m=h(526),p=h(156),w={},v=function(_,L){var O=window.markmap,N=O.Transformer,I=O.Markmap,A=O.deriveOptions,H=(O.globalCSS,new N);_.innerHTML='<svg style="width:100%"></svg>';var k=_.firstChild,F=I.create(k,null),q=function($,_e){var xe=$.transform(_e),Ne=Object.keys(xe.features).filter(function(Ue){return!w[Ue]});Ne.forEach(function(Ue){w[Ue]=!0});var Se=$.getAssets(Ne),Ae=Se.styles,ke=Se.scripts,dt=window.markmap;return Ae&&dt.loadCSS(Ae),ke&&dt.loadJS(ke),xe}(H,L),J=q.root,Y=q.frontmatter,ue=A(Y==null?void 0:Y.markmap);F.setData(J,ue),F.fit()},E=function(_,L,O){L===void 0&&(L=u.g.CDN);var N=p.markmapRenderAdapter.getElements(_);N.length!==0&&(0,m.G)(L+"/src/js/markmap/markmap.min.js","vditorMermaidScript").then(function(){N.forEach(function(I){var A=p.markmapRenderAdapter.getCode(I);if(I.getAttribute("data-processed")!=="true"&&A.trim()!==""){var H=document.createElement("div");H.className="language-markmap",I.parentNode.appendChild(H),v(H,A),I.parentNode.childNodes[0].nodeName=="CODE"&&I.parentNode.removeChild(I.parentNode.childNodes[0])}})})}},466:(b,y,h)=>{h.d(y,{H:()=>E});var u=h(54),m=h(526),p=h(578),w=h(51),v=h(156),E=function(_,L){var O=v.mathRenderAdapter.getElements(_);if(O.length!==0){var N={cdn:u.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(L&&L.math&&(L.math=Object.assign({},N.math,L.math)),(L=Object.assign({},N,L)).math.engine==="KaTeX")(0,p.c)(L.cdn+"/dist/js/katex/katex.min.css","vditorKatexStyle"),(0,m.G)(L.cdn+"/dist/js/katex/katex.min.js","vditorKatexScript").then(function(){(0,m.G)(L.cdn+"/dist/js/katex/mhchem.min.js","vditorKatexChemScript").then(function(){O.forEach(function(A){if(!A.parentElement.classList.contains("vditor-wysiwyg__pre")&&!A.parentElement.classList.contains("vditor-ir__marker--pre")&&!A.getAttribute("data-math")){var H=(0,w.X)(v.mathRenderAdapter.getCode(A));A.setAttribute("data-math",H);try{A.innerHTML=katex.renderToString(H,{displayMode:A.tagName==="DIV",output:"html"})}catch(k){A.innerHTML=k.message,A.className="language-math vditor-reset--error"}A.addEventListener("copy",function(k){k.stopPropagation(),k.preventDefault();var F=k.currentTarget.closest(".language-math");k.clipboardData.setData("text/html",F.innerHTML),k.clipboardData.setData("text/plain",F.getAttribute("data-math"))})}})})});else if(L.math.engine==="MathJax"){window.MathJax||(window.MathJax={loader:{paths:{mathjax:L.cdn+"/dist/js/mathjax"}},startup:{typeset:!1},tex:{macros:L.math.macros}}),(0,m.J)(L.cdn+"/dist/js/mathjax/tex-svg-full.js","protyleMathJaxScript");var I=function(A,H){var k=(0,w.X)(A.textContent).trim(),F=window.MathJax.getMetricsFor(A);F.display=A.tagName==="DIV",window.MathJax.tex2svgPromise(k,F).then(function(q){A.innerHTML="",A.setAttribute("data-math",k),A.append(q),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var J=q.querySelector('[data-mml-node="merror"]');J&&J.textContent.trim()!==""&&(A.innerHTML=J.textContent.trim(),A.className="vditor-reset--error"),H&&H()})};window.MathJax.startup.promise.then(function(){for(var A=[],H=function(F){var q=O[F];q.parentElement.classList.contains("vditor-wysiwyg__pre")||q.parentElement.classList.contains("vditor-ir__marker--pre")||q.getAttribute("data-math")||!(0,w.X)(q.textContent).trim()||A.push(function(J){F===O.length-1?I(q):I(q,J)})},k=0;k<O.length;k++)H(k);(function(F){if(F.length!==0){var q=0,J=F[F.length-1],Y=function(){var ue=F[q++];ue===J?ue():ue(Y)};Y()}})(A)})}}}},554:(b,y,h)=>{h.d(y,{Y:()=>u});var u=function(m){m&&m.querySelectorAll("a").forEach(function(p){var w=p.getAttribute("href");w&&(w.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(v,E){v.insertAdjacentHTML("afterend",'<video controls="controls" src="'+E+'"></video>'),v.remove()}(p,w):w.match(/^.+.(mp3|wav|flac)$/)?function(v,E){v.insertAdjacentHTML("afterend",'<audio controls="controls" src="'+E+'"></audio>'),v.remove()}(p,w):function(v,E){var _=E.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),L=E.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),O=E.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),N=E.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),I=E.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),A=E.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),H=E.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),k=E.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);_&&_[1].length===11?(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'+_[1]+(_[2]?"?start="+_[2]:"")+'"></iframe>'),v.remove()):L&&L[1]?(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'+L[1]+'"></iframe>'),v.remove()):O&&O[1]?(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='+O[1]+'"></iframe>'),v.remove()):N&&N[1]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`+N[1]+'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>'),v.remove()):I&&I[0]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`+encodeURIComponent(I[0])+'"></iframe>'),v.remove()):A&&A[2]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`+A[2]+'"></iframe>'),v.remove()):H&&H[1]?(v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//player.bilibili.com/player.html?bvid=`+H[1]+'"></iframe>'),v.remove()):k&&k[1]&&(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'+k[1]+'"></iframe>'),v.remove())}(p,w))})}},40:(b,y,h)=>{h.d(y,{i:()=>w});var u=h(54),m=h(526),p=h(156),w=function(v,E,_){E===void 0&&(E=u.g.CDN);var L=p.mermaidRenderAdapter.getElements(v);L.length!==0&&(0,m.G)(E+"/dist/js/mermaid/mermaid.min.js","vditorMermaidScript").then(function(){var O={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8},gantt:{leftPadding:75,rightPadding:20}};_==="dark"&&(O.theme="dark"),mermaid.initialize(O),L.forEach(function(N){var I=p.mermaidRenderAdapter.getCode(N);N.getAttribute("data-processed")!=="true"&&I.trim()!==""&&(mermaid.init(void 0,N),N.setAttribute("data-processed","true"))})})}},749:(b,y,h)=>{h.d(y,{P:()=>w});var u=h(54),m=h(526),p=h(156),w=function(v,E,_){v===void 0&&(v=document),E===void 0&&(E=u.g.CDN);var L=p.mindmapRenderAdapter.getElements(v);L.length>0&&(0,m.G)(E+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){L.forEach(function(O){if(!O.parentElement.classList.contains("vditor-wysiwyg__pre")&&!O.parentElement.classList.contains("vditor-ir__marker--pre")){var N=p.mindmapRenderAdapter.getCode(O);if(N)try{if(O.getAttribute("data-processed")==="true")return;echarts.init(O,_==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(N))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(I,A){var H;return!((H=A==null?void 0:A.data)===null||H===void 0)&&H.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),O.setAttribute("data-processed","true")}catch(I){O.className="vditor-reset--error",O.innerHTML="mindmap render error: <br>"+I}}})})}},818:(b,y,h)=>{h.d(y,{k:()=>p});var u=h(64),m=h(466),p=function(w,v,E){var _="",L=[];if(Array.from(w.children).forEach(function(A,H){if((0,u.W)(A)){if(E){var k=A.id.lastIndexOf("_");A.id=A.id.substring(0,k===-1?void 0:k)+"_"+H}L.push(A.id),_+=A.outerHTML.replace("<wbr>","")}}),_==="")return v.innerHTML="","";var O=document.createElement("div");if(E)E.lute.SetToC(!0),E.currentMode!=="wysiwyg"||E.preview.element.contains(w)?E.currentMode!=="ir"||E.preview.element.contains(w)?O.innerHTML=E.lute.HTML2VditorDOM("<p>[ToC]</p>"+_):O.innerHTML=E.lute.SpinVditorIRDOM("<p>[ToC]</p>"+_):O.innerHTML=E.lute.SpinVditorDOM("<p>[ToC]</p>"+_),E.lute.SetToC(E.options.preview.markdown.toc);else{v.classList.add("vditor-outline");var N=Lute.New();N.SetToC(!0),O.innerHTML=N.HTML2VditorDOM("<p>[ToC]</p>"+_)}var I=O.firstElementChild.querySelectorAll("li > span[data-target-id]");return I.forEach(function(A,H){if(A.nextElementSibling&&A.nextElementSibling.tagName==="UL"){var k="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(k='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),A.innerHTML=k+"<span>"+A.innerHTML+"</span>"}else A.innerHTML="<svg></svg><span>"+A.innerHTML+"</span>";A.setAttribute("data-target-id",L[H])}),_=O.firstElementChild.innerHTML,I.length===0?(v.innerHTML="",_):(v.innerHTML=_,E&&(0,m.H)(v,{cdn:E.options.cdn,math:E.options.preview.math}),v.firstElementChild.addEventListener("click",function(A){for(var H=A.target;H&&!H.isEqualNode(v);){if(H.classList.contains("vditor-outline__action")){H.classList.contains("vditor-outline__action--close")?(H.classList.remove("vditor-outline__action--close"),H.parentElement.nextElementSibling.setAttribute("style","display:block")):(H.classList.add("vditor-outline__action--close"),H.parentElement.nextElementSibling.setAttribute("style","display:none")),A.preventDefault(),A.stopPropagation();break}if(H.getAttribute("data-target-id")){A.preventDefault(),A.stopPropagation();var k=document.getElementById(H.getAttribute("data-target-id"));if(!k)return;if(E)if(E.options.height==="auto"){var F=k.offsetTop+E.element.offsetTop;E.options.toolbarConfig.pin||(F+=E.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,F)}else E.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,E.element.offsetTop),E.preview.element.contains(w)?w.parentElement.scrollTop=k.offsetTop:w.scrollTop=k.offsetTop;else window.scrollTo(window.scrollX,k.offsetTop);break}H=H.parentElement}}),_)}},408:(b,y,h)=>{h.d(y,{B:()=>w});var u=h(54),m=h(526),p=h(156),w=function(v,E){v===void 0&&(v=document),E===void 0&&(E=u.g.CDN);var _=p.plantumlRenderAdapter.getElements(v);_.length!==0&&(0,m.G)(E+"/dist/js/plantuml/plantuml-encoder.min.js","vditorPlantumlScript").then(function(){_.forEach(function(L){if(!L.parentElement.classList.contains("vditor-wysiwyg__pre")&&!L.parentElement.classList.contains("vditor-ir__marker--pre")){var O=p.plantumlRenderAdapter.getCode(L).trim();if(O)try{L.innerHTML='<img src="http://www.plantuml.com/plantuml/svg/~1'+plantumlEncoder.encode(O)+'">'}catch(N){L.className="vditor-reset--error",L.innerHTML="plantuml render error: <br>"+N}}})})}},895:(b,y,h)=>{h.d(y,{X:()=>u});var u=function(m){var p=Lute.New();return p.PutEmojis(m.emojis),p.SetEmojiSite(m.emojiSite),p.SetHeadingAnchor(m.headingAnchor),p.SetInlineMathAllowDigitAfterOpenMarker(m.inlineMathDigit),p.SetAutoSpace(m.autoSpace),p.SetToC(m.toc),p.SetFootnotes(m.footnotes),p.SetFixTermTypo(m.fixTermTypo),p.SetVditorCodeBlockPreview(m.codeBlockPreview),p.SetVditorMathBlockPreview(m.mathBlockPreview),p.SetSanitize(m.sanitize),p.SetChineseParagraphBeginningSpace(m.paragraphBeginningSpace),p.SetRenderListStyle(m.listStyle),p.SetLinkBase(m.linkBase),p.SetLinkPrefix(m.linkPrefix),p.SetMark(m.mark),m.lazyLoadImage&&p.SetImageLazyLoading(m.lazyLoadImage),p}},863:(b,y,h)=>{h.d(y,{E:()=>u});var u=function(m,p,w){w===void 0&&(w="classic");var v=m.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'+(w==="dark"?" vditor--dark":"")+`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `+window.VditorI18n.spin+`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`+window.VditorI18n.close+`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `+m.width+"px;height:"+m.height+"px;transform: translate3d("+v.left+"px, "+(v.top-36)+'px, 0)" src="'+m.getAttribute("src")+`">
    </div>
</div>`),document.body.style.overflow="hidden";var E=document.querySelector(".vditor-img img"),_="translate3d("+Math.max(0,window.innerWidth-m.naturalWidth)/2+"px, "+Math.max(0,window.innerHeight-36-m.naturalHeight)/2+"px, 0)";setTimeout(function(){E.setAttribute("style","transition: transform .3s ease-in-out;transform: "+_),setTimeout(function(){E.parentElement.scrollTo((E.parentElement.scrollWidth-E.parentElement.clientWidth)/2,(E.parentElement.scrollHeight-E.parentElement.clientHeight)/2)},400)});var L=document.querySelector(".vditor-img__btn");L.addEventListener("click",function(){var O=parseInt(L.getAttribute("data-deg"),10)+90;O/90%2==1&&m.naturalWidth>E.parentElement.clientHeight?E.style.transform="translate3d("+Math.max(0,window.innerWidth-m.naturalWidth)/2+"px, "+(m.naturalWidth/2-m.naturalHeight/2)+"px, 0) rotateZ("+O+"deg)":E.style.transform=_+" rotateZ("+O+"deg)",L.setAttribute("data-deg",O.toString()),setTimeout(function(){E.parentElement.scrollTo((E.parentElement.scrollWidth-E.parentElement.clientWidth)/2,(E.parentElement.scrollHeight-E.parentElement.clientHeight)/2)},400)})}},312:(b,y,h)=>{h.d(y,{Y:()=>p});var u=h(54),m=h(578),p=function(w,v){v===void 0&&(v=u.g.CDN),u.g.CODE_THEME.includes(w)||(w="github");var E=document.getElementById("vditorHljsStyle"),_=v+"/dist/js/highlight.js/styles/"+w+".css";E?E.href!==_&&(E.remove(),(0,m.c)(_,"vditorHljsStyle")):(0,m.c)(_,"vditorHljsStyle")}},227:(b,y,h)=>{h.d(y,{Z:()=>m});var u=h(578),m=function(p,w){if(p&&w){var v=document.getElementById("vditorContentTheme"),E=w+"/"+p+".css";v?v.getAttribute("href")!==E&&(v.remove(),(0,u.c)(E,"vditorContentTheme")):(0,u.c)(E,"vditorContentTheme")}}},526:(b,y,h)=>{h.d(y,{J:()=>u,G:()=>m});var u=function(p,w){if(document.getElementById(w))return!1;var v=new XMLHttpRequest;v.open("GET",p,!1),v.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),v.send("");var E=document.createElement("script");E.type="text/javascript",E.text=v.responseText,E.id=w,document.head.appendChild(E)},m=function(p,w){return new Promise(function(v,E){if(document.getElementById(w))return v(),!1;var _=document.createElement("script");_.src=p,_.async=!0,document.head.appendChild(_),_.onload=function(){if(document.getElementById(w))return _.remove(),v(),!1;_.id=w,v()}})}},578:(b,y,h)=>{h.d(y,{c:()=>u});var u=function(m,p){if(!document.getElementById(p)){var w=document.createElement("link");w.id=p,w.rel="stylesheet",w.type="text/css",w.href=m,document.getElementsByTagName("head")[0].appendChild(w)}}},51:(b,y,h)=>{h.d(y,{X:()=>u});var u=function(m){return m.replace(/\u00a0/g," ")}},794:(b,y,h)=>{h.d(y,{G6:()=>u,vU:()=>m,pK:()=>p,Le:()=>w,yl:()=>v,ns:()=>E,i7:()=>_});var u=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},m=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},p=function(){try{return typeof localStorage<"u"}catch{return!1}},w=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},v=function(L){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!(!L.metaKey||L.ctrlKey):!(L.metaKey||!L.ctrlKey)},E=function(L){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?L.indexOf("\u21E7")>-1&&m()&&(L=L.replace(";",":").replace("=","+").replace("-","_")):(L=(L=L.startsWith("\u2318")?L.replace("\u2318","\u2318+"):L.startsWith("\u2325")&&L.substr(1,1)!=="\u2318"?L.replace("\u2325","\u2325+"):L.replace("\u21E7\u2318","\u2318+\u21E7+").replace("\u2325\u2318","\u2325+\u2318+")).replace("\u2318","Ctrl").replace("\u21E7","Shift").replace("\u2325","Alt")).indexOf("Shift")>-1&&(L=L.replace(";",":").replace("=","+").replace("-","_")),L},_=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},827:(b,y,h)=>{h.d(y,{JQ:()=>m,E2:()=>p,O9:()=>w,a1:()=>v,F9:()=>E,lG:()=>_,fb:()=>L,DX:()=>O});var u=h(64),m=function(N,I){for(var A=L(N,I),H=!1,k=!1;A&&!A.classList.contains("vditor-reset")&&!k;)(H=L(A.parentElement,I))?A=H:k=!0;return A||!1},p=function(N,I){for(var A=(0,u.S)(N,I),H=!1,k=!1;A&&!A.classList.contains("vditor-reset")&&!k;)(H=(0,u.S)(A.parentElement,I))?A=H:k=!0;return A||!1},w=function(N){var I=p(N,"UL"),A=p(N,"OL"),H=I;return A&&(!I||I&&A.contains(I))&&(H=A),H},v=function(N,I,A){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var H=N,k=!1;H&&!k&&!H.classList.contains("vditor-reset");)H.getAttribute(I)===A?k=!0:H=H.parentElement;return k&&H},E=function(N){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);var I=N,A=!1,H=v(N,"data-block","0");if(H)return H;for(;I&&!A&&!I.classList.contains("vditor-reset");)I.tagName==="H1"||I.tagName==="H2"||I.tagName==="H3"||I.tagName==="H4"||I.tagName==="H5"||I.tagName==="H6"||I.tagName==="P"||I.tagName==="BLOCKQUOTE"||I.tagName==="OL"||I.tagName==="UL"?A=!0:I=I.parentElement;return A&&I},_=function(N,I){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var A=N,H=!1;A&&!H&&!A.classList.contains("vditor-reset");)A.nodeName===I?H=!0:A=A.parentElement;return H&&A},L=function(N,I){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var A=N,H=!1;A&&!H&&!A.classList.contains("vditor-reset");)A.classList.contains(I)?H=!0:A=A.parentElement;return H&&A},O=function(N){for(;N&&N.lastChild;)N=N.lastChild;return N}},64:(b,y,h)=>{h.d(y,{S:()=>u,W:()=>m});var u=function(p,w){if(!p)return!1;p.nodeType===3&&(p=p.parentElement);for(var v=p,E=!1;v&&!E&&!v.classList.contains("vditor-reset");)v.nodeName.indexOf(w)===0?E=!0:v=v.parentElement;return E&&v},m=function(p){var w=u(p,"H");return!(!w||w.tagName.length!==2||w.tagName==="HR")&&w}},640:(b,y,h)=>{h.d(y,{T:()=>u});var u=function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];for(var w={},v=function(_){for(var L in _)_.hasOwnProperty(L)&&(Object.prototype.toString.call(_[L])==="[object Object]"?w[L]=u(w[L],_[L]):w[L]=_[L])},E=0;E<m.length;E++)v(m[E]);return w}},393:(b,y,h)=>{h.d(y,{zh:()=>w,Ny:()=>v,Gb:()=>E,Hc:()=>_,im:()=>L,$j:()=>O,ib:()=>N,oC:()=>I});var u=h(54),m=h(794),p=h(827),w=function(A){var H,k=A[A.currentMode].element;return getSelection().rangeCount>0&&(H=getSelection().getRangeAt(0),k.isEqualNode(H.startContainer)||k.contains(H.startContainer))?H:A[A.currentMode].range?A[A.currentMode].range:(k.focus(),(H=k.ownerDocument.createRange()).setStart(k,0),H.collapse(!0),H)},v=function(A){var H=window.getSelection().getRangeAt(0);if(!A.contains(H.startContainer)&&!(0,p.fb)(H.startContainer,"vditor-panel--none"))return{left:0,top:0};var k,F=A.parentElement.getBoundingClientRect();if(H.getClientRects().length===0)if(H.startContainer.nodeType===3){var q=H.startContainer.parentElement;if(!(q&&q.getClientRects().length>0))return{left:0,top:0};k=q.getClientRects()[0]}else{var J=H.startContainer.children;if(J[H.startOffset]&&J[H.startOffset].getClientRects().length>0)k=J[H.startOffset].getClientRects()[0];else if(H.startContainer.childNodes.length>0){var Y=H.cloneRange();H.selectNode(H.startContainer.childNodes[Math.max(0,H.startOffset-1)]),k=H.getClientRects()[0],H.setEnd(Y.endContainer,Y.endOffset),H.setStart(Y.startContainer,Y.startOffset)}else k=H.startContainer.getClientRects()[0];if(!k){for(var ue=H.startContainer.childNodes[H.startOffset];!ue.getClientRects||ue.getClientRects&&ue.getClientRects().length===0;)ue=ue.parentElement;k=ue.getClientRects()[0]}}else k=H.getClientRects()[0];return{left:k.left-F.left,top:k.top-F.top}},E=function(A,H){if(!H){if(getSelection().rangeCount===0)return!1;H=getSelection().getRangeAt(0)}var k=H.commonAncestorContainer;return A.isEqualNode(k)||A.contains(k)},_=function(A){var H=window.getSelection();H.removeAllRanges(),H.addRange(A)},L=function(A,H,k){var F={end:0,start:0};if(!k){if(getSelection().rangeCount===0)return F;k=window.getSelection().getRangeAt(0)}if(E(H,k)){var q=k.cloneRange();A.childNodes[0]&&A.childNodes[0].childNodes[0]?q.setStart(A.childNodes[0].childNodes[0],0):q.selectNodeContents(A),q.setEnd(k.startContainer,k.startOffset),F.start=q.toString().length,F.end=F.start+k.toString().length}return F},O=function(A,H,k){var F=0,q=0,J=k.childNodes[q],Y=!1,ue=!1;A=Math.max(0,A),H=Math.max(0,H);var $=k.ownerDocument.createRange();for($.setStart(J||k,0),$.collapse(!0);!ue&&J;){var _e=F+J.textContent.length;if(!Y&&A>=F&&A<=_e&&(A===0?$.setStart(J,0):J.childNodes[0].nodeType===3?$.setStart(J.childNodes[0],A-F):J.nextSibling?$.setStartBefore(J.nextSibling):$.setStartAfter(J),Y=!0,A===H)){ue=!0;break}Y&&H>=F&&H<=_e&&(H===0?$.setEnd(J,0):J.childNodes[0].nodeType===3?$.setEnd(J.childNodes[0],H-F):J.nextSibling?$.setEndBefore(J.nextSibling):$.setEndAfter(J),ue=!0),F=_e,J=k.childNodes[++q]}return!ue&&k.childNodes[q-1]&&$.setStartBefore(k.childNodes[q-1]),_($),$},N=function(A,H){var k=A.querySelector("wbr");if(k){if(k.previousElementSibling)if(k.previousElementSibling.isSameNode(k.previousSibling)){if(k.previousElementSibling.lastChild)return H.setStartBefore(k),H.collapse(!0),_(H),!(0,m.i7)()||k.previousElementSibling.tagName!=="EM"&&k.previousElementSibling.tagName!=="STRONG"&&k.previousElementSibling.tagName!=="S"||(H.insertNode(document.createTextNode(u.g.ZWSP)),H.collapse(!1)),void k.remove();H.setStartAfter(k.previousElementSibling)}else H.setStart(k.previousSibling,k.previousSibling.textContent.length);else k.previousSibling?H.setStart(k.previousSibling,k.previousSibling.textContent.length):k.nextSibling?k.nextSibling.nodeType===3?H.setStart(k.nextSibling,0):H.setStartBefore(k.nextSibling):H.setStart(k.parentElement,0);H.collapse(!0),k.remove(),_(H)}},I=function(A,H){var k=document.createElement("div");k.innerHTML=A;var F=k.querySelectorAll("p");F.length===1&&!F[0].previousSibling&&!F[0].nextSibling&&H[H.currentMode].element.children.length>0&&k.firstElementChild.tagName==="P"&&(A=F[0].innerHTML.trim());var q=document.createElement("div");q.innerHTML=A;var J=w(H);if(J.toString()!==""&&(H[H.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),q.firstElementChild&&q.firstElementChild.getAttribute("data-block")==="0"){q.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var Y=(0,p.F9)(J.startContainer);Y?Y.insertAdjacentHTML("afterend",q.innerHTML):H[H.currentMode].element.insertAdjacentHTML("beforeend",q.innerHTML),N(H[H.currentMode].element,J)}else{var ue=document.createElement("template");ue.innerHTML=A,J.insertNode(ue.content.cloneNode(!0)),J.collapse(!1),_(J)}}}},c={};function f(b){var y=c[b];if(y!==void 0)return y.exports;var h=c[b]={exports:{}};return a[b](h,h.exports,f),h.exports}f.d=(b,y)=>{for(var h in y)f.o(y,h)&&!f.o(b,h)&&Object.defineProperty(b,h,{enumerable:!0,get:y[h]})},f.o=(b,y)=>Object.prototype.hasOwnProperty.call(b,y),f.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var g={};return(()=>{f.d(g,{default:()=>Ac});var b,y=f(872),h=f(54),u=f(51),m=function(t){return t.currentMode==="sv"?(0,u.X)((t.sv.element.textContent+`
`).replace(/\n\n$/,`
`)):t.currentMode==="wysiwyg"?t.lute.VditorDOM2Md(t.wysiwyg.element.innerHTML):t.currentMode==="ir"?t.lute.VditorIRDOM2Md(t.ir.element.innerHTML):""},p=f(526),w=function(){function t(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return t.prototype.renderEchart=function(n){var r=this;n.devtools.element.style.display==="block"&&(0,p.G)(n.options.cdn+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){r.ASTChart||(r.ASTChart=echarts.init(n.devtools.element.lastElementChild));try{r.element.lastElementChild.style.display="block",r.element.firstElementChild.innerHTML="",r.ASTChart.setOption({series:[{data:JSON.parse(n.lute.RenderEChartsJSON(m(n))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),r.ASTChart.resize()}catch(s){r.element.lastElementChild.style.display="none",r.element.firstElementChild.innerHTML=s}})},t}(),v=f(794),E=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&s.classList.contains("vditor-menu--current")&&s.classList.remove("vditor-menu--current")}})},_=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&!s.classList.contains("vditor-menu--current")&&s.classList.add("vditor-menu--current")}})},L=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&s.classList.contains(h.g.CLASS_MENU_DISABLED)&&s.classList.remove(h.g.CLASS_MENU_DISABLED)}})},O=function(t,n){n.forEach(function(r){if(t[r]){var s=t[r].children[0];s&&!s.classList.contains(h.g.CLASS_MENU_DISABLED)&&s.classList.add(h.g.CLASS_MENU_DISABLED)}})},N=function(t,n){n.forEach(function(r){t[r]&&t[r]&&(t[r].style.display="none")})},I=function(t,n){n.forEach(function(r){t[r]&&t[r]&&(t[r].style.display="block")})},A=function(t,n,r){n.includes("subToolbar")&&(t.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(s){r&&s.isEqualNode(r)||(s.style.display="none")}),t.toolbar.elements.emoji&&(t.toolbar.elements.emoji.lastElementChild.style.display="none")),n.includes("hint")&&(t.hint.element.style.display="none"),t.wysiwyg.popover&&n.includes("popover")&&(t.wysiwyg.popover.style.display="none")},H=function(t,n,r,s){r.addEventListener((0,v.Le)(),function(i){i.preventDefault(),i.stopPropagation(),r.classList.contains(h.g.CLASS_MENU_DISABLED)||(t.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(l){l.classList.remove("vditor-hint--current")}),n.style.display==="block"?n.style.display="none":(A(t,["subToolbar","hint","popover"],r.parentElement.parentElement),r.classList.contains("vditor-tooltipped")||r.classList.add("vditor-hint--current"),n.style.display="block",t.toolbar.element.getBoundingClientRect().right-r.getBoundingClientRect().right<250?n.classList.add("vditor-panel--left"):n.classList.remove("vditor-panel--left")))})},k=f(827),F=f(64),q=function(t,n,r,s){s&&console.log(t+" - "+r+": "+n)},J=f(478),Y=f(314),ue=f(730),$=f(66),_e=f(218),xe=f(702),Ne=f(466),Se=f(40),Ae=f(563),ke=f(749),dt=f(408),Ue=function(t,n){if(t)if(t.parentElement.getAttribute("data-type")!=="html-block"){var r=t.firstElementChild.className.replace("language-","");r&&(r==="abc"?(0,J.Q)(t,n.options.cdn):r==="mermaid"?(0,Se.i)(t,n.options.cdn,n.options.theme):r==="markmap"?(0,Ae.K)(t,n.options.cdn,n.options.theme):r==="flowchart"?(0,$.P)(t,n.options.cdn):r==="echarts"?(0,Y.p)(t,n.options.cdn,n.options.theme):r==="mindmap"?(0,ke.P)(t,n.options.cdn,n.options.theme):r==="plantuml"?(0,dt.B)(t,n.options.cdn):r==="graphviz"?(0,_e.v)(t,n.options.cdn):r==="math"?(0,Ne.H)(t,{cdn:n.options.cdn,math:n.options.preview.math}):((0,xe.s)(Object.assign({},n.options.preview.hljs),t,n.options.cdn),(0,ue.O)(t)),t.setAttribute("data-render","1"))}else t.setAttribute("data-render","1")},P=f(393),Xe=function(t){if(t.currentMode!=="sv"){var n=t[t.currentMode].element,r=t.outline.render(t);r===""&&(r="[ToC]"),n.querySelectorAll('[data-type="toc-block"]').forEach(function(s){s.innerHTML=r,(0,Ne.H)(s,{cdn:t.options.cdn,math:t.options.preview.math})})}},rn=function(t,n){var r=(0,k.lG)(t.target,"SPAN");if(r&&(0,k.fb)(r,"vditor-toc")){var s=n[n.currentMode].element.querySelector("#"+r.getAttribute("data-target-id"));if(s)if(n.options.height==="auto"){var i=s.offsetTop+n.element.offsetTop;n.options.toolbarConfig.pin||(i+=n.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,i)}else n.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,n.element.offsetTop),n[n.currentMode].element.scrollTop=s.offsetTop}},fe=function(t,n,r,s){if(t.previousElementSibling&&t.previousElementSibling.classList.contains("vditor-toc")){if(r.key==="Backspace"&&(0,P.im)(t,n[n.currentMode].element,s).start===0)return t.previousElementSibling.remove(),Oe(n),!0;if(bn(n,r,s,t,t.previousElementSibling))return!0}if(t.nextElementSibling&&t.nextElementSibling.classList.contains("vditor-toc")){if(r.key==="Delete"&&(0,P.im)(t,n[n.currentMode].element,s).start>=t.textContent.trimRight().length)return t.nextElementSibling.remove(),Oe(n),!0;if(qn(n,r,s,t,t.nextElementSibling))return!0}if(r.key==="Backspace"||r.key==="Delete"){var i=(0,k.fb)(s.startContainer,"vditor-toc");if(i)return i.remove(),Oe(n),!0}},Be=function(t,n,r,s){r===void 0&&(r=!1);var i=(0,k.F9)(n.startContainer);if(i&&!r&&i.getAttribute("data-type")!=="code-block"){if(ri(i.innerHTML)&&i.previousElementSibling||ii(i.innerHTML))return;for(var l=(0,P.im)(i,t.ir.element,n).start,d=!0,C=l-1;C>i.textContent.substr(0,l).lastIndexOf(`
`);C--)if(i.textContent.charAt(C)!==" "&&i.textContent.charAt(C)!=="	"){d=!1;break}l===0&&(d=!1);var T=!0;for(C=l-1;C<i.textContent.length;C++)if(i.textContent.charAt(C)!==" "&&i.textContent.charAt(C)!==`
`){T=!1;break}if(d)return void(typeof t.options.input=="function"&&t.options.input(m(t)));if(T&&!(0,k.fb)(n.startContainer,"vditor-ir__marker")){var S=n.startContainer.previousSibling;return S&&S.nodeType!==3&&S.classList.contains("vditor-ir__node--expand")&&S.classList.remove("vditor-ir__node--expand"),void(typeof t.options.input=="function"&&t.options.input(m(t)))}}if(t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(de){de.classList.remove("vditor-ir__node--expand")}),i||(i=t.ir.element),!i.querySelector("wbr")){var x=(0,k.fb)(n.startContainer,"vditor-ir__preview");x?x.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):n.insertNode(document.createElement("wbr"))}i.querySelectorAll("[style]").forEach(function(de){de.removeAttribute("style")}),i.getAttribute("data-type")==="link-ref-defs-block"&&(i=t.ir.element);var B,Z=i.isEqualNode(t.ir.element),ee=(0,k.a1)(i,"data-type","footnotes-block"),j="";if(Z)j=i.innerHTML;else{var z=(0,F.S)(n.startContainer,"BLOCKQUOTE"),le=(0,k.O9)(n.startContainer);if(le&&(i=le),z&&(!le||le&&!z.contains(le))&&(i=z),ee&&(i=ee),j=i.outerHTML,i.tagName==="UL"||i.tagName==="OL"){var se=i.previousElementSibling,ie=i.nextElementSibling;!se||se.tagName!=="UL"&&se.tagName!=="OL"||(j=se.outerHTML+j,se.remove()),!ie||ie.tagName!=="UL"&&ie.tagName!=="OL"||(j+=ie.outerHTML,ie.remove()),j=j.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else i.previousElementSibling&&i.previousElementSibling.textContent.replace(h.g.ZWSP,"")!==""&&s&&s.inputType==="insertParagraph"&&(j=i.previousElementSibling.outerHTML+j,i.previousElementSibling.remove());i.innerText.startsWith("```")||(t.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(de){de&&!i.isEqualNode(de)&&(j+=de.outerHTML,de.remove())}),t.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(de){de&&!i.isEqualNode(de)&&(j+=de.outerHTML,de.remove())}))}if(q("SpinVditorIRDOM",j,"argument",t.options.debugger),j=t.lute.SpinVditorIRDOM(j),q("SpinVditorIRDOM",j,"result",t.options.debugger),Z)i.innerHTML=j;else if(i.outerHTML=j,ee){var re=(0,k.a1)(t.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(re){var U=re.textContent,ce=U.substring(1,U.indexOf("]:")),we=t.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+ce+'"]');we&&we.setAttribute("aria-label",U.substr(ce.length+3).trim().substr(0,24))}}var he,be=t.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");be.forEach(function(de,Le){Le===0?B=de:(B.insertAdjacentHTML("beforeend",de.innerHTML),de.remove())}),be.length>0&&t.ir.element.insertAdjacentElement("beforeend",be[0]);var ye=t.ir.element.querySelectorAll("[data-type='footnotes-block']");ye.forEach(function(de,Le){Le===0?he=de:(he.insertAdjacentHTML("beforeend",de.innerHTML),de.remove())}),ye.length>0&&t.ir.element.insertAdjacentElement("beforeend",ye[0]),(0,P.ib)(t.ir.element,n),t.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(de){Ue(de,t)}),Xe(t),jt(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Q=function(t,n){if(t==="")return!1;if(t.indexOf("\u21E7")===-1&&t.indexOf("\u2318")===-1&&t.indexOf("\u2325")===-1)return!((0,v.yl)(n)||n.altKey||n.shiftKey||n.code!==t);if(t==="\u21E7Tab")return!((0,v.yl)(n)||n.altKey||!n.shiftKey||n.code!=="Tab");var r=t.split("");if(t.startsWith("\u2325")){var s=r.length===3?r[2]:r[1];return!((r.length===3?!(0,v.yl)(n):(0,v.yl)(n))||!n.altKey||n.shiftKey||n.code!==(/^[0-9]$/.test(s)?"Digit":"Key")+s)}t==="\u2318Enter"&&(r=["\u2318","Enter"]);var i=r.length>2&&r[0]==="\u21E7",l=i?r[2]:r[1];return!i||!(0,v.vU)()&&/Mac/.test(navigator.platform)||(l==="-"?l="_":l==="="&&(l="+")),!(!(0,v.yl)(n)||n.key.toLowerCase()!==l.toLowerCase()||n.altKey||!(!i&&!n.shiftKey||i&&n.shiftKey))},X=function(t,n){n.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(d){d.classList.remove("vditor-ir__node--expand")});var r=(0,k.JQ)(t.startContainer,"vditor-ir__node"),s=!t.collapsed&&(0,k.JQ)(t.endContainer,"vditor-ir__node");if(t.collapsed||r&&r===s){r&&(r.classList.add("vditor-ir__node--expand"),r.classList.remove("vditor-ir__node--hidden"),(0,P.Hc)(t));var i=function(d){var C=d.startContainer;if(C.nodeType===3&&C.nodeValue.length!==d.startOffset)return!1;for(var T=C.nextSibling;T&&T.textContent==="";)T=T.nextSibling;if(!T){var S=(0,k.fb)(C,"vditor-ir__marker");if(S&&!S.nextSibling){var x=C.parentElement.parentElement.nextSibling;if(x&&x.nodeType!==3&&x.classList.contains("vditor-ir__node"))return x}return!1}return!(!T||T.nodeType===3||!T.classList.contains("vditor-ir__node")||T.getAttribute("data-block"))&&T}(t);if(i)return i.classList.add("vditor-ir__node--expand"),void i.classList.remove("vditor-ir__node--hidden");var l=function(d){var C=d.startContainer,T=C.previousSibling;return!(C.nodeType!==3||d.startOffset!==0||!T||T.nodeType===3||!T.classList.contains("vditor-ir__node")||T.getAttribute("data-block"))&&T}(t);return l?(l.classList.add("vditor-ir__node--expand"),void l.classList.remove("vditor-ir__node--hidden")):void 0}},pe=f(863),Re=function(t,n){var r,s=getSelection().getRangeAt(0).cloneRange(),i=s.startContainer;s.startContainer.nodeType!==3&&s.startContainer.tagName==="DIV"&&(i=s.startContainer.childNodes[s.startOffset-1]);var l=(0,k.a1)(i,"data-block","0");if(l&&n&&(n.inputType==="deleteContentBackward"||n.data===" ")){for(var d=(0,P.im)(l,t.sv.element,s).start,C=!0,T=d-1;T>l.textContent.substr(0,d).lastIndexOf(`
`);T--)if(l.textContent.charAt(T)!==" "&&l.textContent.charAt(T)!=="	"){C=!1;break}if(d===0&&(C=!1),C)return void rt(t);if(n.inputType==="deleteContentBackward"){var S=(0,k.a1)(i,"data-type","code-block-open-marker")||(0,k.a1)(i,"data-type","code-block-close-marker");if(S){var x;if(S.getAttribute("data-type")==="code-block-close-marker"&&(x=sr(i,"code-block-open-marker"))||S.getAttribute("data-type")==="code-block-open-marker"&&(x=sr(i,"code-block-close-marker",!1)))return x.textContent=S.textContent,void rt(t)}var B=(0,k.a1)(i,"data-type","math-block-open-marker");if(B){var Z=B.nextElementSibling.nextElementSibling;return void(Z&&Z.getAttribute("data-type")==="math-block-close-marker"&&(Z.remove(),rt(t)))}l.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(U){U.textContent.length===1&&U.remove()}),l.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(U){U.textContent.length===1&&U.remove()});var ee=(0,k.a1)(i,"data-type","heading-marker");if(ee&&ee.textContent.indexOf("#")===-1)return void rt(t)}if((n.data===" "||n.inputType==="deleteContentBackward")&&((0,k.a1)(i,"data-type","padding")||(0,k.a1)(i,"data-type","li-marker")||(0,k.a1)(i,"data-type","task-marker")||(0,k.a1)(i,"data-type","blockquote-marker")))return void rt(t)}if(l&&l.textContent.trimRight()==="$$")rt(t);else{l||(l=t.sv.element),((r=l.firstElementChild)===null||r===void 0?void 0:r.getAttribute("data-type"))==="link-ref-defs-block"&&(l=t.sv.element),(0,k.a1)(i,"data-type","footnotes-link")&&(l=t.sv.element),l.textContent.indexOf(Lute.Caret)===-1&&s.insertNode(document.createTextNode(Lute.Caret)),l.querySelectorAll("[style]").forEach(function(U){U.removeAttribute("style")}),l.querySelectorAll("font").forEach(function(U){U.outerHTML=U.innerHTML});var j,z=l.textContent,le=l.isEqualNode(t.sv.element);le?z=l.textContent:(l.previousElementSibling&&(z=l.previousElementSibling.textContent+z,l.previousElementSibling.remove()),l.previousElementSibling&&z.indexOf(`---
`)===0&&(z=l.previousElementSibling.textContent+z,l.previousElementSibling.remove()),l.innerText.startsWith("```")||(t.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(U,ce){ce===0&&U&&!l.isEqualNode(U.parentElement)&&(z+=`
`+U.parentElement.textContent,U.parentElement.remove())}),t.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(U,ce){ce===0&&U&&!l.isEqualNode(U.parentElement)&&(z+=`
`+U.parentElement.textContent,U.parentElement.remove())}))),z=uo(z,t),le?l.innerHTML=z:l.outerHTML=z;var se,ie=t.sv.element.querySelectorAll("[data-type='link-ref-defs-block']");ie.forEach(function(U,ce){ce===0?j=U.parentElement:(j.lastElementChild.remove(),j.insertAdjacentHTML("beforeend",""+U.parentElement.innerHTML),U.parentElement.remove())}),ie.length>0&&t.sv.element.insertAdjacentElement("beforeend",j);var re=t.sv.element.querySelectorAll("[data-type='footnotes-link']");re.forEach(function(U,ce){ce===0?se=U.parentElement:(se.lastElementChild.remove(),se.insertAdjacentHTML("beforeend",""+U.parentElement.innerHTML),U.parentElement.remove())}),re.length>0&&t.sv.element.insertAdjacentElement("beforeend",se),(0,P.ib)(t.sv.element,s),tt(t),rt(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})}},De=f(227),Fe=function(t){t.options.theme==="dark"?t.element.classList.add("vditor--dark"):t.element.classList.remove("vditor--dark")},M=function(t){var n=window.innerWidth<=h.g.MOBILE_WIDTH?10:35;if(t.wysiwyg.element.parentElement.style.display!=="none"){var r=(t.wysiwyg.element.parentElement.clientWidth-t.options.preview.maxWidth)/2;t.wysiwyg.element.style.padding="10px "+Math.max(n,r)+"px"}t.ir.element.parentElement.style.display!=="none"&&(r=(t.ir.element.parentElement.clientWidth-t.options.preview.maxWidth)/2,t.ir.element.style.padding="10px "+Math.max(n,r)+"px"),t.preview.element.style.display!=="block"?t.toolbar.element.style.paddingLeft=Math.max(5,parseInt(t[t.currentMode].element.style.paddingLeft||"0",10)+(t.options.outline.position==="left"?t.outline.element.offsetWidth:0))+"px":t.toolbar.element.style.paddingLeft=5+(t.options.outline.position==="left"?t.outline.element.offsetWidth:0)+"px"},D=function(t){if(t.options.typewriterMode){var n=window.innerHeight;typeof t.options.height=="number"?(n=t.options.height,typeof t.options.minHeight=="number"&&(n=Math.max(n,t.options.minHeight)),n=Math.min(window.innerHeight,n)):n=t.element.clientHeight,t.element.classList.contains("vditor--fullscreen")&&(n=window.innerHeight),t[t.currentMode].element.style.setProperty("--editor-bottom",(n-t.toolbar.element.offsetHeight)/2+"px")}};function R(){window.removeEventListener("resize",b)}var K,W,ne=function(t){D(t),R(),window.addEventListener("resize",b=function(){M(t),D(t)});var n=(0,v.pK)()&&localStorage.getItem(t.options.cache.id);return t.options.cache.enable&&n||(t.options.value?n=t.options.value:t.originalInnerHTML?n=t.lute.HTML2Md(t.originalInnerHTML):t.options.cache.enable||(n="")),n||""},ae=function(t){clearTimeout(t[t.currentMode].hlToolbarTimeoutId),t[t.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,P.Gb)(t[t.currentMode].element)){E(t.toolbar.elements,h.g.EDIT_TOOLBARS),L(t.toolbar.elements,h.g.EDIT_TOOLBARS);var n=(0,P.zh)(t),r=n.startContainer;n.startContainer.nodeType===3&&(r=n.startContainer.parentElement),r.classList.contains("vditor-reset")&&(r=r.childNodes[n.startOffset]),(t.currentMode==="sv"?(0,k.a1)(r,"data-type","heading"):(0,F.W)(r))&&_(t.toolbar.elements,["headings"]),(t.currentMode==="sv"?(0,k.a1)(r,"data-type","blockquote"):(0,k.lG)(r,"BLOCKQUOTE"))&&_(t.toolbar.elements,["quote"]),(0,k.a1)(r,"data-type","strong")&&_(t.toolbar.elements,["bold"]),(0,k.a1)(r,"data-type","em")&&_(t.toolbar.elements,["italic"]),(0,k.a1)(r,"data-type","s")&&_(t.toolbar.elements,["strike"]),(0,k.a1)(r,"data-type","a")&&_(t.toolbar.elements,["link"]);var s=(0,k.lG)(r,"LI");s?(s.classList.contains("vditor-task")?_(t.toolbar.elements,["check"]):s.parentElement.tagName==="OL"?_(t.toolbar.elements,["ordered-list"]):s.parentElement.tagName==="UL"&&_(t.toolbar.elements,["list"]),L(t.toolbar.elements,["outdent","indent"])):O(t.toolbar.elements,["outdent","indent"]),(0,k.a1)(r,"data-type","code-block")&&(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),_(t.toolbar.elements,["code"])),(0,k.a1)(r,"data-type","code")&&(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),_(t.toolbar.elements,["inline-code"])),(0,k.a1)(r,"data-type","table")&&O(t.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},V=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),n.enableHint&&t.hint.render(t),clearTimeout(t.wysiwyg.afterRenderTimeoutId),t.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!t.wysiwyg.composingLock){var r=m(t);typeof t.options.input=="function"&&n.enableInput&&t.options.input(r),t.options.counter.enable&&t.counter.render(t,r),t.options.cache.enable&&(0,v.pK)()&&(localStorage.setItem(t.options.cache.id,r),t.options.cache.after&&t.options.cache.after(r)),t.devtools&&t.devtools.renderEchart(t),n.enableAddUndoStack&&t.undo.addToUndoStack(t)}},t.options.undoDelay)},oe=function(t){for(var n="",r=t.nextSibling;r;)r.nodeType===3?n+=r.textContent:n+=r.outerHTML,r=r.nextSibling;return n},G=function(t){for(var n="",r=t.previousSibling;r;)n=r.nodeType===3?r.textContent+n:r.outerHTML+n,r=r.previousSibling;return n},ge=function(t,n){Array.from(t.wysiwyg.element.childNodes).find(function(r){if(r.nodeType===3){var s=document.createElement("p");s.setAttribute("data-block","0"),s.textContent=r.textContent;var i=n.startContainer.nodeType===3?n.startOffset:r.textContent.length;return r.parentNode.insertBefore(s,r),r.remove(),n.setStart(s.firstChild,Math.min(s.firstChild.textContent.length,i)),n.collapse(!0),(0,P.Hc)(n),!0}if(!r.getAttribute("data-block"))return r.tagName==="P"?r.remove():(r.tagName==="DIV"?(n.insertNode(document.createElement("wbr")),r.outerHTML='<p data-block="0">'+r.innerHTML+"</p>"):r.tagName==="BR"?r.outerHTML='<p data-block="0">'+r.outerHTML+"<wbr></p>":(n.insertNode(document.createElement("wbr")),r.outerHTML='<p data-block="0">'+r.outerHTML+"</p>"),(0,P.ib)(t.wysiwyg.element,n),n=getSelection().getRangeAt(0)),!0})},me=function(t,n){var r=(0,P.zh)(t),s=(0,k.F9)(r.startContainer);s||(s=r.startContainer.childNodes[r.startOffset]),s||t.wysiwyg.element.children.length!==0||(s=t.wysiwyg.element),s&&!s.classList.contains("vditor-wysiwyg__block")&&(r.insertNode(document.createElement("wbr")),s.innerHTML.trim()==="<wbr>"&&(s.innerHTML="<wbr><br>"),s.tagName==="BLOCKQUOTE"||s.classList.contains("vditor-reset")?s.innerHTML="<"+n+' data-block="0">'+s.innerHTML.trim()+"</"+n+">":s.outerHTML="<"+n+' data-block="0">'+s.innerHTML.trim()+"</"+n+">",(0,P.ib)(t.wysiwyg.element,r),Xe(t))},ve=function(t){var n=getSelection().getRangeAt(0),r=(0,k.F9)(n.startContainer);r||(r=n.startContainer.childNodes[n.startOffset]),r&&(n.insertNode(document.createElement("wbr")),r.outerHTML='<p data-block="0">'+r.innerHTML+"</p>",(0,P.ib)(t.wysiwyg.element,n)),t.wysiwyg.popover.style.display="none"},Ce=function(t,n,r){r===void 0&&(r=!0);var s=t.previousElementSibling,i=s.ownerDocument.createRange();s.tagName==="CODE"?(s.style.display="inline-block",r?i.setStart(s.firstChild,1):i.selectNodeContents(s)):(s.style.display="block",s.firstChild.firstChild||s.firstChild.appendChild(document.createTextNode("")),i.selectNodeContents(s.firstChild)),r?i.collapse(!0):i.collapse(!1),(0,P.Hc)(i),t.firstElementChild.classList.contains("language-mindmap")||tt(n)},Ee=function(t,n){if(Q("\u21E7\u2318X",n)){var r=t.wysiwyg.popover.querySelector('[data-type="remove"]');if(r)return r.click(),n.preventDefault(),!0}},Ie=function(t){clearTimeout(t.wysiwyg.hlToolbarTimeoutId),t.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(t.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,P.Gb)(t.wysiwyg.element)){E(t.toolbar.elements,h.g.EDIT_TOOLBARS),L(t.toolbar.elements,h.g.EDIT_TOOLBARS);var n=getSelection().getRangeAt(0),r=n.startContainer;r=n.startContainer.nodeType===3?n.startContainer.parentElement:r.childNodes[n.startOffset>=r.childNodes.length?r.childNodes.length-1:n.startOffset];var s=(0,k.a1)(r,"data-type","footnotes-block");if(s)return t.wysiwyg.popover.innerHTML="",mt(s,t),void Me(t,s);var i=(0,k.lG)(r,"LI");i?(i.classList.contains("vditor-task")?_(t.toolbar.elements,["check"]):i.parentElement.tagName==="OL"?_(t.toolbar.elements,["ordered-list"]):i.parentElement.tagName==="UL"&&_(t.toolbar.elements,["list"]),L(t.toolbar.elements,["outdent","indent"])):O(t.toolbar.elements,["outdent","indent"]),(0,k.lG)(r,"BLOCKQUOTE")&&_(t.toolbar.elements,["quote"]),((0,k.lG)(r,"B")||(0,k.lG)(r,"STRONG"))&&_(t.toolbar.elements,["bold"]),((0,k.lG)(r,"I")||(0,k.lG)(r,"EM"))&&_(t.toolbar.elements,["italic"]),((0,k.lG)(r,"STRIKE")||(0,k.lG)(r,"S"))&&_(t.toolbar.elements,["strike"]),t.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(te){te.classList.remove("vditor-comment--focus")});var l=(0,k.fb)(r,"vditor-comment");if(l){var d=l.getAttribute("data-cmtids").split(" ");if(d.length>1&&l.nextSibling.isSameNode(l.nextElementSibling)){var C=l.nextElementSibling.getAttribute("data-cmtids").split(" ");d.find(function(te){if(C.includes(te))return d=[te],!0})}t.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(te){te.getAttribute("data-cmtids").indexOf(d[0])>-1&&te.classList.add("vditor-comment--focus")})}var T=(0,k.lG)(r,"A");T&&_(t.toolbar.elements,["link"]);var S=(0,k.lG)(r,"TABLE"),x=(0,F.W)(r);(0,k.lG)(r,"CODE")?(0,k.lG)(r,"PRE")?(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),_(t.toolbar.elements,["code"])):(O(t.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),_(t.toolbar.elements,["inline-code"])):x?(O(t.toolbar.elements,["bold"]),_(t.toolbar.elements,["headings"])):S&&O(t.toolbar.elements,["table"]);var B=(0,k.fb)(r,"vditor-toc");if(B)return t.wysiwyg.popover.innerHTML="",mt(B,t),void Me(t,B);var Z=(0,F.S)(r,"BLOCKQUOTE");if(Z&&(t.wysiwyg.popover.innerHTML="",ot(n,Z,t),bt(n,Z,t),mt(Z,t),Me(t,Z)),i&&(t.wysiwyg.popover.innerHTML="",ot(n,i,t),bt(n,i,t),mt(i,t),Me(t,i)),S){t.options.lang,t.options,t.wysiwyg.popover.innerHTML="";var ee=function(){var te=S.rows.length,Ve=S.rows[0].cells.length,sn=parseInt(Le.value,10)||te,Bt=parseInt(Ze.value,10)||Ve;if(sn!==te||Ve!==Bt){if(Ve!==Bt)for(var Bo=Bt-Ve,Cn=0;Cn<S.rows.length;Cn++)if(Bo>0)for(var Uo=0;Uo<Bo;Uo++)Cn===0?S.rows[Cn].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):S.rows[Cn].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var li=Ve-1;li>=Bt;li--)S.rows[Cn].cells[li].remove();if(te!==sn){var qo=sn-te;if(qo>0){for(var ai="<tr>",kn=0;kn<Bt;kn++)ai+="<td> </td>";for(var Fo=0;Fo<qo;Fo++)S.querySelector("tbody")?S.querySelector("tbody").insertAdjacentHTML("beforeend",ai):S.querySelector("thead").insertAdjacentHTML("afterend",ai+"</tr>")}else for(kn=te-1;kn>=sn;kn--)S.rows[kn].remove(),S.rows.length===1&&S.querySelector("tbody").remove()}}},j=function(te){dr(S,te),te==="right"?(ie.classList.remove("vditor-icon--current"),re.classList.remove("vditor-icon--current"),U.classList.add("vditor-icon--current")):te==="center"?(ie.classList.remove("vditor-icon--current"),U.classList.remove("vditor-icon--current"),re.classList.add("vditor-icon--current")):(re.classList.remove("vditor-icon--current"),U.classList.remove("vditor-icon--current"),ie.classList.add("vditor-icon--current")),(0,P.Hc)(n),V(t)},z=(0,k.lG)(r,"TD"),le=(0,k.lG)(r,"TH"),se="left";z?se=z.getAttribute("align")||"left":le&&(se=le.getAttribute("align")||"center");var ie=document.createElement("button");ie.setAttribute("type","button"),ie.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,v.ns)("\u21E7\u2318L")+">"),ie.setAttribute("data-type","left"),ie.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',ie.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(se==="left"?" vditor-icon--current":""),ie.onclick=function(){j("left")};var re=document.createElement("button");re.setAttribute("type","button"),re.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,v.ns)("\u21E7\u2318C")+">"),re.setAttribute("data-type","center"),re.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',re.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(se==="center"?" vditor-icon--current":""),re.onclick=function(){j("center")};var U=document.createElement("button");U.setAttribute("type","button"),U.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,v.ns)("\u21E7\u2318R")+">"),U.setAttribute("data-type","right"),U.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',U.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(se==="right"?" vditor-icon--current":""),U.onclick=function(){j("right")};var ce=document.createElement("button");ce.setAttribute("type","button"),ce.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,v.ns)("\u2318=")+">"),ce.setAttribute("data-type","insertRow"),ce.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',ce.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ce.onclick=function(){var te=getSelection().getRangeAt(0).startContainer,Ve=(0,k.lG)(te,"TD")||(0,k.lG)(te,"TH");Ve&&_o(t,n,Ve)};var we=document.createElement("button");we.setAttribute("type","button"),we.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,v.ns)("\u21E7\u2318F")+">"),we.setAttribute("data-type","insertRow"),we.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',we.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",we.onclick=function(){var te=getSelection().getRangeAt(0).startContainer,Ve=(0,k.lG)(te,"TD")||(0,k.lG)(te,"TH");Ve&&Co(t,n,Ve)};var he=document.createElement("button");he.setAttribute("type","button"),he.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,v.ns)("\u21E7\u2318=")+">"),he.setAttribute("data-type","insertColumn"),he.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',he.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",he.onclick=function(){var te=getSelection().getRangeAt(0).startContainer,Ve=(0,k.lG)(te,"TD")||(0,k.lG)(te,"TH");Ve&&ur(t,S,Ve)};var be=document.createElement("button");be.setAttribute("type","button"),be.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,v.ns)("\u21E7\u2318G")+">"),be.setAttribute("data-type","insertColumn"),be.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',be.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",be.onclick=function(){var te=getSelection().getRangeAt(0).startContainer,Ve=(0,k.lG)(te,"TD")||(0,k.lG)(te,"TH");Ve&&ur(t,S,Ve,"beforebegin")};var ye=document.createElement("button");ye.setAttribute("type","button"),ye.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,v.ns)("\u2318-")+">"),ye.setAttribute("data-type","deleteRow"),ye.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',ye.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",ye.onclick=function(){var te=getSelection().getRangeAt(0).startContainer,Ve=(0,k.lG)(te,"TD")||(0,k.lG)(te,"TH");Ve&&ko(t,n,Ve)};var de=document.createElement("button");de.setAttribute("type","button"),de.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,v.ns)("\u21E7\u2318-")+">"),de.setAttribute("data-type","deleteColumn"),de.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',de.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",de.onclick=function(){var te=getSelection().getRangeAt(0).startContainer,Ve=(0,k.lG)(te,"TD")||(0,k.lG)(te,"TH");Ve&&So(t,n,S,Ve)},(_t=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.row),_t.className="vditor-tooltipped vditor-tooltipped__n";var Le=document.createElement("input");_t.appendChild(Le),Le.type="number",Le.min="1",Le.className="vditor-input",Le.style.width="42px",Le.style.textAlign="center",Le.setAttribute("placeholder",window.VditorI18n.row),Le.value=S.rows.length.toString(),Le.oninput=function(){ee()},Le.onkeydown=function(te){if(!te.isComposing)return te.key==="Tab"?(Ze.focus(),Ze.select(),void te.preventDefault()):void Ee(t,te)};var qe=document.createElement("span");qe.setAttribute("aria-label",window.VditorI18n.column),qe.className="vditor-tooltipped vditor-tooltipped__n";var Ze=document.createElement("input");qe.appendChild(Ze),Ze.type="number",Ze.min="1",Ze.className="vditor-input",Ze.style.width="42px",Ze.style.textAlign="center",Ze.setAttribute("placeholder",window.VditorI18n.column),Ze.value=S.rows[0].cells.length.toString(),Ze.oninput=function(){ee()},Ze.onkeydown=function(te){if(!te.isComposing)return te.key==="Tab"?(Le.focus(),Le.select(),void te.preventDefault()):void Ee(t,te)},ot(n,S,t),bt(n,S,t),mt(S,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",ie),t.wysiwyg.popover.insertAdjacentElement("beforeend",re),t.wysiwyg.popover.insertAdjacentElement("beforeend",U),t.wysiwyg.popover.insertAdjacentElement("beforeend",we),t.wysiwyg.popover.insertAdjacentElement("beforeend",ce),t.wysiwyg.popover.insertAdjacentElement("beforeend",be),t.wysiwyg.popover.insertAdjacentElement("beforeend",he),t.wysiwyg.popover.insertAdjacentElement("beforeend",ye),t.wysiwyg.popover.insertAdjacentElement("beforeend",de),t.wysiwyg.popover.insertAdjacentElement("beforeend",_t),t.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),t.wysiwyg.popover.insertAdjacentElement("beforeend",qe),Me(t,S)}var Rt=(0,k.a1)(r,"data-type","link-ref");Rt&&$e(t,Rt);var ht=(0,k.a1)(r,"data-type","footnotes-ref");if(ht){t.options.lang,t.options,t.wysiwyg.popover.innerHTML="",(_t=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,v.ns)("\u2325Enter")+">"),_t.className="vditor-tooltipped vditor-tooltipped__n";var Et=document.createElement("input");_t.appendChild(Et),Et.className="vditor-input",Et.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,v.ns)("\u2325Enter")+">"),Et.style.width="120px",Et.value=ht.getAttribute("data-footnotes-label"),Et.oninput=function(){Et.value.trim()!==""&&ht.setAttribute("data-footnotes-label",Et.value)},Et.onkeydown=function(te){if(!te.isComposing)return(0,v.yl)(te)||te.shiftKey||!te.altKey||te.key!=="Enter"?void Ee(t,te):(n.selectNodeContents(ht),n.collapse(!1),(0,P.Hc)(n),void te.preventDefault())},mt(ht,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",_t),Me(t,ht)}var nt=(0,k.fb)(r,"vditor-wysiwyg__block"),wn=!!nt&&nt.getAttribute("data-type").indexOf("block")>-1;if(t.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(te){(!nt||nt&&wn&&!nt.contains(te))&&(te.previousElementSibling.style.display="none")}),nt&&wn){if(t.wysiwyg.popover.innerHTML="",ot(n,nt,t),bt(n,nt,t),mt(nt,t),nt.getAttribute("data-type")==="code-block"){var mr=document.createElement("span");mr.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,v.ns)("\u2325Enter")+">"),mr.className="vditor-tooltipped vditor-tooltipped__n";var Lt=document.createElement("input");mr.appendChild(Lt);var En=nt.firstElementChild.firstElementChild;Lt.className="vditor-input",Lt.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,v.ns)("\u2325Enter")+">"),Lt.value=En.className.indexOf("language-")>-1?En.className.split("-")[1].split(" ")[0]:"",Lt.oninput=function(te){Lt.value.trim()!==""?En.className="language-"+Lt.value:(En.className="",t.hint.recentLanguage=""),nt.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(nt.lastElementChild.innerHTML=nt.firstElementChild.innerHTML,Ue(nt.lastElementChild,t)),V(t),te.detail===1&&(n.setStart(En.firstChild,0),n.collapse(!0),(0,P.Hc)(n))},Lt.onkeydown=function(te){if(!te.isComposing&&!Ee(t,te)){if(te.key==="Escape"&&t.hint.element.style.display==="block")return t.hint.element.style.display="none",void te.preventDefault();t.hint.select(te,t),(0,v.yl)(te)||te.shiftKey||te.key!=="Enter"||(n.setStart(En.firstChild,0),n.collapse(!0),(0,P.Hc)(n),te.preventDefault(),te.stopPropagation())}},Lt.onkeyup=function(te){if(!te.isComposing&&te.key!=="Enter"&&te.key!=="ArrowUp"&&te.key!=="Escape"&&te.key!=="ArrowDown"){var Ve=[],sn=Lt.value.substring(0,Lt.selectionStart);h.g.CODE_LANGUAGES.forEach(function(Bt){Bt.indexOf(sn.toLowerCase())>-1&&Ve.push({html:Bt,value:Bt})}),t.hint.genHTML(Ve,sn,t),te.preventDefault()}},t.wysiwyg.popover.insertAdjacentElement("beforeend",mr)}Me(t,nt)}else nt=void 0;if(x){var _t;t.wysiwyg.popover.innerHTML="",(_t=document.createElement("span")).setAttribute("aria-label","ID<"+(0,v.ns)("\u2325Enter")+">"),_t.className="vditor-tooltipped vditor-tooltipped__n";var zt=document.createElement("input");_t.appendChild(zt),zt.className="vditor-input",zt.setAttribute("placeholder","ID<"+(0,v.ns)("\u2325Enter")+">"),zt.style.width="120px",zt.value=x.getAttribute("data-id")||"",zt.oninput=function(){x.setAttribute("data-id",zt.value)},zt.onkeydown=function(te){if(!te.isComposing)return(0,v.yl)(te)||te.shiftKey||!te.altKey||te.key!=="Enter"?void Ee(t,te):(n.selectNodeContents(x),n.collapse(!1),(0,P.Hc)(n),void te.preventDefault())},ot(n,x,t),bt(n,x,t),mt(x,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",_t),Me(t,x)}if(T&&yn(t,T),!(Z||i||S||nt||T||Rt||ht||x||B)){var _n=(0,k.a1)(r,"data-block","0");_n&&_n.parentElement.isEqualNode(t.wysiwyg.element)?(t.wysiwyg.popover.innerHTML="",ot(n,_n,t),bt(n,_n,t),mt(_n,t),Me(t,_n)):t.wysiwyg.popover.style.display="none"}t.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(te){te.style.display="none"});var Ro=(0,k.a1)(n.startContainer,"data-type","backslash");Ro&&(Ro.querySelector("span").style.display="inline")}},200)},Me=function(t,n){var r=n,s=(0,k.lG)(n,"TABLE");s&&(r=s),t.wysiwyg.popover.style.left="0",t.wysiwyg.popover.style.display="block",t.wysiwyg.popover.style.top=Math.max(-8,r.offsetTop-21-t.wysiwyg.element.scrollTop)+"px",t.wysiwyg.popover.style.left=Math.min(r.offsetLeft,t.wysiwyg.element.clientWidth-t.wysiwyg.popover.clientWidth)+"px",t.wysiwyg.popover.setAttribute("data-top",(r.offsetTop-21).toString())},$e=function(t,n){t.wysiwyg.popover.innerHTML="";var r=function(){i.value.trim()!==""&&(n.tagName==="IMG"?n.setAttribute("alt",i.value):n.textContent=i.value),d.value.trim()!==""&&n.setAttribute("data-link-label",d.value)},s=document.createElement("span");s.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),s.className="vditor-tooltipped vditor-tooltipped__n";var i=document.createElement("input");s.appendChild(i),i.className="vditor-input",i.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),i.style.width="120px",i.value=n.getAttribute("alt")||n.textContent,i.oninput=function(){r()},i.onkeydown=function(C){Ee(t,C)||Tt(t,n,C,d)};var l=document.createElement("span");l.setAttribute("aria-label",window.VditorI18n.linkRef),l.className="vditor-tooltipped vditor-tooltipped__n";var d=document.createElement("input");l.appendChild(d),d.className="vditor-input",d.setAttribute("placeholder",window.VditorI18n.linkRef),d.value=n.getAttribute("data-link-label"),d.oninput=function(){r()},d.onkeydown=function(C){Ee(t,C)||Tt(t,n,C,i)},mt(n,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",s),t.wysiwyg.popover.insertAdjacentElement("beforeend",l),Me(t,n)},ot=function(t,n,r){var s=n.previousElementSibling;if(s&&(n.parentElement.isEqualNode(r.wysiwyg.element)||n.tagName==="LI")){var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("data-type","up"),i.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,v.ns)("\u21E7\u2318U")+">"),i.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',i.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",i.onclick=function(){t.insertNode(document.createElement("wbr")),s.insertAdjacentElement("beforebegin",n),(0,P.ib)(r.wysiwyg.element,t),V(r),Ie(r),tt(r)},r.wysiwyg.popover.insertAdjacentElement("beforeend",i)}},bt=function(t,n,r){var s=n.nextElementSibling;if(s&&(n.parentElement.isEqualNode(r.wysiwyg.element)||n.tagName==="LI")){var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("data-type","down"),i.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,v.ns)("\u21E7\u2318D")+">"),i.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',i.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",i.onclick=function(){t.insertNode(document.createElement("wbr")),s.insertAdjacentElement("afterend",n),(0,P.ib)(r.wysiwyg.element,t),V(r),Ie(r),tt(r)},r.wysiwyg.popover.insertAdjacentElement("beforeend",i)}},mt=function(t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("data-type","remove"),r.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,v.ns)("\u21E7\u2318X")+">"),r.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',r.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",r.onclick=function(){var s=(0,P.zh)(n);s.setStartAfter(t),(0,P.Hc)(s),t.remove(),V(n),Ie(n),["H1","H2","H3","H4","H5","H6"].includes(t.tagName)&&Xe(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",r)},Tt=function(t,n,r,s){if(!r.isComposing){if(r.key==="Tab")return s.focus(),s.select(),void r.preventDefault();if(!(0,v.yl)(r)&&!r.shiftKey&&r.altKey&&r.key==="Enter"){var i=(0,P.zh)(t);n.insertAdjacentHTML("afterend",h.g.ZWSP),i.setStartAfter(n.nextSibling),i.collapse(!0),(0,P.Hc)(i),r.preventDefault()}}},yn=function(t,n){t.wysiwyg.popover.innerHTML="";var r=function(){i.value.trim()!==""&&(n.innerHTML=i.value),n.setAttribute("href",d.value),n.setAttribute("title",T.value),V(t)};n.querySelectorAll("[data-marker]").forEach(function(S){S.removeAttribute("data-marker")});var s=document.createElement("span");s.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),s.className="vditor-tooltipped vditor-tooltipped__n";var i=document.createElement("input");s.appendChild(i),i.className="vditor-input",i.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),i.style.width="120px",i.value=n.innerHTML||"",i.oninput=function(){r()},i.onkeydown=function(S){Ee(t,S)||Tt(t,n,S,d)};var l=document.createElement("span");l.setAttribute("aria-label",window.VditorI18n.link),l.className="vditor-tooltipped vditor-tooltipped__n";var d=document.createElement("input");l.appendChild(d),d.className="vditor-input",d.setAttribute("placeholder",window.VditorI18n.link),d.value=n.getAttribute("href")||"",d.oninput=function(){r()},d.onkeydown=function(S){Ee(t,S)||Tt(t,n,S,T)};var C=document.createElement("span");C.setAttribute("aria-label",window.VditorI18n.tooltipText),C.className="vditor-tooltipped vditor-tooltipped__n";var T=document.createElement("input");C.appendChild(T),T.className="vditor-input",T.setAttribute("placeholder",window.VditorI18n.tooltipText),T.style.width="60px",T.value=n.getAttribute("title")||"",T.oninput=function(){r()},T.onkeydown=function(S){Ee(t,S)||Tt(t,n,S,i)},mt(n,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",s),t.wysiwyg.popover.insertAdjacentElement("beforeend",l),t.wysiwyg.popover.insertAdjacentElement("beforeend",C),Me(t,n)},et=function(t){t.currentMode==="wysiwyg"?Ie(t):t.currentMode==="ir"&&ae(t)},wt=function(t,n,r){r===void 0&&(r={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var s=t.wysiwyg.element;s.innerHTML=t.lute.Md2VditorDOM(n),s.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(i){Ue(i,t),i.previousElementSibling.setAttribute("style","display:none")}),V(t,r)},or=function(t,n,r){for(var s=t.startContainer.parentElement,i=!1,l="",d="",C=function(j){var z=G(j.startContainer),le=oe(j.startContainer),se=j.startContainer.textContent,ie=j.startOffset,re="",U="";return(se.substr(0,ie)!==""&&se.substr(0,ie)!==h.g.ZWSP||z)&&(re=""+z+se.substr(0,ie)),(se.substr(ie)!==""&&se.substr(ie)!==h.g.ZWSP||le)&&(U=""+se.substr(ie)+le),{afterHTML:U,beforeHTML:re}}(t),T=C.beforeHTML,S=C.afterHTML;s&&!i;){var x=s.tagName;if(x==="STRIKE"&&(x="S"),x==="I"&&(x="EM"),x==="B"&&(x="STRONG"),x==="S"||x==="STRONG"||x==="EM"){var B="",Z="",ee="";s.parentElement.getAttribute("data-block")!=="0"&&(Z=G(s),ee=oe(s)),(T||Z)&&(T=B=Z+"<"+x+">"+T+"</"+x+">"),(r==="bold"&&x==="STRONG"||r==="italic"&&x==="EM"||r==="strikeThrough"&&x==="S")&&(B+=""+l+h.g.ZWSP+"<wbr>"+d,i=!0),(S||ee)&&(B+=S="<"+x+">"+S+"</"+x+">"+ee),s.parentElement.getAttribute("data-block")!=="0"?(s=s.parentElement).innerHTML=B:(s.outerHTML=B,s=s.parentElement),l="<"+x+">"+l,d="</"+x+">"+d}else i=!0}(0,P.ib)(n.wysiwyg.element,t)},Ge=function(t,n){var r,s=this;this.element=document.createElement("div"),n.className&&(r=this.element.classList).add.apply(r,n.className.split(" "));var i=n.hotkey?" <"+(0,v.ns)(n.hotkey)+">":"";n.level===2&&(i=n.hotkey?" &lt;"+(0,v.ns)(n.hotkey)+"&gt;":"");var l=n.tip?n.tip+i:""+window.VditorI18n[n.name]+i,d=n.name==="upload"?"div":"button";if(n.level===2)this.element.innerHTML="<"+d+' data-type="'+n.name+'">'+l+"</"+d+">";else{this.element.classList.add("vditor-toolbar__item");var C=document.createElement(d);C.setAttribute("data-type",n.name),C.className="vditor-tooltipped vditor-tooltipped__"+n.tipPosition,C.setAttribute("aria-label",l),C.innerHTML=n.icon,this.element.appendChild(C)}n.prefix&&this.element.children[0].addEventListener((0,v.Le)(),function(T){T.preventDefault(),s.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)||(t.currentMode==="wysiwyg"?function(S,x,B){if(!(S.wysiwyg.composingLock&&B instanceof CustomEvent)){var Z=!0,ee=!0;S.wysiwyg.element.querySelector("wbr")&&S.wysiwyg.element.querySelector("wbr").remove();var j=(0,P.zh)(S),z=x.getAttribute("data-type");if(x.classList.contains("vditor-menu--current"))if(z==="strike"&&(z="strikeThrough"),z==="quote"){var le=(0,k.lG)(j.startContainer,"BLOCKQUOTE");le||(le=j.startContainer.childNodes[j.startOffset]),le&&(Z=!1,x.classList.remove("vditor-menu--current"),j.insertNode(document.createElement("wbr")),le.outerHTML=le.innerHTML.trim()===""?'<p data-block="0">'+le.innerHTML+"</p>":le.innerHTML,(0,P.ib)(S.wysiwyg.element,j))}else if(z==="inline-code"){var se=(0,k.lG)(j.startContainer,"CODE");se||(se=j.startContainer.childNodes[j.startOffset]),se&&(se.outerHTML=se.innerHTML.replace(h.g.ZWSP,"")+"<wbr>",(0,P.ib)(S.wysiwyg.element,j))}else z==="link"?(j.collapsed&&j.selectNode(j.startContainer.parentElement),document.execCommand("unlink",!1,"")):z==="check"||z==="list"||z==="ordered-list"?(cr(S,j,z),(0,P.ib)(S.wysiwyg.element,j),Z=!1,x.classList.remove("vditor-menu--current")):(Z=!1,x.classList.remove("vditor-menu--current"),j.toString()===""?or(j,S,z):document.execCommand(z,!1,""));else{S.wysiwyg.element.childNodes.length===0&&(S.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,P.ib)(S.wysiwyg.element,j));var ie=(0,k.F9)(j.startContainer);if(z==="quote"){if(ie||(ie=j.startContainer.childNodes[j.startOffset]),ie){Z=!1,x.classList.add("vditor-menu--current"),j.insertNode(document.createElement("wbr"));var re=(0,k.lG)(j.startContainer,"LI");re&&ie.contains(re)?re.innerHTML='<blockquote data-block="0">'+re.innerHTML+"</blockquote>":ie.outerHTML='<blockquote data-block="0">'+ie.outerHTML+"</blockquote>",(0,P.ib)(S.wysiwyg.element,j)}}else if(z==="check"||z==="list"||z==="ordered-list")cr(S,j,z,!1),(0,P.ib)(S.wysiwyg.element,j),Z=!1,E(S.toolbar.elements,["check","list","ordered-list"]),x.classList.add("vditor-menu--current");else if(z==="inline-code"){if(j.toString()==="")(U=document.createElement("code")).textContent=h.g.ZWSP,j.insertNode(U),j.setStart(U.firstChild,1),j.collapse(!0),(0,P.Hc)(j);else if(j.startContainer.nodeType===3){var U=document.createElement("code");j.surroundContents(U),j.insertNode(U),(0,P.Hc)(j)}x.classList.add("vditor-menu--current")}else if(z==="code")(U=document.createElement("div")).className="vditor-wysiwyg__block",U.setAttribute("data-type","code-block"),U.setAttribute("data-block","0"),U.setAttribute("data-marker","```"),j.toString()===""?U.innerHTML=`<pre><code><wbr>
</code></pre>`:(U.innerHTML="<pre><code>"+j.toString()+"<wbr></code></pre>",j.deleteContents()),j.insertNode(U),ie&&(ie.outerHTML=S.lute.SpinVditorDOM(ie.outerHTML)),(0,P.ib)(S.wysiwyg.element,j),S.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Ze){Ue(Ze,S)}),x.classList.add("vditor-menu--disabled");else if(z==="link"){if(j.toString()===""){var ce=document.createElement("a");ce.innerText=h.g.ZWSP,j.insertNode(ce),j.setStart(ce.firstChild,1),j.collapse(!0),yn(S,ce);var we=S.wysiwyg.popover.querySelector("input");we.value="",we.focus(),ee=!1}else{(U=document.createElement("a")).setAttribute("href",""),U.innerHTML=j.toString(),j.surroundContents(U),j.insertNode(U),(0,P.Hc)(j),yn(S,U);var he=S.wysiwyg.popover.querySelectorAll("input");he[0].value=U.innerText,he[1].focus()}Z=!1,x.classList.add("vditor-menu--current")}else if(z==="table"){var be='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(j.toString().trim()==="")ie&&ie.innerHTML.trim().replace(h.g.ZWSP,"")===""?ie.outerHTML=be:document.execCommand("insertHTML",!1,be),j.selectNode(S.wysiwyg.element.querySelector("wbr").previousSibling),S.wysiwyg.element.querySelector("wbr").remove(),(0,P.Hc)(j);else{be='<table data-block="0"><thead><tr>';var ye=j.toString().split(`
`),de=ye[0].split(",").length>ye[0].split("	").length?",":"	";ye.forEach(function(Ze,Rt){Rt===0?(Ze.split(de).forEach(function(ht,Et){be+=Et===0?"<th>"+ht+"<wbr></th>":"<th>"+ht+"</th>"}),be+="</tr></thead>"):(be+=Rt===1?"<tbody><tr>":"<tr>",Ze.split(de).forEach(function(ht){be+="<td>"+ht+"</td>"}),be+="</tr>")}),be+="</tbody></table>",document.execCommand("insertHTML",!1,be),(0,P.ib)(S.wysiwyg.element,j)}Z=!1,x.classList.add("vditor-menu--disabled")}else if(z==="line"){if(ie){var Le=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;ie.innerHTML.trim()===""?ie.outerHTML=Le:ie.insertAdjacentHTML("afterend",Le),(0,P.ib)(S.wysiwyg.element,j)}}else if(Z=!1,x.classList.add("vditor-menu--current"),z==="strike"&&(z="strikeThrough"),j.toString()!==""||z!=="bold"&&z!=="italic"&&z!=="strikeThrough")document.execCommand(z,!1,"");else{var qe="strong";z==="italic"?qe="em":z==="strikeThrough"&&(qe="s"),(U=document.createElement(qe)).textContent=h.g.ZWSP,j.insertNode(U),U.previousSibling&&U.previousSibling.textContent===h.g.ZWSP&&(U.previousSibling.textContent=""),j.setStart(U.firstChild,1),j.collapse(!0),(0,P.Hc)(j)}}Z&&Ie(S),ee&&V(S)}}(t,s.element.children[0],T):t.currentMode==="ir"?ya(t,s.element.children[0],n.prefix||"",n.suffix||""):ca(t,s.element.children[0],n.prefix||"",n.suffix||""))})},sa=(K=function(t,n){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i])},K(t,n)},function(t,n){function r(){this.constructor=t}K(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}),on=function(t,n,r){var s;if(typeof r!="string"?(A(t,["subToolbar","hint"]),r.preventDefault(),s=m(t)):s=r,t.currentMode!==n||typeof r=="string"){if(t.devtools&&t.devtools.renderEchart(t),t.options.preview.mode==="both"&&n==="sv"?t.preview.element.style.display="block":t.preview.element.style.display="none",L(t.toolbar.elements,h.g.EDIT_TOOLBARS),E(t.toolbar.elements,h.g.EDIT_TOOLBARS),O(t.toolbar.elements,["outdent","indent"]),n==="ir")N(t.toolbar.elements,["both"]),I(t.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),t.sv.element.style.display="none",t.wysiwyg.element.parentElement.style.display="none",t.ir.element.parentElement.style.display="block",t.lute.SetVditorIR(!0),t.lute.SetVditorWYSIWYG(!1),t.lute.SetVditorSV(!1),t.currentMode="ir",t.ir.element.innerHTML=t.lute.Md2VditorIRDOM(s),jt(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),M(t),t.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(l){Ue(l,t)}),t.ir.element.querySelectorAll(".vditor-toc").forEach(function(l){(0,Ne.H)(l,{cdn:t.options.cdn,math:t.options.preview.math})});else if(n==="wysiwyg")N(t.toolbar.elements,["both"]),I(t.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),t.sv.element.style.display="none",t.wysiwyg.element.parentElement.style.display="block",t.ir.element.parentElement.style.display="none",t.lute.SetVditorIR(!1),t.lute.SetVditorWYSIWYG(!0),t.lute.SetVditorSV(!1),t.currentMode="wysiwyg",M(t),wt(t,s,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),t.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(l){(0,Ne.H)(l,{cdn:t.options.cdn,math:t.options.preview.math})}),t.wysiwyg.popover.style.display="none";else if(n==="sv"){I(t.toolbar.elements,["both"]),N(t.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),t.wysiwyg.element.parentElement.style.display="none",t.ir.element.parentElement.style.display="none",(t.options.preview.mode==="both"||t.options.preview.mode==="editor")&&(t.sv.element.style.display="block"),t.lute.SetVditorIR(!1),t.lute.SetVditorWYSIWYG(!1),t.lute.SetVditorSV(!0),t.currentMode="sv";var i=uo(s,t);i==="<div data-block='0'></div>"&&(i=""),t.sv.element.innerHTML=i,rt(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),M(t)}t.undo.resetIcon(t),typeof r!="string"&&(t[t.currentMode].element.focus(),et(t)),Xe(t),D(t),t.toolbar.elements["edit-mode"]&&(t.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(l){l.classList.remove("vditor-menu--current")}),t.toolbar.elements["edit-mode"].querySelector('button[data-mode="'+t.currentMode+'"]').classList.add("vditor-menu--current")),t.outline.toggle(t,t.currentMode!=="sv"&&t.options.outline.enable,typeof r!="string")}},la=function(t){function n(r,s){var i=t.call(this,r,s)||this,l=document.createElement("div");return l.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow"),l.innerHTML='<button data-mode="wysiwyg">'+window.VditorI18n.wysiwyg+" &lt;"+(0,v.ns)("\u2325\u23187")+`></button>
<button data-mode="ir">`+window.VditorI18n.instantRendering+" &lt;"+(0,v.ns)("\u2325\u23188")+`></button>
<button data-mode="sv">`+window.VditorI18n.splitView+" &lt;"+(0,v.ns)("\u2325\u23189")+"></button>",i.element.appendChild(l),i._bindEvent(r,l,s),i}return sa(n,t),n.prototype._bindEvent=function(r,s,i){var l=this.element.children[0];H(r,s,l,i.level),s.children.item(0).addEventListener((0,v.Le)(),function(d){on(r,"wysiwyg",d),d.preventDefault(),d.stopPropagation()}),s.children.item(1).addEventListener((0,v.Le)(),function(d){on(r,"ir",d),d.preventDefault(),d.stopPropagation()}),s.children.item(2).addEventListener((0,v.Le)(),function(d){on(r,"sv",d),d.preventDefault(),d.stopPropagation()})},n}(Ge),Un=function(t,n){return(0,P.Gb)(t,n)?getSelection().toString():""},Gr=function(t,n){n.addEventListener("focus",function(){t.options.focus&&t.options.focus(m(t)),A(t,["subToolbar","hint"])})},ao=function(t,n){n.addEventListener("dblclick",function(r){r.target.tagName==="IMG"&&(t.options.image.preview?t.options.image.preview(r.target):t.options.image.isPreview&&(0,pe.E)(r.target,t.options.lang,t.options.theme))})},Zr=function(t,n){n.addEventListener("blur",function(r){if(t.currentMode==="ir"){var s=t.ir.element.querySelector(".vditor-ir__node--expand");s&&s.classList.remove("vditor-ir__node--expand")}else t.currentMode!=="wysiwyg"||t.wysiwyg.selectPopover.contains(r.relatedTarget)||t.wysiwyg.hideComment();t[t.currentMode].range=(0,P.zh)(t),t.options.blur&&t.options.blur(m(t))})},Jr=function(t,n){n.addEventListener("dragstart",function(r){r.dataTransfer.setData(h.g.DROP_EDITOR,h.g.DROP_EDITOR)}),n.addEventListener("drop",function(r){r.dataTransfer.getData(h.g.DROP_EDITOR)?Oe(t):(r.dataTransfer.types.includes("Files")||r.dataTransfer.types.includes("text/html"))&&fr(t,r,{pasteCode:function(s){document.execCommand("insertHTML",!1,s)}})})},Xr=function(t,n,r){n.addEventListener("copy",function(s){return r(s,t)})},Yr=function(t,n,r){n.addEventListener("cut",function(s){r(s,t),t.options.comment.enable&&t.currentMode==="wysiwyg"&&t.wysiwyg.getComments(t),document.execCommand("delete")})},tt=function(t){if(t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.options.comment.adjustTop(t.wysiwyg.getComments(t,!0)),t.options.typewriterMode){var n=t[t.currentMode].element,r=(0,P.Ny)(n).top;t.options.height!=="auto"||t.element.classList.contains("vditor--fullscreen")||window.scrollTo(window.scrollX,r+t.element.offsetTop+t.toolbar.element.offsetHeight-window.innerHeight/2+10),(t.options.height!=="auto"||t.element.classList.contains("vditor--fullscreen"))&&(n.scrollTop=r+n.scrollTop-n.clientHeight/2+10)}},Qr=function(t,n){n.addEventListener("keydown",function(r){if(!(t.options.hint.extend.length>1||t.toolbar.elements.emoji)||!t.hint.select(r,t)){if(t.options.comment.enable&&t.currentMode==="wysiwyg"&&(r.key==="Backspace"||Q("\u2318X",r))&&t.wysiwyg.getComments(t),t.currentMode==="sv"){if(function(i,l){var d,C,T,S,x;if(i.sv.composingLock=l.isComposing,l.isComposing||(l.key.indexOf("Arrow")!==-1||l.key==="Meta"||l.key==="Control"||l.key==="Alt"||l.key==="Shift"||l.key==="CapsLock"||l.key==="Escape"||/^F\d{1,2}$/.test(l.key)||i.undo.recordFirstPosition(i,l),l.key!=="Enter"&&l.key!=="Tab"&&l.key!=="Backspace"&&l.key.indexOf("Arrow")===-1&&!(0,v.yl)(l)&&l.key!=="Escape"))return!1;var B=(0,P.zh)(i),Z=B.startContainer;B.startContainer.nodeType!==3&&B.startContainer.tagName==="DIV"&&(Z=B.startContainer.childNodes[B.startOffset-1]);var ee=(0,k.a1)(Z,"data-type","text"),j=(0,k.a1)(Z,"data-type","blockquote-marker");if(!j&&B.startOffset===0&&ee&&ee.previousElementSibling&&ee.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(j=ee.previousElementSibling),j&&l.key==="Enter"&&!(0,v.yl)(l)&&!l.altKey&&j.nextElementSibling.textContent.trim()===""&&(0,P.im)(j,i.sv.element,B).start===j.textContent.length)return((d=j.previousElementSibling)===null||d===void 0?void 0:d.getAttribute("data-type"))==="padding"&&j.previousElementSibling.setAttribute("data-action","enter-remove"),j.remove(),rt(i),l.preventDefault(),!0;var z=(0,k.a1)(Z,"data-type","li-marker"),le=(0,k.a1)(Z,"data-type","task-marker"),se=z;if(se||le&&le.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(se=le),se||B.startOffset!==0||!ee||!ee.previousElementSibling||ee.previousElementSibling.getAttribute("data-type")!=="li-marker"&&ee.previousElementSibling.getAttribute("data-type")!=="task-marker"||(se=ee.previousElementSibling),se){var ie=(0,P.im)(se,i.sv.element,B).start,re=se.getAttribute("data-type")==="task-marker",U=se;if(re&&(U=se.previousElementSibling.previousElementSibling.previousElementSibling),ie===se.textContent.length){if(l.key==="Enter"&&!(0,v.yl)(l)&&!l.altKey&&!l.shiftKey&&se.nextElementSibling.textContent.trim()==="")return((C=U.previousElementSibling)===null||C===void 0?void 0:C.getAttribute("data-type"))==="padding"?(U.previousElementSibling.remove(),Re(i)):(re&&(U.remove(),se.previousElementSibling.previousElementSibling.remove(),se.previousElementSibling.remove()),se.nextElementSibling.remove(),se.remove(),rt(i)),l.preventDefault(),!0;if(l.key==="Tab")return U.insertAdjacentHTML("beforebegin",'<span data-type="padding">'+U.textContent.replace(/\S/g," ")+"</span>"),/^\d/.test(U.textContent)&&(U.textContent=U.textContent.replace(/^\d{1,}/,"1"),B.selectNodeContents(se.firstChild),B.collapse(!1)),Re(i),l.preventDefault(),!0}}if(oi(i,B,l))return!0;var ce=(0,k.a1)(Z,"data-block","0"),we=(0,F.S)(Z,"SPAN");if(l.key==="Enter"&&!(0,v.yl)(l)&&!l.altKey&&!l.shiftKey&&ce){var he=!1,be=ce.textContent.match(/^\n+/);(0,P.im)(ce,i.sv.element).start<=(be?be[0].length:0)&&(he=!0);var ye=`
`;if(we){if(((T=we.previousElementSibling)===null||T===void 0?void 0:T.getAttribute("data-action"))==="enter-remove")return we.previousElementSibling.remove(),rt(i),l.preventDefault(),!0;ye+=aa(we)}return B.insertNode(document.createTextNode(ye)),B.collapse(!1),ce&&ce.textContent.trim()!==""&&!he?Re(i):rt(i),l.preventDefault(),!0}if(l.key==="Backspace"&&!(0,v.yl)(l)&&!l.altKey&&!l.shiftKey){if(we&&((S=we.previousElementSibling)===null||S===void 0?void 0:S.getAttribute("data-type"))==="newline"&&(0,P.im)(we,i.sv.element,B).start===1&&we.getAttribute("data-type").indexOf("code-block-")===-1)return B.setStart(we,0),B.extractContents(),we.textContent.trim()!==""?Re(i):rt(i),l.preventDefault(),!0;if(ce&&(0,P.im)(ce,i.sv.element,B).start===0&&ce.previousElementSibling){B.extractContents();var de=ce.previousElementSibling.lastElementChild;return de.getAttribute("data-type")==="newline"&&(de.remove(),de=ce.previousElementSibling.lastElementChild),de.getAttribute("data-type")!=="newline"&&(de.insertAdjacentHTML("afterend",ce.innerHTML),ce.remove()),ce.textContent.trim()===""||((x=ce.previousElementSibling)===null||x===void 0?void 0:x.querySelector('[data-type="code-block-open-marker"]'))?(de.getAttribute("data-type")!=="newline"&&(B.selectNodeContents(de.lastChild),B.collapse(!1)),rt(i)):Re(i),l.preventDefault(),!0}}return!1}(t,r))return}else if(t.currentMode==="wysiwyg"){if(function(i,l){if(i.wysiwyg.composingLock=l.isComposing,l.isComposing)return!1;l.key.indexOf("Arrow")!==-1||l.key==="Meta"||l.key==="Control"||l.key==="Alt"||l.key==="Shift"||l.key==="CapsLock"||l.key==="Escape"||/^F\d{1,2}$/.test(l.key)||i.undo.recordFirstPosition(i,l);var d=(0,P.zh)(i),C=d.startContainer;if(!ho(l,i,C)||(vo(d,i,l),Ho(d),l.key!=="Enter"&&l.key!=="Tab"&&l.key!=="Backspace"&&l.key.indexOf("Arrow")===-1&&!(0,v.yl)(l)&&l.key!=="Escape"&&l.key!=="Delete"))return!1;var T=(0,k.F9)(C),S=(0,k.lG)(C,"P");if(Eo(l,i,S,d)||wo(d,i,S,l)||xo(i,l,d))return!0;var x=(0,k.fb)(C,"vditor-wysiwyg__block");if(x){if(l.key==="Escape"&&x.children.length===2)return i.wysiwyg.popover.style.display="none",x.firstElementChild.style.display="none",i.wysiwyg.element.blur(),l.preventDefault(),!0;if(!(0,v.yl)(l)&&!l.shiftKey&&l.altKey&&l.key==="Enter"&&x.getAttribute("data-type")==="code-block"){var B=i.wysiwyg.popover.querySelector(".vditor-input");return B.focus(),B.select(),l.preventDefault(),!0}if(x.getAttribute("data-block")==="0"&&(To(i,l,x.firstElementChild,d)||qn(i,l,d,x.firstElementChild,x)||x.getAttribute("data-type")!=="yaml-front-matter"&&bn(i,l,d,x.firstElementChild,x)))return!0}if(Lo(i,d,l,S))return!0;var Z=(0,k.E2)(C,"BLOCKQUOTE");if(Z&&!l.shiftKey&&l.altKey&&l.key==="Enter"){(0,v.yl)(l)?d.setStartBefore(Z):d.setStartAfter(Z),(0,P.Hc)(d);var ee=document.createElement("p");return ee.setAttribute("data-block","0"),ee.innerHTML=`
`,d.insertNode(ee),d.collapse(!0),(0,P.Hc)(d),V(i),tt(i),l.preventDefault(),!0}var j,z=(0,F.W)(C);if(z){if(z.tagName==="H6"&&C.textContent.length===d.startOffset&&!(0,v.yl)(l)&&!l.shiftKey&&!l.altKey&&l.key==="Enter"){var le=document.createElement("p");return le.textContent=`
`,le.setAttribute("data-block","0"),C.parentElement.insertAdjacentElement("afterend",le),d.setStart(le,0),(0,P.Hc)(d),V(i),tt(i),l.preventDefault(),!0}var se;if(Q("\u2318=",l))return(se=parseInt(z.tagName.substr(1),10)-1)>0&&(me(i,"h"+se),V(i)),l.preventDefault(),!0;if(Q("\u2318-",l))return(se=parseInt(z.tagName.substr(1),10)+1)<7&&(me(i,"h"+se),V(i)),l.preventDefault(),!0;l.key!=="Backspace"||(0,v.yl)(l)||l.shiftKey||l.altKey||z.textContent.length!==1||ve(i)}if(Ao(i,d,l))return!0;if(l.altKey&&l.key==="Enter"&&!(0,v.yl)(l)&&!l.shiftKey){var ie=(0,k.lG)(C,"A"),re=(0,k.a1)(C,"data-type","link-ref"),U=(0,k.a1)(C,"data-type","footnotes-ref");if(ie||re||U||z&&z.tagName.length===2){var ce=i.wysiwyg.popover.querySelector("input");ce.focus(),ce.select()}}if(Ee(i,l))return!0;if(Q("\u21E7\u2318U",l)&&(j=i.wysiwyg.popover.querySelector('[data-type="up"]'))||Q("\u21E7\u2318D",l)&&(j=i.wysiwyg.popover.querySelector('[data-type="down"]')))return j.click(),l.preventDefault(),!0;if(oi(i,d,l))return!0;if(!(0,v.yl)(l)&&l.shiftKey&&!l.altKey&&l.key==="Enter"&&C.parentElement.tagName!=="LI"&&C.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(C.parentElement.tagName)?d.insertNode(document.createTextNode(`
`+h.g.ZWSP)):d.insertNode(document.createTextNode(`
`)),d.collapse(!1),(0,P.Hc)(d),V(i),tt(i),l.preventDefault(),!0;if(l.key==="Backspace"&&!(0,v.yl)(l)&&!l.shiftKey&&!l.altKey&&d.toString()===""){if(Mo(i,d,l,S))return!0;if(T){if(T.previousElementSibling&&T.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&T.previousElementSibling.getAttribute("data-block")==="0"&&T.tagName!=="UL"&&T.tagName!=="OL"){var we=(0,P.im)(T,i.wysiwyg.element,d).start;if(we===0&&d.startOffset===0||we===1&&T.innerText.startsWith(h.g.ZWSP))return Ce(T.previousElementSibling.lastElementChild,i,!1),T.innerHTML.trim().replace(h.g.ZWSP,"")===""&&(T.remove(),V(i)),l.preventDefault(),!0}var he=d.startOffset;if(d.toString()===""&&C.nodeType===3&&C.textContent.charAt(he-2)===`
`&&C.textContent.charAt(he-1)!==h.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(C.parentElement.tagName))return C.textContent=C.textContent.substring(0,he-1)+h.g.ZWSP,d.setStart(C,he),d.collapse(!0),V(i),l.preventDefault(),!0;C.textContent===h.g.ZWSP&&d.startOffset===1&&!C.previousSibling&&function(ye){for(var de=ye.startContainer.nextSibling;de&&de.textContent==="";)de=de.nextSibling;return!(!de||de.nodeType===3||de.tagName!=="CODE"&&de.getAttribute("data-type")!=="math-inline"&&de.getAttribute("data-type")!=="html-entity"&&de.getAttribute("data-type")!=="html-inline")}(d)&&(C.textContent=""),T.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(ye){ye.firstElementChild.style.display="inline",ye.lastElementChild.style.display="none"}),T.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(ye){ye.firstElementChild.style.display="inline",ye.lastElementChild.style.display="none"})}}if((0,v.vU)()&&d.startOffset===1&&C.textContent.indexOf(h.g.ZWSP)>-1&&C.previousSibling&&C.previousSibling.nodeType!==3&&C.previousSibling.tagName==="CODE"&&(l.key==="Backspace"||l.key==="ArrowLeft"))return d.selectNodeContents(C.previousSibling),d.collapse(!1),l.preventDefault(),!0;if(No(l,T,d))return l.preventDefault(),!0;if(go(d,l.key),l.key==="ArrowDown"){var be=C.nextSibling;be&&be.nodeType!==3&&be.getAttribute("data-type")==="math-inline"&&d.setStartAfter(be)}return!(!T||!fe(T,i,l,d)||(l.preventDefault(),0))}(t,r))return}else if(t.currentMode==="ir"&&function(i,l){if(i.ir.composingLock=l.isComposing,l.isComposing)return!1;l.key.indexOf("Arrow")!==-1||l.key==="Meta"||l.key==="Control"||l.key==="Alt"||l.key==="Shift"||l.key==="CapsLock"||l.key==="Escape"||/^F\d{1,2}$/.test(l.key)||i.undo.recordFirstPosition(i,l);var d=(0,P.zh)(i),C=d.startContainer;if(!ho(l,i,C)||(vo(d,i,l),Ho(d),l.key!=="Enter"&&l.key!=="Tab"&&l.key!=="Backspace"&&l.key.indexOf("Arrow")===-1&&!(0,v.yl)(l)&&l.key!=="Escape"&&l.key!=="Delete"))return!1;var T=(0,k.a1)(C,"data-newline","1");if(!(0,v.yl)(l)&&!l.altKey&&!l.shiftKey&&l.key==="Enter"&&T&&d.startOffset<T.textContent.length){var S=T.previousElementSibling;S&&(d.insertNode(document.createTextNode(S.textContent)),d.collapse(!1));var x=T.nextSibling;x&&(d.insertNode(document.createTextNode(x.textContent)),d.collapse(!0))}var B=(0,k.lG)(C,"P");if(Eo(l,i,B,d)||wo(d,i,B,l)||Lo(i,d,l,B))return!0;var Z=(0,k.fb)(C,"vditor-ir__marker--pre");if(Z&&Z.tagName==="PRE"){var ee=Z.firstChild;if(To(i,l,Z,d)||(ee.getAttribute("data-type")==="math-block"||ee.getAttribute("data-type")==="html-block")&&bn(i,l,d,ee,Z.parentElement)||qn(i,l,d,ee,Z.parentElement))return!0}var j=(0,k.a1)(C,"data-type","code-block-info");if(j){if(l.key==="Enter"||l.key==="Tab")return d.selectNodeContents(j.nextElementSibling.firstChild),d.collapse(!0),l.preventDefault(),A(i,["hint"]),!0;if(l.key==="Backspace"){var z=(0,P.im)(j,i.ir.element).start;z===1&&d.setStart(C,0),z===2&&(i.hint.recentLanguage="")}if(bn(i,l,d,j,j.parentElement))return A(i,["hint"]),!0}var le=(0,k.lG)(C,"TD")||(0,k.lG)(C,"TH");if(l.key.indexOf("Arrow")>-1&&le){var se=va(le);if(se&&bn(i,l,d,le,se))return!0;var ie=ga(le);if(ie&&qn(i,l,d,le,ie))return!0}if(xo(i,l,d)||Ao(i,d,l)||oi(i,d,l))return!0;var re=(0,F.W)(C);if(re){var U;if(Q("\u2318=",l))return(U=re.querySelector(".vditor-ir__marker--heading"))&&U.textContent.trim().length>1&&Fn(i,U.textContent.substr(1)),l.preventDefault(),!0;if(Q("\u2318-",l))return(U=re.querySelector(".vditor-ir__marker--heading"))&&U.textContent.trim().length<6&&Fn(i,U.textContent.trim()+"# "),l.preventDefault(),!0}var ce=(0,k.F9)(C);if(l.key==="Backspace"&&!(0,v.yl)(l)&&!l.shiftKey&&!l.altKey&&d.toString()===""){if(Mo(i,d,l,B))return!0;if(ce&&ce.previousElementSibling&&ce.tagName!=="UL"&&ce.tagName!=="OL"&&(ce.previousElementSibling.getAttribute("data-type")==="code-block"||ce.previousElementSibling.getAttribute("data-type")==="math-block")){var we=(0,P.im)(ce,i.ir.element,d).start;if(we===0||we===1&&ce.innerText.startsWith(h.g.ZWSP))return d.selectNodeContents(ce.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),d.collapse(!1),X(d,i),ce.textContent.trim().replace(h.g.ZWSP,"")===""&&(ce.remove(),jt(i)),l.preventDefault(),!0}if(re){var he=re.firstElementChild.textContent.length;(0,P.im)(re,i.ir.element).start===he&&(d.setStart(re.firstElementChild.firstChild,he-1),d.collapse(!0),(0,P.Hc)(d))}}return!((l.key!=="ArrowUp"&&l.key!=="ArrowDown"||!ce||(ce.querySelectorAll(".vditor-ir__node").forEach(function(be){be.contains(C)||be.classList.add("vditor-ir__node--hidden")}),!No(l,ce,d)))&&(go(d,l.key),!ce||!fe(ce,i,l,d)||(l.preventDefault(),0)))}(t,r))return;if(t.options.ctrlEnter&&Q("\u2318Enter",r))return t.options.ctrlEnter(m(t)),void r.preventDefault();if(Q("\u2318Z",r)&&!t.toolbar.elements.undo)return t.undo.undo(t),void r.preventDefault();if(Q("\u2318Y",r)&&!t.toolbar.elements.redo)return t.undo.redo(t),void r.preventDefault();if(r.key==="Escape")return t.hint.element.style.display==="block"?t.hint.element.style.display="none":t.options.esc&&!r.isComposing&&t.options.esc(m(t)),void r.preventDefault();if((0,v.yl)(r)&&r.altKey&&!r.shiftKey&&/^Digit[1-6]$/.test(r.code)){if(t.currentMode==="wysiwyg"){var s=r.code.replace("Digit","H");(0,k.lG)(getSelection().getRangeAt(0).startContainer,s)?ve(t):me(t,s),V(t)}else t.currentMode==="sv"?fo(t,"#".repeat(parseInt(r.code.replace("Digit",""),10))+" "):t.currentMode==="ir"&&Fn(t,"#".repeat(parseInt(r.code.replace("Digit",""),10))+" ");return r.preventDefault(),!0}if((0,v.yl)(r)&&r.altKey&&!r.shiftKey&&/^Digit[7-9]$/.test(r.code))return r.code==="Digit7"?on(t,"wysiwyg",r):r.code==="Digit8"?on(t,"ir",r):r.code==="Digit9"&&on(t,"sv",r),!0;t.options.toolbar.find(function(i){return!i.hotkey||i.toolbar?!!i.toolbar&&!!i.toolbar.find(function(l){return!!l.hotkey&&(Q(l.hotkey,r)?(t.toolbar.elements[l.name].children[0].dispatchEvent(new CustomEvent((0,v.Le)())),r.preventDefault(),!0):void 0)}):Q(i.hotkey,r)?(t.toolbar.elements[i.name].children[0].dispatchEvent(new CustomEvent((0,v.Le)())),r.preventDefault(),!0):void 0})}})},ei=function(t,n){n.addEventListener("selectstart",function(r){n.onmouseup=function(){setTimeout(function(){var s=Un(t[t.currentMode].element);s.trim()?(t.currentMode==="wysiwyg"&&t.options.comment.enable&&((0,k.a1)(r.target,"data-type","footnotes-block")||(0,k.a1)(r.target,"data-type","link-ref-defs-block")?t.wysiwyg.hideComment():t.wysiwyg.showComment()),t.options.select&&t.options.select(s)):t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.wysiwyg.hideComment()})}})},co=function(t,n){var r=(0,P.zh)(t);r.extractContents(),r.insertNode(document.createTextNode(Lute.Caret)),r.insertNode(document.createTextNode(n));var s=(0,k.a1)(r.startContainer,"data-block","0");s||(s=t.sv.element);var i=t.lute.SpinVditorSVDOM(s.textContent);i=i.indexOf('data-type="footnotes-link"')>-1||i.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+i+"</div>":"<div data-block='0'>"+i.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",s.isEqualNode(t.sv.element)?s.innerHTML=i:s.outerHTML=i,(0,P.ib)(t.sv.element,r),tt(t)},sr=function(t,n,r){r===void 0&&(r=!0);var s=t;for(s.nodeType===3&&(s=s.parentElement);s;){if(s.getAttribute("data-type")===n)return s;s=r?s.previousElementSibling:s.nextElementSibling}return!1},uo=function(t,n){q("SpinVditorSVDOM",t,"argument",n.options.debugger);var r=n.lute.SpinVditorSVDOM(t);return t=r.indexOf('data-type="footnotes-link"')>-1||r.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+r+"</div>":"<div data-block='0'>"+r.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",q("SpinVditorSVDOM",t,"result",n.options.debugger),t},aa=function(t){var n=t.getAttribute("data-type"),r=t.previousElementSibling,s=n&&n!=="text"&&n!=="table"&&n!=="heading-marker"&&n!=="newline"&&n!=="yaml-front-matter-open-marker"&&n!=="yaml-front-matter-close-marker"&&n!=="code-block-info"&&n!=="code-block-close-marker"&&n!=="code-block-open-marker"?t.textContent:"",i=!1;for(n==="newline"&&(i=!0);r&&!i;){var l=r.getAttribute("data-type");if(l==="li-marker"||l==="blockquote-marker"||l==="task-marker"||l==="padding"){var d=r.textContent;if(l!=="li-marker"||n!=="code-block-open-marker"&&n!=="code-block-info")if(n==="code-block-close-marker"&&r.nextElementSibling.isSameNode(t)){var C=sr(t,"code-block-open-marker");C&&C.previousElementSibling&&(r=C.previousElementSibling,s=d+s)}else s=d+s;else s=d.replace(/\S/g," ")+s}else l==="newline"&&(i=!0);r=r.previousElementSibling}return s},rt=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),n.enableHint&&t.hint.render(t),t.preview.render(t);var r=m(t);typeof t.options.input=="function"&&n.enableInput&&t.options.input(r),t.options.counter.enable&&t.counter.render(t,r),t.options.cache.enable&&(0,v.pK)()&&(localStorage.setItem(t.options.cache.id,r),t.options.cache.after&&t.options.cache.after(r)),t.devtools&&t.devtools.renderEchart(t),clearTimeout(t.sv.processTimeoutId),t.sv.processTimeoutId=window.setTimeout(function(){n.enableAddUndoStack&&!t.sv.composingLock&&t.undo.addToUndoStack(t)},t.options.undoDelay)},fo=function(t,n){var r=(0,P.zh)(t),s=(0,F.S)(r.startContainer,"SPAN");s&&s.textContent.trim()!==""&&(n=`
`+n),r.collapse(!0),document.execCommand("insertHTML",!1,n)},ca=function(t,n,r,s){var i=(0,P.zh)(t),l=n.getAttribute("data-type");t.sv.element.childNodes.length===0&&(t.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,P.ib)(t.sv.element,i));var d=(0,k.F9)(i.startContainer),C=(0,F.S)(i.startContainer,"SPAN");if(d){if(l==="link"){var T=void 0;return T=i.toString()===""?""+r+Lute.Caret+s:""+r+i.toString()+s.replace(")",Lute.Caret+")"),void document.execCommand("insertHTML",!1,T)}if(l==="italic"||l==="bold"||l==="strike"||l==="inline-code"||l==="code"||l==="table"||l==="line")return T=void 0,T=i.toString()===""?""+r+Lute.Caret+(l==="code"?"":s):""+r+i.toString()+Lute.Caret+(l==="code"?"":s),l==="table"||l==="code"&&C&&C.textContent!==""?T=`

`+T:l==="line"&&(T=`

`+r+`
`+Lute.Caret),void document.execCommand("insertHTML",!1,T);if((l==="check"||l==="list"||l==="ordered-list"||l==="quote")&&C){var S="* ";l==="check"?S="* [ ] ":l==="ordered-list"?S="1. ":l==="quote"&&(S="> ");var x=sr(C,"newline");return x?x.insertAdjacentText("afterend",S):d.insertAdjacentText("afterbegin",S),void Re(t)}(0,P.ib)(t.sv.element,i),rt(t)}},po=function(t){switch(t.currentMode){case"ir":return t.ir.element;case"wysiwyg":return t.wysiwyg.element;case"sv":return t.sv.element}},mo=function(t,n){t.options.upload.setHeaders&&(t.options.upload.headers=t.options.upload.setHeaders()),t.options.upload.headers&&Object.keys(t.options.upload.headers).forEach(function(r){n.setRequestHeader(r,t.options.upload.headers[r])})},da=function(t,n,r,s){return new(r||(r=Promise))(function(i,l){function d(S){try{T(s.next(S))}catch(x){l(x)}}function C(S){try{T(s.throw(S))}catch(x){l(x)}}function T(S){var x;S.done?i(S.value):(x=S.value,x instanceof r?x:new r(function(B){B(x)})).then(d,C)}T((s=s.apply(t,n||[])).next())})},ua=function(t,n){var r,s,i,l,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function C(T){return function(S){return function(x){if(r)throw new TypeError("Generator is already executing.");for(;d;)try{if(r=1,s&&(i=2&x[0]?s.return:x[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,x[1])).done)return i;switch(s=0,i&&(x=[2&x[0],i.value]),x[0]){case 0:case 1:i=x;break;case 4:return d.label++,{value:x[1],done:!1};case 5:d.label++,s=x[1],x=[0];continue;case 7:x=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=i.length>0&&i[i.length-1])||x[0]!==6&&x[0]!==2)){d=0;continue}if(x[0]===3&&(!i||x[1]>i[0]&&x[1]<i[3])){d.label=x[1];break}if(x[0]===6&&d.label<i[1]){d.label=i[1],i=x;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(x);break}i[2]&&d.ops.pop(),d.trys.pop();continue}x=n.call(t,d)}catch(B){x=[6,B],s=0}finally{r=i=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([T,S])}}},fa=function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"},ti=function(t,n,r){return da(void 0,void 0,void 0,function(){var s,i,l,d,C,T,S,x,B,Z,ee,j,z,le;return ua(this,function(se){switch(se.label){case 0:for(s=[],i=t.options.upload.multiple===!0?n.length:1,j=0;j<i;j++)(l=n[j])instanceof DataTransferItem&&(l=l.getAsFile()),s.push(l);return t.options.upload.handler?[4,t.options.upload.handler(s)]:[3,2];case 1:return d=se.sent(),r&&(r.value=""),typeof d=="string"?(t.tip.show(d),[2]):[2];case 2:return t.options.upload.url&&t.upload?t.options.upload.file?[4,t.options.upload.file(s)]:[3,4]:(r&&(r.value=""),t.tip.show("please config: options.upload.url"),[2]);case 3:s=se.sent(),se.label=4;case 4:if(t.options.upload.validate&&typeof(d=t.options.upload.validate(s))=="string")return t.tip.show(d),[2];if(C=po(t),t.upload.range=(0,P.zh)(t),T=function(ie,re){ie.tip.hide();for(var U=[],ce="",we="",he=(ie.options.lang,ie.options,function(de,Le){var qe=re[Le],Ze=!0;qe.name||(ce+="<li>"+window.VditorI18n.nameEmpty+"</li>",Ze=!1),qe.size>ie.options.upload.max&&(ce+="<li>"+qe.name+" "+window.VditorI18n.over+" "+ie.options.upload.max/1024/1024+"M</li>",Ze=!1);var Rt=qe.name.lastIndexOf("."),ht=qe.name.substr(Rt),Et=ie.options.upload.filename(qe.name.substr(0,Rt))+ht;ie.options.upload.accept&&(ie.options.upload.accept.split(",").some(function(nt){var wn=nt.trim();if(wn.indexOf(".")===0){if(ht.toLowerCase()===wn.toLowerCase())return!0}else if(qe.type.split("/")[0]===wn.split("/")[0])return!0;return!1})||(ce+="<li>"+qe.name+" "+window.VditorI18n.fileTypeError+"</li>",Ze=!1)),Ze&&(U.push(qe),we+="<li>"+Et+" "+window.VditorI18n.uploading+"</li>")}),be=re.length,ye=0;ye<be;ye++)he(0,ye);return ie.tip.show("<ul>"+ce+we+"</ul>"),U}(t,s),T.length===0)return r&&(r.value=""),[2];for(S=new FormData,x=t.options.upload.extraData,B=0,Z=Object.keys(x);B<Z.length;B++)ee=Z[B],S.append(ee,x[ee]);for(j=0,z=T.length;j<z;j++)S.append(t.options.upload.fieldName,T[j]);return(le=new XMLHttpRequest).open("POST",t.options.upload.url),t.options.upload.token&&le.setRequestHeader("X-Upload-Token",t.options.upload.token),t.options.upload.withCredentials&&(le.withCredentials=!0),mo(t,le),t.upload.isUploading=!0,C.setAttribute("contenteditable","false"),le.onreadystatechange=function(){if(le.readyState===XMLHttpRequest.DONE){if(t.upload.isUploading=!1,C.setAttribute("contenteditable","true"),le.status>=200&&le.status<300)if(t.options.upload.success)t.options.upload.success(C,le.responseText);else{var ie=le.responseText;t.options.upload.format&&(ie=t.options.upload.format(n,le.responseText)),function(re,U){po(U).focus();var ce=JSON.parse(re),we="";ce.code===1&&(we=""+ce.msg),ce.data.errFiles&&ce.data.errFiles.length>0&&(we="<ul><li>"+we+"</li>",ce.data.errFiles.forEach(function(be){var ye=be.lastIndexOf("."),de=U.options.upload.filename(be.substr(0,ye))+be.substr(ye);we+="<li>"+de+" "+window.VditorI18n.uploadError+"</li>"}),we+="</ul>"),we?U.tip.show(we):U.tip.hide();var he="";Object.keys(ce.data.succMap).forEach(function(be){var ye=ce.data.succMap[be],de=be.lastIndexOf("."),Le=be.substr(de),qe=U.options.upload.filename(be.substr(0,de))+Le;(Le=Le.toLowerCase()).indexOf(".wav")===0||Le.indexOf(".mp3")===0||Le.indexOf(".ogg")===0?U.currentMode==="wysiwyg"?he+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`+ye+'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="'+ye+`"></audio></pre></div>
`:U.currentMode==="ir"?he+='<audio controls="controls" src="'+ye+`"></audio>
`:he+="["+qe+"]("+ye+`)
`:Le.indexOf(".apng")===0||Le.indexOf(".bmp")===0||Le.indexOf(".gif")===0||Le.indexOf(".ico")===0||Le.indexOf(".cur")===0||Le.indexOf(".jpg")===0||Le.indexOf(".jpeg")===0||Le.indexOf(".jfif")===0||Le.indexOf(".pjp")===0||Le.indexOf(".pjpeg")===0||Le.indexOf(".png")===0||Le.indexOf(".svg")===0||Le.indexOf(".webp")===0?U.currentMode==="wysiwyg"?he+='<img alt="'+qe+'" src="'+ye+`">
`:he+="!["+qe+"]("+ye+`)
`:U.currentMode==="wysiwyg"?he+='<a href="'+ye+'">'+qe+`</a>
`:he+="["+qe+"]("+ye+`)
`}),(0,P.Hc)(U.upload.range),document.execCommand("insertHTML",!1,he),U.upload.range=getSelection().getRangeAt(0).cloneRange()}(ie,t)}else t.options.upload.error?t.options.upload.error(le.responseText):t.tip.show(le.responseText);r&&(r.value=""),t.upload.element.style.display="none"}},le.upload.onprogress=function(ie){if(ie.lengthComputable){var re=ie.loaded/ie.total*100;t.upload.element.style.display="block",t.upload.element.style.width=re+"%"}},le.send(S),[2]}})})},lr=function(t,n,r){var s,i=(0,k.F9)(n.startContainer);if(i||(i=t.wysiwyg.element),r&&r.inputType!=="formatItalic"&&r.inputType!=="deleteByDrag"&&r.inputType!=="insertFromDrop"&&r.inputType!=="formatBold"&&r.inputType!=="formatRemove"&&r.inputType!=="formatStrikeThrough"&&r.inputType!=="insertUnorderedList"&&r.inputType!=="insertOrderedList"&&r.inputType!=="formatOutdent"&&r.inputType!=="formatIndent"&&r.inputType!==""||!r){var l=function(re){for(var U=re.previousSibling;U;){if(U.nodeType!==3&&U.tagName==="A"&&!U.previousSibling&&U.innerHTML.replace(h.g.ZWSP,"")===""&&U.nextSibling)return U;U=U.previousSibling}return!1}(n.startContainer);l&&l.remove(),t.wysiwyg.element.querySelectorAll("wbr").forEach(function(re){re.remove()}),n.insertNode(document.createElement("wbr")),i.querySelectorAll("[style]").forEach(function(re){re.removeAttribute("style")}),i.querySelectorAll(".vditor-comment").forEach(function(re){re.textContent.trim()===""&&(re.classList.remove("vditor-comment","vditor-comment--focus"),re.removeAttribute("data-cmtids"))}),(s=i.previousElementSibling)===null||s===void 0||s.querySelectorAll(".vditor-comment").forEach(function(re){re.textContent.trim()===""&&(re.classList.remove("vditor-comment","vditor-comment--focus"),re.removeAttribute("data-cmtids"))});var d="";i.getAttribute("data-type")==="link-ref-defs-block"&&(i=t.wysiwyg.element);var C,T=i.isEqualNode(t.wysiwyg.element),S=(0,k.a1)(i,"data-type","footnotes-block");if(T)d=i.innerHTML;else{var x=(0,k.O9)(n.startContainer);if(x&&!S){var B=(0,F.S)(n.startContainer,"BLOCKQUOTE");i=B?(0,k.F9)(n.startContainer)||i:x}if(S&&(i=S),d=i.outerHTML,i.tagName==="UL"||i.tagName==="OL"){var Z=i.previousElementSibling,ee=i.nextElementSibling;!Z||Z.tagName!=="UL"&&Z.tagName!=="OL"||(d=Z.outerHTML+d,Z.remove()),!ee||ee.tagName!=="UL"&&ee.tagName!=="OL"||(d+=ee.outerHTML,ee.remove()),d=d.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}i.innerText.startsWith("```")||(t.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(re){re&&!i.isEqualNode(re)&&(d+=re.outerHTML,re.remove())}),t.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(re){re&&!i.isEqualNode(re)&&(d+=re.outerHTML,re.remove())}))}if((d=d.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""))==='<p data-block="0">```<wbr></p>'&&t.hint.recentLanguage&&(d='<p data-block="0">```<wbr></p>'.replace("```","```"+t.hint.recentLanguage)),q("SpinVditorDOM",d,"argument",t.options.debugger),d=t.lute.SpinVditorDOM(d),q("SpinVditorDOM",d,"result",t.options.debugger),T)i.innerHTML=d;else if(i.outerHTML=d,S){var j=(0,k.E2)(t.wysiwyg.element.querySelector("wbr"),"LI");if(j){var z=t.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+j.getAttribute("data-marker")+'"]');z&&z.setAttribute("aria-label",j.textContent.trim().substr(0,24))}}var le,se=t.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");se.forEach(function(re,U){U===0?C=re:(C.insertAdjacentHTML("beforeend",re.innerHTML),re.remove())}),se.length>0&&t.wysiwyg.element.insertAdjacentElement("beforeend",se[0]);var ie=t.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");ie.forEach(function(re,U){U===0?le=re:(le.insertAdjacentHTML("beforeend",re.innerHTML),re.remove())}),ie.length>0&&t.wysiwyg.element.insertAdjacentElement("beforeend",ie[0]),(0,P.ib)(t.wysiwyg.element,n),t.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(re){Ue(re,t)}),r&&(r.inputType==="deleteContentBackward"||r.inputType==="deleteContentForward")&&t.options.comment.enable&&(t.wysiwyg.triggerRemoveComment(t),t.options.comment.adjustTop(t.wysiwyg.getComments(t,!0)))}Xe(t),V(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},pa=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},ma=function(t,n,r,s){return new(r||(r=Promise))(function(i,l){function d(S){try{T(s.next(S))}catch(x){l(x)}}function C(S){try{T(s.throw(S))}catch(x){l(x)}}function T(S){var x;S.done?i(S.value):(x=S.value,x instanceof r?x:new r(function(B){B(x)})).then(d,C)}T((s=s.apply(t,n||[])).next())})},ha=function(t,n){var r,s,i,l,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function C(T){return function(S){return function(x){if(r)throw new TypeError("Generator is already executing.");for(;d;)try{if(r=1,s&&(i=2&x[0]?s.return:x[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,x[1])).done)return i;switch(s=0,i&&(x=[2&x[0],i.value]),x[0]){case 0:case 1:i=x;break;case 4:return d.label++,{value:x[1],done:!1};case 5:d.label++,s=x[1],x=[0];continue;case 7:x=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=i.length>0&&i[i.length-1])||x[0]!==6&&x[0]!==2)){d=0;continue}if(x[0]===3&&(!i||x[1]>i[0]&&x[1]<i[3])){d.label=x[1];break}if(x[0]===6&&d.label<i[1]){d.label=i[1],i=x;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(x);break}i[2]&&d.ops.pop(),d.trys.pop();continue}x=n.call(t,d)}catch(B){x=[6,B],s=0}finally{r=i=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([T,S])}}},ho=function(t,n,r){if(t.keyCode===229&&t.code===""&&t.key==="Unidentified"&&n.currentMode!=="sv"){var s=(0,k.F9)(r);if(s&&s.textContent.trim()==="")return n[n.currentMode].composingLock=!0,!1}return!0},vo=function(t,n,r){if(!(r.key==="Enter"||r.key==="Tab"||r.key==="Backspace"||r.key.indexOf("Arrow")>-1||(0,v.yl)(r)||r.key==="Escape"||r.shiftKey||r.altKey)){var s=(0,k.lG)(t.startContainer,"P")||(0,k.lG)(t.startContainer,"LI");if(s&&(0,P.im)(s,n[n.currentMode].element,t).start===0){s.nodeValue=s.nodeValue.replace(/\u2006/g,"");var i=document.createTextNode(h.g.ZWSP);t.insertNode(i),t.setStartAfter(i)}}},go=function(t,n){if(n==="ArrowDown"||n==="ArrowUp"){var r=(0,k.a1)(t.startContainer,"data-type","math-inline")||(0,k.a1)(t.startContainer,"data-type","html-entity")||(0,k.a1)(t.startContainer,"data-type","html-inline");r&&(n==="ArrowDown"&&t.setStartAfter(r.parentElement),n==="ArrowUp"&&t.setStartBefore(r.parentElement))}},ar=function(t,n){var r=(0,P.zh)(t),s=(0,k.F9)(r.startContainer);s&&(s.insertAdjacentHTML(n,'<p data-block="0">'+h.g.ZWSP+`<wbr>
</p>`),(0,P.ib)(t[t.currentMode].element,r),et(t),Oe(t))},va=function(t){var n=(0,k.lG)(t,"TABLE");return!(!n||!n.rows[0].cells[0].isSameNode(t))&&n},ga=function(t){var n=(0,k.lG)(t,"TABLE");return!(!n||!n.lastElementChild.lastElementChild.lastElementChild.isSameNode(t))&&n},yo=function(t,n,r){r===void 0&&(r=!0);var s=t.previousElementSibling;return s||(s=t.parentElement.previousElementSibling?t.parentElement.previousElementSibling.lastElementChild:t.parentElement.parentElement.tagName==="TBODY"&&t.parentElement.parentElement.previousElementSibling?t.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:null),s&&(n.selectNodeContents(s),r||n.collapse(!1),(0,P.Hc)(n)),s},qn=function(t,n,r,s,i){var l=(0,P.im)(s,t[t.currentMode].element,r);if(n.key==="ArrowDown"&&s.textContent.trimRight().substr(l.start).indexOf(`
`)===-1||n.key==="ArrowRight"&&l.start>=s.textContent.trimRight().length){var d=i.nextElementSibling;return!d||d&&(d.tagName==="TABLE"||d.getAttribute("data-type"))?(i.insertAdjacentHTML("afterend",'<p data-block="0">'+h.g.ZWSP+"<wbr></p>"),(0,P.ib)(t[t.currentMode].element,r)):(r.selectNodeContents(d),r.collapse(!0),(0,P.Hc)(r)),n.preventDefault(),!0}return!1},bn=function(t,n,r,s,i){var l=(0,P.im)(s,t[t.currentMode].element,r);if(n.key==="ArrowUp"&&s.textContent.substr(0,l.start).indexOf(`
`)===-1||(n.key==="ArrowLeft"||n.key==="Backspace"&&r.toString()==="")&&l.start===0){var d=i.previousElementSibling;return!d||d&&(d.tagName==="TABLE"||d.getAttribute("data-type"))?(i.insertAdjacentHTML("beforebegin",'<p data-block="0">'+h.g.ZWSP+"<wbr></p>"),(0,P.ib)(t[t.currentMode].element,r)):(r.selectNodeContents(d),r.collapse(!1),(0,P.Hc)(r)),n.preventDefault(),!0}return!1},cr=function(t,n,r,s){s===void 0&&(s=!0);var i=(0,k.lG)(n.startContainer,"LI");if(t[t.currentMode].element.querySelectorAll("wbr").forEach(function(x){x.remove()}),n.insertNode(document.createElement("wbr")),s&&i){for(var l="",d=0;d<i.parentElement.childElementCount;d++){var C=i.parentElement.children[d].querySelector("input");C&&C.remove(),l+='<p data-block="0">'+i.parentElement.children[d].innerHTML.trimLeft()+"</p>"}i.parentElement.insertAdjacentHTML("beforebegin",l),i.parentElement.remove()}else if(i)if(r==="check")i.parentElement.querySelectorAll("li").forEach(function(x){x.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'+(x.textContent.indexOf(" ")===0?"":" ")),x.classList.add("vditor-task")});else{i.querySelector("input")&&i.parentElement.querySelectorAll("li").forEach(function(x){x.querySelector("input").remove(),x.classList.remove("vditor-task")});var T=void 0;r==="list"?(T=document.createElement("ul")).setAttribute("data-marker","*"):(T=document.createElement("ol")).setAttribute("data-marker","1."),T.setAttribute("data-block","0"),T.setAttribute("data-tight",i.parentElement.getAttribute("data-tight")),T.innerHTML=i.parentElement.innerHTML,i.parentElement.parentNode.replaceChild(T,i.parentElement)}else{var S=(0,k.a1)(n.startContainer,"data-block","0");S||(t[t.currentMode].element.querySelector("wbr").remove(),(S=t[t.currentMode].element.querySelector("p")).innerHTML="<wbr>"),r==="check"?(S.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '+S.innerHTML+"</li></ul>"),S.remove()):r==="list"?(S.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'+S.innerHTML+"</li></ul>"),S.remove()):r==="ordered-list"&&(S.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'+S.innerHTML+"</li></ol>"),S.remove())}},bo=function(t,n,r){var s=n.previousElementSibling;if(n&&s){var i=[n];Array.from(r.cloneContents().children).forEach(function(T,S){T.nodeType!==3&&n&&T.textContent.trim()!==""&&n.getAttribute("data-node-id")===T.getAttribute("data-node-id")&&(S!==0&&i.push(n),n=n.nextElementSibling)}),t[t.currentMode].element.querySelectorAll("wbr").forEach(function(T){T.remove()}),r.insertNode(document.createElement("wbr"));var l=s.parentElement,d="";i.forEach(function(T){var S=T.getAttribute("data-marker");S.length!==1&&(S="1"+S.slice(-1)),d+='<li data-node-id="'+T.getAttribute("data-node-id")+'" data-marker="'+S+'">'+T.innerHTML+"</li>",T.remove()}),s.insertAdjacentHTML("beforeend","<"+l.tagName+' data-block="0">'+d+"</"+l.tagName+">"),t.currentMode==="wysiwyg"?l.outerHTML=t.lute.SpinVditorDOM(l.outerHTML):l.outerHTML=t.lute.SpinVditorIRDOM(l.outerHTML),(0,P.ib)(t[t.currentMode].element,r);var C=(0,k.O9)(r.startContainer);C&&C.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach(function(T){Ue(T,t),t.currentMode==="wysiwyg"&&T.previousElementSibling.setAttribute("style","display:none")}),Oe(t),et(t)}else t[t.currentMode].element.focus()},ni=function(t,n,r,s){var i=(0,k.lG)(n.parentElement,"LI");if(i){t[t.currentMode].element.querySelectorAll("wbr").forEach(function(B){B.remove()}),r.insertNode(document.createElement("wbr"));var l=n.parentElement,d=l.cloneNode(),C=[n];Array.from(r.cloneContents().children).forEach(function(B,Z){B.nodeType!==3&&n&&B.textContent.trim()!==""&&n.getAttribute("data-node-id")===B.getAttribute("data-node-id")&&(Z!==0&&C.push(n),n=n.nextElementSibling)});var T=!1,S="";l.querySelectorAll("li").forEach(function(B){T&&(S+=B.outerHTML,B.nextElementSibling||B.previousElementSibling?B.remove():B.parentElement.remove()),B.isSameNode(C[C.length-1])&&(T=!0)}),C.reverse().forEach(function(B){i.insertAdjacentElement("afterend",B)}),S&&(d.innerHTML=S,C[0].insertAdjacentElement("beforeend",d)),t.currentMode==="wysiwyg"?s.outerHTML=t.lute.SpinVditorDOM(s.outerHTML):s.outerHTML=t.lute.SpinVditorIRDOM(s.outerHTML),(0,P.ib)(t[t.currentMode].element,r);var x=(0,k.O9)(r.startContainer);x&&x.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach(function(B){Ue(B,t),t.currentMode==="wysiwyg"&&B.previousElementSibling.setAttribute("style","display:none")}),Oe(t),et(t)}else t[t.currentMode].element.focus()},dr=function(t,n){for(var r=getSelection().getRangeAt(0).startContainer.parentElement,s=t.rows[0].cells.length,i=t.rows.length,l=0,d=0;d<i;d++)for(var C=0;C<s;C++)if(t.rows[d].cells[C].isSameNode(r)){l=C;break}for(var T=0;T<i;T++)t.rows[T].cells[l].setAttribute("align",n)},ri=function(t){var n=t.trimRight().split(`
`).pop();return n!==""&&(n.replace(/ |-/g,"")===""||n.replace(/ |_/g,"")===""||n.replace(/ |\*/g,"")==="")&&n.replace(/ /g,"").length>2&&!(n.indexOf("-")>-1&&n.trimLeft().indexOf(" ")===-1&&t.trimRight().split(`
`).length>1)&&n.indexOf("    ")!==0&&n.indexOf("	")!==0},ii=function(t){var n=t.trimRight().split(`
`);return(t=n.pop()).indexOf("    ")!==0&&t.indexOf("	")!==0&&(t=t.trimLeft())!==""&&n.length!==0&&(t.replace(/-/g,"")===""||t.replace(/=/g,"")==="")},Oe=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.currentMode==="wysiwyg"?V(t,n):t.currentMode==="ir"?jt(t,n):t.currentMode==="sv"&&rt(t,n)},wo=function(t,n,r,s){var i,l=t.startContainer,d=(0,k.lG)(l,"LI");if(d){if(!(0,v.yl)(s)&&!s.altKey&&s.key==="Enter"&&!s.shiftKey&&r&&d.contains(r)&&r.nextElementSibling)return d&&!d.textContent.endsWith(`
`)&&d.insertAdjacentText("beforeend",`
`),t.insertNode(document.createTextNode(`

`)),t.collapse(!1),Oe(n),s.preventDefault(),!0;if(!((0,v.yl)(s)||s.shiftKey||s.altKey||s.key!=="Backspace"||d.previousElementSibling||t.toString()!==""||(0,P.im)(d,n[n.currentMode].element,t).start!==0))return d.nextElementSibling?(d.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+d.innerHTML+"</p>"),d.remove()):d.parentElement.outerHTML='<p data-block="0"><wbr>'+d.innerHTML+"</p>",(0,P.ib)(n[n.currentMode].element,t),Oe(n),s.preventDefault(),!0;if(!(0,v.yl)(s)&&!s.shiftKey&&!s.altKey&&s.key==="Backspace"&&d.textContent.trim().replace(h.g.ZWSP,"")===""&&t.toString()===""&&((i=d.previousElementSibling)===null||i===void 0?void 0:i.tagName)==="LI")return d.previousElementSibling.insertAdjacentText("beforeend",`

`),t.selectNodeContents(d.previousElementSibling),t.collapse(!1),d.remove(),(0,P.ib)(n[n.currentMode].element,t),Oe(n),s.preventDefault(),!0;if(!(0,v.yl)(s)&&!s.altKey&&s.key==="Tab"){var C=!1;if((t.startOffset===0&&(l.nodeType===3&&!l.previousSibling||l.nodeType!==3&&l.nodeName==="LI")||d.classList.contains("vditor-task")&&t.startOffset===1&&l.previousSibling.nodeType!==3&&l.previousSibling.tagName==="INPUT")&&(C=!0),C||t.toString()!=="")return s.shiftKey?ni(n,d,t,d.parentElement):bo(n,d,t),s.preventDefault(),!0}}return!1},oi=function(t,n,r){if(t.options.tab&&r.key==="Tab")return r.shiftKey||(n.toString()===""?(n.insertNode(document.createTextNode(t.options.tab)),n.collapse(!1)):(n.extractContents(),n.insertNode(document.createTextNode(t.options.tab)),n.collapse(!1))),(0,P.Hc)(n),Oe(t),r.preventDefault(),!0},Eo=function(t,n,r,s){if(r){if(!(0,v.yl)(t)&&!t.altKey&&t.key==="Enter"){var i=String.raw(W||(W=pa(["",""],["",""])),r.textContent).replace(/\\\|/g,"").trim(),l=i.split("|");if(i.startsWith("|")&&i.endsWith("|")&&l.length>3){var d=l.map(function(){return"---"}).join("|");return d=r.textContent+`
`+d.substring(3,d.length-3)+`
|<wbr>`,r.outerHTML=n.lute.SpinVditorDOM(d),(0,P.ib)(n[n.currentMode].element,s),Oe(n),tt(n),t.preventDefault(),!0}if(ri(r.innerHTML)&&r.previousElementSibling){var C="",T=r.innerHTML.trimRight().split(`
`);return T.length>1&&(T.pop(),C='<p data-block="0">'+T.join(`
`)+"</p>"),r.insertAdjacentHTML("afterend",C+`<hr data-block="0"><p data-block="0"><wbr>
</p>`),r.remove(),(0,P.ib)(n[n.currentMode].element,s),Oe(n),tt(n),t.preventDefault(),!0}if(ii(r.innerHTML))return n.currentMode==="wysiwyg"?r.outerHTML=n.lute.SpinVditorDOM(r.innerHTML+`<p data-block="0"><wbr>
</p>`):r.outerHTML=n.lute.SpinVditorIRDOM(r.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,P.ib)(n[n.currentMode].element,s),Oe(n),tt(n),t.preventDefault(),!0}if(s.collapsed&&r.previousElementSibling&&t.key==="Backspace"&&!(0,v.yl)(t)&&!t.altKey&&!t.shiftKey&&r.textContent.trimRight().split(`
`).length>1&&(0,P.im)(r,n[n.currentMode].element,s).start===0){var S=(0,k.DX)(r.previousElementSibling);return S.textContent.endsWith(`
`)||(S.textContent=S.textContent+`
`),S.parentElement.insertAdjacentHTML("beforeend","<wbr>"+r.innerHTML),r.remove(),(0,P.ib)(n[n.currentMode].element,s),!1}return!1}},_o=function(t,n,r){for(var s="",i=0;i<r.parentElement.childElementCount;i++)s+='<td align="'+r.parentElement.children[i].getAttribute("align")+'"> </td>';r.tagName==="TH"?r.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>"+s+"</tr></tbody>"):r.parentElement.insertAdjacentHTML("afterend","<tr>"+s+"</tr>"),Oe(t)},Co=function(t,n,r){for(var s="",i=0;i<r.parentElement.childElementCount;i++)r.tagName==="TH"?s+='<th align="'+r.parentElement.children[i].getAttribute("align")+'"> </th>':s+='<td align="'+r.parentElement.children[i].getAttribute("align")+'"> </td>';if(r.tagName==="TH"){r.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>"+s+"</tr></thead>"),n.insertNode(document.createElement("wbr"));var l=r.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");r.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",l),r.parentElement.parentElement.remove(),(0,P.ib)(t.ir.element,n)}else r.parentElement.insertAdjacentHTML("beforebegin","<tr>"+s+"</tr>");Oe(t)},ur=function(t,n,r,s){s===void 0&&(s="afterend");for(var i=0,l=r.previousElementSibling;l;)i++,l=l.previousElementSibling;for(var d=0;d<n.rows.length;d++)d===0?n.rows[d].cells[i].insertAdjacentHTML(s,"<th> </th>"):n.rows[d].cells[i].insertAdjacentHTML(s,"<td> </td>");Oe(t)},ko=function(t,n,r){if(r.tagName==="TD"){var s=r.parentElement.parentElement;r.parentElement.previousElementSibling?n.selectNodeContents(r.parentElement.previousElementSibling.lastElementChild):n.selectNodeContents(s.previousElementSibling.lastElementChild.lastElementChild),s.childElementCount===1?s.remove():r.parentElement.remove(),n.collapse(!1),(0,P.Hc)(n),Oe(t)}},So=function(t,n,r,s){for(var i=0,l=s.previousElementSibling;l;)i++,l=l.previousElementSibling;(s.previousElementSibling||s.nextElementSibling)&&(n.selectNodeContents(s.previousElementSibling||s.nextElementSibling),n.collapse(!0));for(var d=0;d<r.rows.length;d++){var C=r.rows[d].cells;if(C.length===1){r.remove(),et(t);break}C[i].remove()}(0,P.Hc)(n),Oe(t)},xo=function(t,n,r){var s=r.startContainer,i=(0,k.lG)(s,"TD")||(0,k.lG)(s,"TH");if(i){if(!(0,v.yl)(n)&&!n.altKey&&n.key==="Enter"){i.lastElementChild&&(!i.lastElementChild||i.lastElementChild.isSameNode(i.lastChild)&&i.lastElementChild.tagName==="BR")||i.insertAdjacentHTML("beforeend","<br>");var l=document.createElement("br");return r.insertNode(l),r.setStartAfter(l),Oe(t),tt(t),n.preventDefault(),!0}if(n.key==="Tab")return n.shiftKey?(yo(i,r),n.preventDefault(),!0):((x=i.nextElementSibling)||(x=i.parentElement.nextElementSibling?i.parentElement.nextElementSibling.firstElementChild:i.parentElement.parentElement.tagName==="THEAD"&&i.parentElement.parentElement.nextElementSibling?i.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:null),x&&(r.selectNodeContents(x),(0,P.Hc)(r)),n.preventDefault(),!0);var d=i.parentElement.parentElement.parentElement;if(n.key==="ArrowUp"){if(n.preventDefault(),i.tagName==="TH")return d.previousElementSibling?(r.selectNodeContents(d.previousElementSibling),r.collapse(!1),(0,P.Hc)(r)):ar(t,"beforebegin"),!0;for(var C=0,T=i.parentElement;C<T.cells.length&&!T.cells[C].isSameNode(i);C++);var S=T.previousElementSibling;return S||(S=T.parentElement.previousElementSibling.firstChild),r.selectNodeContents(S.cells[C]),r.collapse(!1),(0,P.Hc)(r),!0}if(n.key==="ArrowDown"){var x;if(n.preventDefault(),!(T=i.parentElement).nextElementSibling&&i.tagName==="TD")return d.nextElementSibling?(r.selectNodeContents(d.nextElementSibling),r.collapse(!0),(0,P.Hc)(r)):ar(t,"afterend"),!0;for(C=0;C<T.cells.length&&!T.cells[C].isSameNode(i);C++);return(x=T.nextElementSibling)||(x=T.parentElement.nextElementSibling.firstChild),r.selectNodeContents(x.cells[C]),r.collapse(!0),(0,P.Hc)(r),!0}if(t.currentMode==="wysiwyg"&&!(0,v.yl)(n)&&n.key==="Enter"&&!n.shiftKey&&n.altKey){var B=t.wysiwyg.popover.querySelector(".vditor-input");return B.focus(),B.select(),n.preventDefault(),!0}if(!(0,v.yl)(n)&&!n.shiftKey&&!n.altKey&&n.key==="Backspace"&&r.startOffset===0&&r.toString()==="")return!yo(i,r,!1)&&d&&(d.textContent.trim()===""?(d.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,P.ib)(t[t.currentMode].element,r)):(r.setStartBefore(d),r.collapse(!0)),Oe(t)),n.preventDefault(),!0;if(Q("\u21E7\u2318F",n))return Co(t,r,i),n.preventDefault(),!0;if(Q("\u2318=",n))return _o(t,r,i),n.preventDefault(),!0;if(Q("\u21E7\u2318G",n))return ur(t,d,i,"beforebegin"),n.preventDefault(),!0;if(Q("\u21E7\u2318=",n))return ur(t,d,i),n.preventDefault(),!0;if(Q("\u2318-",n))return ko(t,r,i),n.preventDefault(),!0;if(Q("\u21E7\u2318-",n))return So(t,r,d,i),n.preventDefault(),!0;if(Q("\u21E7\u2318L",n)){if(t.currentMode==="ir")return dr(d,"left"),Oe(t),n.preventDefault(),!0;if(Z=t.wysiwyg.popover.querySelector('[data-type="left"]'))return Z.click(),n.preventDefault(),!0}if(Q("\u21E7\u2318C",n)){if(t.currentMode==="ir")return dr(d,"center"),Oe(t),n.preventDefault(),!0;if(Z=t.wysiwyg.popover.querySelector('[data-type="center"]'))return Z.click(),n.preventDefault(),!0}if(Q("\u21E7\u2318R",n)){if(t.currentMode==="ir")return dr(d,"right"),Oe(t),n.preventDefault(),!0;var Z;if(Z=t.wysiwyg.popover.querySelector('[data-type="right"]'))return Z.click(),n.preventDefault(),!0}}return!1},To=function(t,n,r,s){if(r.tagName==="PRE"&&Q("\u2318A",n))return s.selectNodeContents(r.firstElementChild),n.preventDefault(),!0;if(t.options.tab&&n.key==="Tab"&&!n.shiftKey&&s.toString()==="")return s.insertNode(document.createTextNode(t.options.tab)),s.collapse(!1),Oe(t),n.preventDefault(),!0;if(n.key==="Backspace"&&!(0,v.yl)(n)&&!n.shiftKey&&!n.altKey){var i=(0,P.im)(r,t[t.currentMode].element,s);if((i.start===0||i.start===1&&r.innerText===`
`)&&s.toString()==="")return r.parentElement.outerHTML='<p data-block="0"><wbr>'+r.firstElementChild.innerHTML+"</p>",(0,P.ib)(t[t.currentMode].element,s),Oe(t),n.preventDefault(),!0}return!(0,v.yl)(n)&&!n.altKey&&n.key==="Enter"&&(r.firstElementChild.textContent.endsWith(`
`)||r.firstElementChild.insertAdjacentText("beforeend",`
`),s.extractContents(),s.insertNode(document.createTextNode(`
`)),s.collapse(!1),(0,P.Hc)(s),(0,v.vU)()||(t.currentMode==="wysiwyg"?lr(t,s):Be(t,s)),tt(t),n.preventDefault(),!0)},Lo=function(t,n,r,s){var i=n.startContainer,l=(0,k.lG)(i,"BLOCKQUOTE");if(l&&n.toString()===""){if(r.key==="Backspace"&&!(0,v.yl)(r)&&!r.shiftKey&&!r.altKey&&(0,P.im)(l,t[t.currentMode].element,n).start===0)return n.insertNode(document.createElement("wbr")),l.outerHTML=l.innerHTML,(0,P.ib)(t[t.currentMode].element,n),Oe(t),r.preventDefault(),!0;if(s&&r.key==="Enter"&&!(0,v.yl)(r)&&!r.shiftKey&&!r.altKey&&s.parentElement.tagName==="BLOCKQUOTE"){var d=!1;if(s.innerHTML.replace(h.g.ZWSP,"")===`
`||s.innerHTML.replace(h.g.ZWSP,"")===""?(d=!0,s.remove()):s.innerHTML.endsWith(`

`)&&(0,P.im)(s,t[t.currentMode].element,n).start===s.textContent.length-1&&(s.innerHTML=s.innerHTML.substr(0,s.innerHTML.length-2),d=!0),d)return l.insertAdjacentHTML("afterend",'<p data-block="0">'+h.g.ZWSP+`<wbr>
</p>`),(0,P.ib)(t[t.currentMode].element,n),Oe(t),r.preventDefault(),!0}var C=(0,k.F9)(i);if(t.currentMode==="wysiwyg"&&C&&Q("\u21E7\u2318;",r))return n.insertNode(document.createElement("wbr")),C.outerHTML='<blockquote data-block="0">'+C.outerHTML+"</blockquote>",(0,P.ib)(t.wysiwyg.element,n),V(t),r.preventDefault(),!0;if(qn(t,r,n,l,l)||bn(t,r,n,l,l))return!0}return!1},Ao=function(t,n,r){var s=n.startContainer,i=(0,k.fb)(s,"vditor-task");if(i){if(Q("\u21E7\u2318J",r)){var l=i.firstElementChild;return l.checked?l.removeAttribute("checked"):l.setAttribute("checked","checked"),Oe(t),r.preventDefault(),!0}if(r.key==="Backspace"&&!(0,v.yl)(r)&&!r.shiftKey&&!r.altKey&&n.toString()===""&&n.startOffset===1&&(s.nodeType===3&&s.previousSibling&&s.previousSibling.tagName==="INPUT"||s.nodeType!==3)){var d=i.previousElementSibling;return i.querySelector("input").remove(),d?((0,k.DX)(d).parentElement.insertAdjacentHTML("beforeend","<wbr>"+i.innerHTML.trim()),i.remove()):(i.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+(i.innerHTML.trim()||`
`)+"</p>"),i.nextElementSibling?i.remove():i.parentElement.remove()),(0,P.ib)(t[t.currentMode].element,n),Oe(t),r.preventDefault(),!0}if(r.key==="Enter"&&!(0,v.yl)(r)&&!r.shiftKey&&!r.altKey){if(i.textContent.trim()==="")if((0,k.fb)(i.parentElement,"vditor-task")){var C=(0,k.O9)(s);C&&ni(t,i,n,C)}else if(i.nextElementSibling){var T="",S="",x=!1;Array.from(i.parentElement.children).forEach(function(j){i.isSameNode(j)?x=!0:x?T+=j.outerHTML:S+=j.outerHTML});var B=i.parentElement.tagName,Z=i.parentElement.tagName==="OL"?"":' data-marker="'+i.parentElement.getAttribute("data-marker")+'"',ee="";S&&(ee=i.parentElement.tagName==="UL"?"":' start="1"',S="<"+B+' data-tight="true"'+Z+' data-block="0">'+S+"</"+B+">"),i.parentElement.outerHTML=S+`<p data-block="0"><wbr>
</p><`+B+`
 data-tight="true"`+Z+' data-block="0"'+ee+">"+T+"</"+B+">"}else i.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),i.parentElement.querySelectorAll("li").length===1?i.parentElement.remove():i.remove();else s.nodeType!==3&&n.startOffset===0&&s.firstChild.tagName==="INPUT"?n.setStart(s.childNodes[1],1):(n.setEndAfter(i.lastChild),i.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'+i.getAttribute("data-marker")+'"><input type="checkbox"> <wbr></li>'),document.querySelector("wbr").after(n.extractContents()));return(0,P.ib)(t[t.currentMode].element,n),Oe(t),tt(t),r.preventDefault(),!0}}return!1},Mo=function(t,n,r,s){if(n.startContainer.nodeType!==3){var i=n.startContainer.children[n.startOffset];if(i&&i.tagName==="HR")return n.selectNodeContents(i.previousElementSibling),n.collapse(!1),r.preventDefault(),!0}if(s){var l=s.previousElementSibling;if(l&&(0,P.im)(s,t[t.currentMode].element,n).start===0&&((0,v.vU)()&&l.tagName==="HR"||l.tagName==="TABLE")){if(l.tagName==="TABLE"){var d=l.lastElementChild.lastElementChild.lastElementChild;d.innerHTML=d.innerHTML.trimLeft()+"<wbr>"+s.textContent.trim(),s.remove()}else l.remove();return(0,P.ib)(t[t.currentMode].element,n),Oe(t),r.preventDefault(),!0}}return!1},Ho=function(t){(0,v.vU)()&&t.startContainer.nodeType!==3&&t.startContainer.tagName==="HR"&&t.setStartBefore(t.startContainer)},No=function(t,n,r){var s,i;if(!(0,v.vU)())return!1;if(t.key==="ArrowUp"&&n&&((s=n.previousElementSibling)===null||s===void 0?void 0:s.tagName)==="TABLE"){var l=n.previousElementSibling;return r.selectNodeContents(l.rows[l.rows.length-1].lastElementChild),r.collapse(!1),t.preventDefault(),!0}return!(t.key!=="ArrowDown"||!n||((i=n.nextElementSibling)===null||i===void 0?void 0:i.tagName)!=="TABLE")&&(r.selectNodeContents(n.nextElementSibling.rows[0].cells[0]),r.collapse(!0),t.preventDefault(),!0)},fr=function(t,n,r){return ma(void 0,void 0,void 0,function(){var s,i,l,d,C,T,S,x,B,Z,ee,j,z,le,se,ie;return ha(this,function(re){switch(re.label){case 0:return t[t.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(n.stopPropagation(),n.preventDefault(),"clipboardData"in n?(s=n.clipboardData.getData("text/html"),i=n.clipboardData.getData("text/plain"),l=n.clipboardData.files):(s=n.dataTransfer.getData("text/html"),i=n.dataTransfer.getData("text/plain"),n.dataTransfer.types.includes("Files")&&(l=n.dataTransfer.items)),d={},C=function(U,ce){if(!ce)return["",Lute.WalkContinue];var we=U.TokensStr();if(U.__internal_object__.Parent.Type===34&&we&&we.indexOf("file://")===-1&&t.options.upload.linkToImgUrl){var he=new XMLHttpRequest;he.open("POST",t.options.upload.linkToImgUrl),t.options.upload.token&&he.setRequestHeader("X-Upload-Token",t.options.upload.token),t.options.upload.withCredentials&&(he.withCredentials=!0),mo(t,he),he.setRequestHeader("Content-Type","application/json; charset=utf-8"),he.onreadystatechange=function(){if(he.readyState===XMLHttpRequest.DONE){if(he.status===200){var be=he.responseText;t.options.upload.linkToImgFormat&&(be=t.options.upload.linkToImgFormat(he.responseText));var ye=JSON.parse(be);if(ye.code!==0)return void t.tip.show(ye.msg);var de=ye.data.originalURL;if(t.currentMode==="sv")t.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(qe){qe.textContent===de&&(qe.textContent=ye.data.url)});else{var Le=t[t.currentMode].element.querySelector('img[src="'+de+'"]');Le.src=ye.data.url,t.currentMode==="ir"&&(Le.previousElementSibling.previousElementSibling.innerHTML=ye.data.url)}Oe(t)}else t.tip.show(he.responseText);t.options.upload.linkToImgCallback&&t.options.upload.linkToImgCallback(he.responseText)}},he.send(JSON.stringify({url:we}))}return t.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'+Lute.EscapeHTMLStr(we)+"</span>",Lute.WalkContinue]:t.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'+Lute.EscapeHTMLStr(we)+"</span>",Lute.WalkContinue]},s.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'+i+'">'+i+"</a>"&&s.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<!--StartFragment--><a href="'+i+'">'+i+"</a><!--EndFragment-->"||(s=""),(T=new DOMParser().parseFromString(s,"text/html")).body&&(s=T.body.innerHTML),s=Lute.Sanitize(s),t.wysiwyg.getComments(t),S=t[t.currentMode].element.scrollHeight,x=function(U,ce,we){we===void 0&&(we="sv");var he=document.createElement("div");he.innerHTML=U;var be=!1;he.childElementCount===1&&he.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(be=!0);var ye=he.querySelectorAll("pre");if(he.childElementCount===1&&ye.length===1&&ye[0].className!=="vditor-wysiwyg"&&ye[0].className!=="vditor-sv"&&(be=!0),U.indexOf(`
<p class="p1">`)===0&&(be=!0),he.childElementCount===1&&he.firstElementChild.tagName==="TABLE"&&he.querySelector(".line-number")&&he.querySelector(".line-content")&&(be=!0),be){var de=ce||U;return/\n/.test(de)||ye.length===1?we==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'+de.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"<wbr></code></pre></div>":"\n```\n"+de.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":we==="wysiwyg"?"<code>"+de.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</code><wbr>":"`"+de+"`"}return!1}(s,i,t.currentMode),(B=t.currentMode==="sv"?(0,k.a1)(n.target,"data-type","code-block"):(0,k.lG)(n.target,"CODE"))?(t.currentMode==="sv"?document.execCommand("insertHTML",!1,i.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(Z=(0,P.im)(n.target,t[t.currentMode].element),B.parentElement.tagName!=="PRE"&&(i+=h.g.ZWSP),B.textContent=B.textContent.substring(0,Z.start)+i+B.textContent.substring(Z.end),(0,P.$j)(Z.start+i.length,Z.start+i.length,B.parentElement),!((ie=B.parentElement)===null||ie===void 0)&&ie.nextElementSibling.classList.contains("vditor-"+t.currentMode+"__preview")&&(B.parentElement.nextElementSibling.innerHTML=B.outerHTML,Ue(B.parentElement.nextElementSibling,t))),[3,8]):[3,1]);case 1:return x?(r.pasteCode(x),[3,8]):[3,2];case 2:return s.trim()===""?[3,3]:((ee=document.createElement("div")).innerHTML=s,ee.querySelectorAll("[style]").forEach(function(U){U.removeAttribute("style")}),ee.querySelectorAll(".vditor-copy").forEach(function(U){U.remove()}),t.currentMode==="ir"?(d.HTML2VditorIRDOM={renderLinkDest:C},t.lute.SetJSRenderers({renderers:d}),(0,P.oC)(t.lute.HTML2VditorIRDOM(ee.innerHTML),t)):t.currentMode==="wysiwyg"?(d.HTML2VditorDOM={renderLinkDest:C},t.lute.SetJSRenderers({renderers:d}),(0,P.oC)(t.lute.HTML2VditorDOM(ee.innerHTML),t)):(d.Md2VditorSVDOM={renderLinkDest:C},t.lute.SetJSRenderers({renderers:d}),co(t,t.lute.HTML2Md(ee.innerHTML).trimRight())),t.outline.render(t),[3,8]);case 3:return l.length>0?t.options.upload.url||t.options.upload.handler?[4,ti(t,l)]:[3,5]:[3,7];case 4:return re.sent(),[3,6];case 5:j=new FileReader,"clipboardData"in n?(l=n.clipboardData.files,z=l[0]):n.dataTransfer.types.includes("Files")&&(l=n.dataTransfer.items,z=l[0].getAsFile()),z&&z.type.startsWith("image")&&(j.readAsDataURL(z),j.onload=function(){var U="";t.currentMode==="wysiwyg"?U+='<img alt="'+z.name+'" src="'+j.result.toString()+`">
`:U+="!["+z.name+"]("+j.result.toString()+`)
`,document.execCommand("insertHTML",!1,U)}),re.label=6;case 6:return[3,8];case 7:i.trim()!==""&&l.length===0&&(t.currentMode==="ir"?(d.Md2VditorIRDOM={renderLinkDest:C},t.lute.SetJSRenderers({renderers:d}),(0,P.oC)(t.lute.Md2VditorIRDOM(i),t)):t.currentMode==="wysiwyg"?(d.Md2VditorDOM={renderLinkDest:C},t.lute.SetJSRenderers({renderers:d}),(0,P.oC)(t.lute.Md2VditorDOM(i),t)):(d.Md2VditorSVDOM={renderLinkDest:C},t.lute.SetJSRenderers({renderers:d}),co(t,i)),t.outline.render(t)),re.label=8;case 8:return t.currentMode!=="sv"&&((le=(0,k.F9)((0,P.zh)(t).startContainer))&&(se=(0,P.zh)(t),t[t.currentMode].element.querySelectorAll("wbr").forEach(function(U){U.remove()}),se.insertNode(document.createElement("wbr")),t.currentMode==="wysiwyg"?le.outerHTML=t.lute.SpinVditorDOM(le.outerHTML):le.outerHTML=t.lute.SpinVditorIRDOM(le.outerHTML),(0,P.ib)(t[t.currentMode].element,se)),t[t.currentMode].element.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach(function(U){Ue(U,t)})),t.wysiwyg.triggerRemoveComment(t),Oe(t),t[t.currentMode].element.scrollHeight-S>Math.min(t[t.currentMode].element.clientHeight,window.innerHeight)/2&&tt(t),[2]}})})},Oo=function(t){t.hint.render(t);var n=(0,P.zh)(t).startContainer,r=(0,k.a1)(n,"data-type","code-block-info");if(r)if(r.textContent.replace(h.g.ZWSP,"")===""&&t.hint.recentLanguage)r.textContent=h.g.ZWSP+t.hint.recentLanguage,(0,P.zh)(t).selectNodeContents(r);else{var s=[],i=r.textContent.substring(0,(0,P.im)(r,t.ir.element).start).replace(h.g.ZWSP,"");h.g.CODE_LANGUAGES.forEach(function(l){l.indexOf(i.toLowerCase())>-1&&s.push({html:l,value:l})}),t.hint.genHTML(s,i,t)}},jt=function(t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),n.enableHint&&Oo(t),clearTimeout(t.ir.processTimeoutId),t.ir.processTimeoutId=window.setTimeout(function(){if(!t.ir.composingLock){var r=m(t);typeof t.options.input=="function"&&n.enableInput&&t.options.input(r),t.options.counter.enable&&t.counter.render(t,r),t.options.cache.enable&&(0,v.pK)()&&(localStorage.setItem(t.options.cache.id,r),t.options.cache.after&&t.options.cache.after(r)),t.devtools&&t.devtools.renderEchart(t),n.enableAddUndoStack&&t.undo.addToUndoStack(t)}},t.options.undoDelay)},Fn=function(t,n){var r=(0,P.zh)(t),s=(0,k.F9)(r.startContainer)||r.startContainer;if(s){var i=s.querySelector(".vditor-ir__marker--heading");i?i.innerHTML=n:(s.insertAdjacentText("afterbegin",n),r.selectNodeContents(s),r.collapse(!1)),Be(t,r.cloneRange()),ae(t)}},pr=function(t,n,r){var s=(0,k.a1)(t.startContainer,"data-type",r);if(s){s.firstElementChild.remove(),s.lastElementChild.remove(),t.insertNode(document.createElement("wbr"));var i=document.createElement("div");i.innerHTML=n.lute.SpinVditorIRDOM(s.outerHTML),s.outerHTML=i.firstElementChild.innerHTML.trim()}},ya=function(t,n,r,s){var i=(0,P.zh)(t),l=n.getAttribute("data-type"),d=i.startContainer;d.nodeType===3&&(d=d.parentElement);var C=!0;if(n.classList.contains("vditor-menu--current"))if(l==="quote"){var T=(0,k.lG)(d,"BLOCKQUOTE");T&&(i.insertNode(document.createElement("wbr")),T.outerHTML=T.innerHTML.trim()===""?'<p data-block="0">'+T.innerHTML+"</p>":T.innerHTML)}else if(l==="link"){var S=(0,k.a1)(i.startContainer,"data-type","a");if(S){var x=(0,k.fb)(i.startContainer,"vditor-ir__link");x?(i.insertNode(document.createElement("wbr")),S.outerHTML=x.innerHTML):S.outerHTML=S.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else l==="italic"?pr(i,t,"em"):l==="bold"?pr(i,t,"strong"):l==="strike"?pr(i,t,"s"):l==="inline-code"?pr(i,t,"code"):l!=="check"&&l!=="list"&&l!=="ordered-list"||(cr(t,i,l),C=!1,n.classList.remove("vditor-menu--current"));else{t.ir.element.childNodes.length===0&&(t.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,P.ib)(t.ir.element,i));var B=(0,k.F9)(i.startContainer);if(l==="line"){if(B){var Z=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;B.innerHTML.trim()===""?B.outerHTML=Z:B.insertAdjacentHTML("afterend",Z)}}else if(l==="quote")B&&(i.insertNode(document.createElement("wbr")),B.outerHTML='<blockquote data-block="0">'+B.outerHTML+"</blockquote>",C=!1,n.classList.add("vditor-menu--current"));else if(l==="link"){var ee=void 0;ee=i.toString()===""?r+"<wbr>"+s:""+r+i.toString()+s.replace(")","<wbr>)"),document.execCommand("insertHTML",!1,ee),C=!1,n.classList.add("vditor-menu--current")}else if(l==="italic"||l==="bold"||l==="strike"||l==="inline-code"||l==="code"||l==="table"){ee=void 0,i.toString()===""?ee=r+"<wbr>"+s:(ee=l==="code"||l==="table"?""+r+i.toString()+"<wbr>"+s:""+r+i.toString()+s+"<wbr>",i.deleteContents()),l!=="table"&&l!=="code"||(ee=`
`+ee+`

`);var j=document.createElement("span");j.innerHTML=ee,i.insertNode(j),Be(t,i),l==="table"&&(i.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,P.Hc)(i))}else l!=="check"&&l!=="list"&&l!=="ordered-list"||(cr(t,i,l,!1),C=!1,E(t.toolbar.elements,["check","list","ordered-list"]),n.classList.add("vditor-menu--current"))}(0,P.ib)(t.ir.element,i),jt(t),C&&ae(t)},ba=function(t,n,r,s){return new(r||(r=Promise))(function(i,l){function d(S){try{T(s.next(S))}catch(x){l(x)}}function C(S){try{T(s.throw(S))}catch(x){l(x)}}function T(S){var x;S.done?i(S.value):(x=S.value,x instanceof r?x:new r(function(B){B(x)})).then(d,C)}T((s=s.apply(t,n||[])).next())})},wa=function(t,n){var r,s,i,l,d={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function C(T){return function(S){return function(x){if(r)throw new TypeError("Generator is already executing.");for(;d;)try{if(r=1,s&&(i=2&x[0]?s.return:x[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,x[1])).done)return i;switch(s=0,i&&(x=[2&x[0],i.value]),x[0]){case 0:case 1:i=x;break;case 4:return d.label++,{value:x[1],done:!1};case 5:d.label++,s=x[1],x=[0];continue;case 7:x=d.ops.pop(),d.trys.pop();continue;default:if(i=d.trys,!((i=i.length>0&&i[i.length-1])||x[0]!==6&&x[0]!==2)){d=0;continue}if(x[0]===3&&(!i||x[1]>i[0]&&x[1]<i[3])){d.label=x[1];break}if(x[0]===6&&d.label<i[1]){d.label=i[1],i=x;break}if(i&&d.label<i[2]){d.label=i[2],d.ops.push(x);break}i[2]&&d.ops.pop(),d.trys.pop();continue}x=n.call(t,d)}catch(B){x=[6,B],s=0}finally{r=i=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([T,S])}}},Ea=function(){function t(n){var r=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(s,i){r.element.style.display="none";var l=decodeURIComponent(s.getAttribute("data-value")),d=window.getSelection().getRangeAt(0);if(i.currentMode==="ir"){var C=(0,k.a1)(d.startContainer,"data-type","code-block-info");if(C)return C.textContent=h.g.ZWSP+l.trimRight(),d.selectNodeContents(C),d.collapse(!1),jt(i),C.parentElement.querySelectorAll("code").forEach(function(B){B.className="language-"+l.trimRight()}),Ue(C.parentElement.querySelector(".vditor-ir__preview"),i),void(r.recentLanguage=l.trimRight())}if(i.currentMode==="wysiwyg"&&d.startContainer.nodeType!==3){var T=d.startContainer,S=void 0;if((S=T.classList.contains("vditor-input")?T:T.firstElementChild)&&S.classList.contains("vditor-input"))return S.value=l.trimRight(),d.selectNodeContents(S),d.collapse(!1),S.dispatchEvent(new CustomEvent("input",{detail:1})),void(r.recentLanguage=l.trimRight())}if(d.setStart(d.startContainer,r.lastIndex),d.deleteContents(),i.options.hint.parse?i.currentMode==="sv"?(0,P.oC)(i.lute.SpinVditorSVDOM(l),i):i.currentMode==="wysiwyg"?(0,P.oC)(i.lute.SpinVditorDOM(l),i):(0,P.oC)(i.lute.SpinVditorIRDOM(l),i):(0,P.oC)(l,i),r.splitChar===":"&&l.indexOf(":")>-1&&i.currentMode!=="sv"&&d.insertNode(document.createTextNode(" ")),d.collapse(!1),(0,P.Hc)(d),i.currentMode==="wysiwyg")(x=(0,k.fb)(d.startContainer,"vditor-wysiwyg__block"))&&x.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(x.lastElementChild.innerHTML=x.firstElementChild.innerHTML,Ue(x.lastElementChild,i));else if(i.currentMode==="ir"){var x;(x=(0,k.fb)(d.startContainer,"vditor-ir__marker--pre"))&&x.nextElementSibling.classList.contains("vditor-ir__preview")&&(x.nextElementSibling.innerHTML=x.innerHTML,Ue(x.nextElementSibling,i))}Oe(i)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",n.push({key:":"})}return t.prototype.render=function(n){var r=this;if(window.getSelection().focusNode){var s,i=getSelection().getRangeAt(0);s=i.startContainer.textContent.substring(0,i.startOffset)||"";var l=this.getKey(s,n.options.hint.extend);if(l===void 0)this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var d=l===""?n.options.hint.emoji:n.lute.GetEmojis(),C=[];Object.keys(d).forEach(function(T){T.indexOf(l.toLowerCase())===0&&(d[T].indexOf(".")>-1?C.push({html:'<img src="'+d[T]+'" title=":'+T+':"/> :'+T+":",value:":"+T+":"}):C.push({html:'<span class="vditor-hint__emoji">'+d[T]+"</span>"+T,value:d[T]}))}),this.genHTML(C,l,n)}else n.options.hint.extend.forEach(function(T){T.key===r.splitChar&&(clearTimeout(r.timeId),r.timeId=window.setTimeout(function(){return ba(r,void 0,void 0,function(){var S;return wa(this,function(x){switch(x.label){case 0:return S=this.genHTML,[4,T.hint(l)];case 1:return S.apply(this,[x.sent(),l,n]),[2]}})})},n.options.hint.delay))})}},t.prototype.genHTML=function(n,r,s){var i=this;if(n.length!==0){var l=s[s.currentMode].element,d=(0,P.Ny)(l),C=d.left+(s.options.outline.position==="left"?s.outline.element.offsetWidth:0),T=d.top,S="";n.forEach(function(B,Z){if(!(Z>7)){var ee=B.html;if(r!==""){var j=ee.lastIndexOf(">")+1,z=ee.substr(j),le=z.toLowerCase().indexOf(r.toLowerCase());le>-1&&(z=z.substring(0,le)+"<b>"+z.substring(le,le+r.length)+"</b>"+z.substring(le+r.length),ee=ee.substr(0,j)+z)}S+='<button data-value="'+encodeURIComponent(B.value)+` "
`+(Z===0?"class='vditor-hint--current'":"")+"> "+ee+"</button>"}}),this.element.innerHTML=S;var x=parseInt(document.defaultView.getComputedStyle(l,null).getPropertyValue("line-height"),10);this.element.style.top=T+(x||22)+"px",this.element.style.left=C+"px",this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(B){B.addEventListener("click",function(Z){i.fillEmoji(B,s),Z.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top=T-this.element.offsetHeight+"px"),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")}else this.element.style.display="none"},t.prototype.select=function(n,r){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var s=this.element.querySelector(".vditor-hint--current");if(n.key==="ArrowDown")return n.preventDefault(),n.stopPropagation(),s.removeAttribute("class"),s.nextElementSibling?s.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(n.key==="ArrowUp"){if(n.preventDefault(),n.stopPropagation(),s.removeAttribute("class"),s.previousElementSibling)s.previousElementSibling.className="vditor-hint--current";else{var i=this.element.children.length;this.element.children[i-1].className="vditor-hint--current"}return!0}return!((0,v.yl)(n)||n.shiftKey||n.altKey||n.key!=="Enter"||n.isComposing)&&(n.preventDefault(),n.stopPropagation(),this.fillEmoji(s,r),!0)},t.prototype.getKey=function(n,r){var s,i=this;if(this.lastIndex=-1,this.splitChar="",r.forEach(function(T){var S=n.lastIndexOf(T.key);i.lastIndex<S&&(i.splitChar=T.key,i.lastIndex=S)}),this.lastIndex===-1)return s;var l=n.split(this.splitChar),d=l[l.length-1];if(l.length>1&&d.trim()===d)if(l.length===2&&l[0]===""&&l[1].length<32)s=l[1];else{var C=l[l.length-2].slice(-1);(0,u.X)(C)===" "&&d.length<32&&(s=d)}return s},t}(),_a=function(){function t(n){this.composingLock=!1;var r=document.createElement("div");r.className="vditor-ir",r.innerHTML='<pre class="vditor-reset" placeholder="'+n.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>`,this.element=r.firstElementChild,this.bindEvent(n),Gr(n,this.element),ao(n,this.element),Zr(n,this.element),Qr(n,this.element),ei(n,this.element),Jr(n,this.element),Xr(n,this.element,this.copy),Yr(n,this.element,this.copy)}return t.prototype.copy=function(n,r){var s=getSelection().getRangeAt(0);if(s.toString()!==""){n.stopPropagation(),n.preventDefault();var i=document.createElement("div");i.appendChild(s.cloneContents()),n.clipboardData.setData("text/plain",r.lute.VditorIRDOM2Md(i.innerHTML).trim()),n.clipboardData.setData("text/html","")}},t.prototype.bindEvent=function(n){var r=this;this.element.addEventListener("paste",function(s){fr(n,s,{pasteCode:function(i){document.execCommand("insertHTML",!1,i)}})}),this.element.addEventListener("compositionstart",function(s){r.composingLock=!0}),this.element.addEventListener("compositionend",function(s){(0,v.vU)()||Be(n,getSelection().getRangeAt(0).cloneRange()),r.composingLock=!1}),this.element.addEventListener("input",function(s){if(s.inputType!=="deleteByDrag"&&s.inputType!=="insertFromDrop")return r.preventInput?(r.preventInput=!1,void jt(n,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void(r.composingLock||s.data==="\u2018"||s.data==="\u201C"||s.data==="\u300A"||Be(n,getSelection().getRangeAt(0).cloneRange(),!1,s))}),this.element.addEventListener("click",function(s){if(s.target.tagName==="INPUT")return s.target.checked?s.target.setAttribute("checked","checked"):s.target.removeAttribute("checked"),r.preventInput=!0,void jt(n);var i=(0,P.zh)(n),l=(0,k.fb)(s.target,"vditor-ir__preview");if(l||(l=(0,k.fb)(i.startContainer,"vditor-ir__preview")),l&&(l.previousElementSibling.firstElementChild?i.selectNodeContents(l.previousElementSibling.firstElementChild):i.selectNodeContents(l.previousElementSibling),i.collapse(!0),(0,P.Hc)(i),tt(n)),s.target.tagName==="IMG"){var d=s.target.parentElement.querySelector(".vditor-ir__marker--link");d&&(i.selectNode(d),(0,P.Hc)(i))}var C=(0,k.a1)(s.target,"data-type","a");if(!C||C.classList.contains("vditor-ir__node--expand")){if(s.target.isEqualNode(r.element)&&r.element.lastElementChild&&i.collapsed){var T=r.element.lastElementChild.getBoundingClientRect();s.y>T.top+T.height&&(r.element.lastElementChild.tagName==="P"&&r.element.lastElementChild.textContent.trim().replace(h.g.ZWSP,"")===""?(i.selectNodeContents(r.element.lastElementChild),i.collapse(!1)):(r.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+h.g.ZWSP+"<wbr></p>"),(0,P.ib)(r.element,i)))}i.toString()===""?X(i,n):setTimeout(function(){X((0,P.zh)(n),n)}),rn(s,n),ae(n)}else n.options.link.click?n.options.link.click(C.querySelector(":scope > .vditor-ir__marker--link")):n.options.link.isOpen&&window.open(C.querySelector(":scope > .vditor-ir__marker--link").textContent)}),this.element.addEventListener("keyup",function(s){if(!s.isComposing&&!(0,v.yl)(s))if(s.key==="Enter"&&tt(n),ae(n),s.key!=="Backspace"&&s.key!=="Delete"||n.ir.element.innerHTML===""||n.ir.element.childNodes.length!==1||!n.ir.element.firstElementChild||n.ir.element.firstElementChild.tagName!=="P"||n.ir.element.firstElementChild.childElementCount!==0||n.ir.element.textContent!==""&&n.ir.element.textContent!==`
`){var i=(0,P.zh)(n);s.key==="Backspace"?((0,v.vU)()&&i.startContainer.textContent===`
`&&i.startOffset===1&&(i.startContainer.textContent="",X(i,n)),r.element.querySelectorAll(".language-math").forEach(function(d){var C=d.querySelector("br");C&&C.remove()})):s.key.indexOf("Arrow")>-1?(s.key!=="ArrowLeft"&&s.key!=="ArrowRight"||Oo(n),X(i,n)):s.keyCode===229&&s.code===""&&s.key==="Unidentified"&&X(i,n);var l=(0,k.fb)(i.startContainer,"vditor-ir__preview");if(l){if(s.key==="ArrowUp"||s.key==="ArrowLeft")return l.previousElementSibling.firstElementChild?i.selectNodeContents(l.previousElementSibling.firstElementChild):i.selectNodeContents(l.previousElementSibling),i.collapse(!1),s.preventDefault(),!0;if(l.tagName==="SPAN"&&(s.key==="ArrowDown"||s.key==="ArrowRight"))return l.parentElement.getAttribute("data-type")==="html-entity"?(l.parentElement.insertAdjacentText("afterend",h.g.ZWSP),i.setStart(l.parentElement.nextSibling,1)):i.selectNodeContents(l.parentElement.lastElementChild),i.collapse(!1),s.preventDefault(),!0}}else n.ir.element.innerHTML=""})},t}(),Do=function(t){return t.currentMode==="sv"?t.lute.Md2HTML(m(t)):t.currentMode==="wysiwyg"?t.lute.VditorDOM2HTML(t.wysiwyg.element.innerHTML):t.currentMode==="ir"?t.lute.VditorIRDOM2HTML(t.ir.element.innerHTML):void 0},Ca=f(895),Io=f(818),ka=function(){function t(n){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'+n+`</div>
<div class="vditor-outline__content"></div>`}return t.prototype.render=function(n){return n.preview.element.style.display==="block"?(0,Io.k)(n.preview.element.lastElementChild,this.element.lastElementChild,n):(0,Io.k)(n[n.currentMode].element,this.element.lastElementChild,n)},t.prototype.toggle=function(n,r,s){var i;r===void 0&&(r=!0),s===void 0&&(s=!0);var l=(i=n.toolbar.elements.outline)===null||i===void 0?void 0:i.firstElementChild;if(r&&window.innerWidth>=h.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(n),l==null||l.classList.add("vditor-menu--current")):(this.element.style.display="none",l==null||l.classList.remove("vditor-menu--current")),s&&getSelection().rangeCount>0){var d=getSelection().getRangeAt(0);n[n.currentMode].element.contains(d.startContainer)&&(0,P.Hc)(d)}M(n)},t}(),Sa=f(554),xa=function(){function t(n){var r=this;this.element=document.createElement("div"),this.element.className="vditor-preview";var s=document.createElement("div");s.className="vditor-reset",n.options.classes.preview&&s.classList.add(n.options.classes.preview),s.style.maxWidth=n.options.preview.maxWidth+"px",s.addEventListener("copy",function(S){if(S.target.tagName!=="TEXTAREA"){var x=document.createElement("div");x.className="vditor-reset",x.appendChild(getSelection().getRangeAt(0).cloneContents()),r.copyToX(n,x),S.preventDefault()}}),s.addEventListener("click",function(S){var x=(0,k.lG)(S.target,"SPAN");if(x&&(0,k.fb)(x,"vditor-toc")){var B=s.querySelector("#"+x.getAttribute("data-target-id"));B&&(r.element.scrollTop=B.offsetTop)}else{if(S.target.tagName==="A")return n.options.link.click?n.options.link.click(S.target):n.options.link.isOpen&&window.open(S.target.getAttribute("href")),void S.preventDefault();S.target.tagName==="IMG"&&(n.options.image.preview?n.options.image.preview(S.target):n.options.image.isPreview&&(0,pe.E)(S.target,n.options.lang,n.options.theme))}});var i=n.options.preview.actions,l=document.createElement("div");l.className="vditor-preview__action";for(var d=[],C=0;C<i.length;C++){var T=i[C];if(typeof T!="object")switch(T){case"desktop":d.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":d.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":d.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":d.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u516C\u4F17\u53F7"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":d.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u77E5\u4E4E"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>')}else d.push('<button type="button" data-type="'+T.key+'" class="'+T.className+'"'+(T.tooltip?' aria-label="'+T.tooltip+'"':"")+'">'+T.text+"</button>")}l.innerHTML=d.join(""),i.length===0&&(l.style.display="none"),this.element.appendChild(l),this.element.appendChild(s),l.addEventListener((0,v.Le)(),function(S){var x=(0,F.S)(S.target,"BUTTON");if(x){var B=x.getAttribute("data-type"),Z=i.find(function(ee){return(ee==null?void 0:ee.key)===B});Z?Z.click(B):B!=="mp-wechat"&&B!=="zhihu"?(s.style.width=B==="desktop"?"auto":B==="tablet"?"780px":"360px",s.scrollWidth>s.parentElement.clientWidth&&(s.style.width="auto"),r.render(n),l.querySelectorAll("button").forEach(function(ee){ee.classList.remove("vditor-preview__action--current")}),x.classList.add("vditor-preview__action--current")):r.copyToX(n,r.element.lastElementChild.cloneNode(!0),B)}})}return t.prototype.render=function(n,r){var s=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display!=="none")if(r)this.element.lastElementChild.innerHTML=r;else if(m(n).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")!==""){var i=new Date().getTime(),l=m(n);this.mdTimeoutId=window.setTimeout(function(){if(n.options.preview.url){var d=new XMLHttpRequest;d.open("POST",n.options.preview.url),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE)if(d.status===200){var T=JSON.parse(d.responseText);if(T.code!==0)return void n.tip.show(T.msg);n.options.preview.transform&&(T.data=n.options.preview.transform(T.data)),s.element.lastElementChild.innerHTML=T.data,s.afterRender(n,i)}else{var S=n.lute.Md2HTML(l);n.options.preview.transform&&(S=n.options.preview.transform(S)),s.element.lastElementChild.innerHTML=S,s.afterRender(n,i)}},d.send(JSON.stringify({markdownText:l}))}else{var C=n.lute.Md2HTML(l);n.options.preview.transform&&(C=n.options.preview.transform(C)),s.element.lastElementChild.innerHTML=C,s.afterRender(n,i)}},n.options.preview.delay)}else this.element.lastElementChild.innerHTML="";else this.element.getAttribute("data-type")==="renderPerformance"&&n.tip.hide()},t.prototype.afterRender=function(n,r){n.options.preview.parse&&n.options.preview.parse(this.element);var s=new Date().getTime()-r;new Date().getTime()-r>2600?(n.tip.show(window.VditorI18n.performanceTip.replace("${x}",s.toString())),n.preview.element.setAttribute("data-type","renderPerformance")):n.preview.element.getAttribute("data-type")==="renderPerformance"&&(n.tip.hide(),n.preview.element.removeAttribute("data-type"));var i=n.preview.element.querySelector(".vditor-comment--focus");i&&i.classList.remove("vditor-comment--focus"),(0,ue.O)(n.preview.element.lastElementChild),(0,xe.s)(n.options.preview.hljs,n.preview.element.lastElementChild,n.options.cdn),(0,Se.i)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,Ae.K)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,$.P)(n.preview.element.lastElementChild,n.options.cdn),(0,_e.v)(n.preview.element.lastElementChild,n.options.cdn),(0,Y.p)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,ke.P)(n.preview.element.lastElementChild,n.options.cdn,n.options.theme),(0,dt.B)(n.preview.element.lastElementChild,n.options.cdn),(0,J.Q)(n.preview.element.lastElementChild,n.options.cdn),(0,Sa.Y)(n.preview.element.lastElementChild);var l=n.preview.element,d=n.outline.render(n);d===""&&(d="[ToC]"),l.querySelectorAll('[data-type="toc-block"]').forEach(function(C){C.innerHTML=d,(0,Ne.H)(C,{cdn:n.options.cdn,math:n.options.preview.math})}),(0,Ne.H)(n.preview.element.lastElementChild,{cdn:n.options.cdn,math:n.options.preview.math})},t.prototype.copyToX=function(n,r,s){s===void 0&&(s="mp-wechat"),s!=="zhihu"?r.querySelectorAll(".katex-html .base").forEach(function(l){l.style.display="initial"}):r.querySelectorAll(".language-math").forEach(function(l){l.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'+l.getAttribute("data-math")+'\\" style="display: block; margin: 0 auto; max-width: 100%;">'}),r.style.backgroundColor="#fff",r.querySelectorAll("code").forEach(function(l){l.style.backgroundImage="none"}),this.element.append(r);var i=r.ownerDocument.createRange();i.selectNode(r),(0,P.Hc)(i),document.execCommand("copy"),this.element.lastElementChild.remove(),n.tip.show("\u5DF2\u590D\u5236\uFF0C\u53EF\u5230"+(s==="zhihu"?"\u77E5\u4E4E":"\u5FAE\u4FE1\u516C\u4F17\u53F7\u5E73\u53F0")+"\u8FDB\u884C\u7C98\u8D34")},t}(),Ta=function(){function t(n){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--"+n.options.resize.position,this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(n)}return t.prototype.bindEvent=function(n){var r=this;this.element.addEventListener("mousedown",function(s){var i=document,l=s.clientY,d=n.element.offsetHeight,C=63+n.element.querySelector(".vditor-toolbar").clientHeight;i.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),r.element.classList.add("vditor-resize--selected"),i.onmousemove=function(T){n.options.resize.position==="top"?n.element.style.height=Math.max(C,d+(l-T.clientY))+"px":n.element.style.height=Math.max(C,d+(T.clientY-l))+"px",n.options.typewriterMode&&(n.sv.element.style.paddingBottom=n.sv.element.parentElement.offsetHeight/2+"px")},i.onmouseup=function(){n.options.resize.after&&n.options.resize.after(n.element.offsetHeight-d),window.captureEvents&&window.captureEvents(),i.onmousemove=null,i.onmouseup=null,i.ondragstart=null,i.onselectstart=null,i.onselect=null,r.element.classList.remove("vditor-resize--selected")}})},t}(),La=function(){function t(n){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",n.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(n),Gr(n,this.element),Zr(n,this.element),Qr(n,this.element),ei(n,this.element),Jr(n,this.element),Xr(n,this.element,this.copy),Yr(n,this.element,this.copy)}return t.prototype.copy=function(n,r){n.stopPropagation(),n.preventDefault(),n.clipboardData.setData("text/plain",Un(r[r.currentMode].element))},t.prototype.bindEvent=function(n){var r=this;this.element.addEventListener("paste",function(s){fr(n,s,{pasteCode:function(i){document.execCommand("insertHTML",!1,i)}})}),this.element.addEventListener("scroll",function(){if(n.preview.element.style.display==="block"){var s=r.element.scrollTop,i=r.element.clientHeight,l=r.element.scrollHeight-parseFloat(r.element.style.paddingBottom||"0"),d=n.preview.element;d.scrollTop=s/i>.5?(s+i)*d.scrollHeight/l-i:s*d.scrollHeight/l}}),this.element.addEventListener("compositionstart",function(s){r.composingLock=!0}),this.element.addEventListener("compositionend",function(s){(0,v.vU)()||Re(n,s),r.composingLock=!1}),this.element.addEventListener("input",function(s){if(s.inputType!=="deleteByDrag"&&s.inputType!=="insertFromDrop"&&!r.composingLock&&s.data!=="\u2018"&&s.data!=="\u201C"&&s.data!=="\u300A")return r.preventInput?(r.preventInput=!1,void rt(n,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void Re(n,s)}),this.element.addEventListener("keyup",function(s){s.isComposing||(0,v.yl)(s)||(s.key!=="Backspace"&&s.key!=="Delete"||n.sv.element.innerHTML===""||n.sv.element.childNodes.length!==1||!n.sv.element.firstElementChild||n.sv.element.firstElementChild.tagName!=="DIV"||n.sv.element.firstElementChild.childElementCount!==2||n.sv.element.firstElementChild.textContent!==""&&n.sv.element.textContent!==`
`?s.key==="Enter"&&tt(n):n.sv.element.innerHTML="")})},t}(),Aa=function(){function t(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return t.prototype.show=function(n,r){var s=this;r===void 0&&(r=6e3),this.element.className="vditor-tip vditor-tip--show",r===0?(this.element.innerHTML='<div class="vditor-tip__content">'+n+`
<div class="vditor-tip__close">X</div></div>`,this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){s.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'+n+"</div>",setTimeout(function(){s.hide()},r)),this.element.removeAttribute("style"),setTimeout(function(){s.element.getBoundingClientRect().top<46&&(s.element.style.position="fixed",s.element.style.top="46px")},150)},t.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},t}(),si=function(t,n){if(n.options.preview.mode!==t){switch(n.options.preview.mode=t,t){case"both":n.sv.element.style.display="block",n.preview.element.style.display="block",n.preview.render(n),_(n.toolbar.elements,["both"]);break;case"editor":n.sv.element.style.display="block",n.preview.element.style.display="none",E(n.toolbar.elements,["both"])}n.devtools&&n.devtools.renderEchart(n)}},Ma=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ha=function(t){function n(r,s){var i=t.call(this,r,s)||this;return r.options.preview.mode==="both"&&i.element.children[0].classList.add("vditor-menu--current"),i.element.children[0].addEventListener((0,v.Le)(),function(l){i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)||(l.preventDefault(),r.currentMode==="sv"&&(r.options.preview.mode==="both"?si("editor",r):si("both",r)))}),i}return Ma(n,t),n}(Ge),Na=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"},Po=f(312),Oa=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Da=function(t){function n(r,s){var i=t.call(this,r,s)||this,l=i.element.children[0],d=document.createElement("div");d.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow");var C="";return h.g.CODE_THEME.forEach(function(T){C+="<button>"+T+"</button>"}),d.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+C+"</div>",d.addEventListener((0,v.Le)(),function(T){T.target.tagName==="BUTTON"&&(A(r,["subToolbar"]),r.options.preview.hljs.style=T.target.textContent,(0,Po.Y)(T.target.textContent,r.options.cdn),T.preventDefault(),T.stopPropagation())}),i.element.appendChild(d),H(r,d,l,s.level),i}return Oa(n,t),n}(Ge),Ia=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Pa=function(t){function n(r,s){var i=t.call(this,r,s)||this,l=i.element.children[0],d=document.createElement("div");d.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow");var C="";return Object.keys(r.options.preview.theme.list).forEach(function(T){C+='<button data-type="'+T+'">'+r.options.preview.theme.list[T]+"</button>"}),d.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+C+"</div>",d.addEventListener((0,v.Le)(),function(T){T.target.tagName==="BUTTON"&&(A(r,["subToolbar"]),r.options.preview.theme.current=T.target.getAttribute("data-type"),(0,De.Z)(r.options.preview.theme.current,r.options.preview.theme.path),T.preventDefault(),T.stopPropagation())}),i.element.appendChild(d),H(r,d,l,s.level),i}return Ia(n,t),n}(Ge),ja=function(){function t(n){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(n,"")}return t.prototype.render=function(n,r){var s=r.endsWith(`
`)?r.length-1:r.length;if(n.options.counter.type==="text"&&n[n.currentMode]){var i=n[n.currentMode].element.cloneNode(!0);i.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(l){l.remove()}),s=i.textContent.length}typeof n.options.counter.max=="number"?(s>n.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML=s+"/"+n.options.counter.max):this.element.innerHTML=""+s,this.element.setAttribute("aria-label",n.options.counter.type),n.options.counter.after&&n.options.counter.after(s,{enable:n.options.counter.enable,max:n.options.counter.max,type:n.options.counter.type})},t}(),Ra=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ba=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].innerHTML=s.icon,i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),l.currentTarget.classList.contains(h.g.CLASS_MENU_DISABLED)||s.click(l,r)}),i}return Ra(n,t),n}(Ge),Ua=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),qa=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.firstElementChild.addEventListener((0,v.Le)(),function(l){var d=i.element.firstElementChild;d.classList.contains(h.g.CLASS_MENU_DISABLED)||(l.preventDefault(),d.classList.contains("vditor-menu--current")?(d.classList.remove("vditor-menu--current"),r.devtools.element.style.display="none",M(r)):(d.classList.add("vditor-menu--current"),r.devtools.element.style.display="block",M(r),r.devtools.renderEchart(r)))}),i}return Ua(n,t),n}(Ge),Fa=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"},Va=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ka=function(t){function n(r,s){var i=t.call(this,r,s)||this,l=document.createElement("div");l.className="vditor-panel vditor-panel--arrow";var d="";return Object.keys(r.options.hint.emoji).forEach(function(C){var T=r.options.hint.emoji[C];T.indexOf(".")>-1?d+='<button data-value=":'+C+': " data-key=":'+C+`:"><img
data-value=":`+C+': " data-key=":'+C+':" class="vditor-emojis__icon" src="'+T+'"/></button>':d+='<button data-value="'+T+` "
 data-key="`+C+'"><span class="vditor-emojis__icon">'+T+"</span></button>"}),l.innerHTML='<div class="vditor-emojis" style="max-height: '+(r.options.height==="auto"?"auto":r.options.height-80)+'px">'+d+`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`+(r.options.hint.emojiTail||"")+`</span>
</div>`,i.element.appendChild(l),H(r,l,i.element.firstElementChild,s.level),i.bindEvent(r),i}return Va(n,t),n.prototype.bindEvent=function(r){var s=this;this.element.lastElementChild.addEventListener((0,v.Le)(),function(i){var l=(0,F.S)(i.target,"BUTTON");if(l){i.preventDefault();var d=l.getAttribute("data-value"),C=(0,P.zh)(r),T=d;if(r.currentMode==="wysiwyg"?T=r.lute.SpinVditorDOM(d):r.currentMode==="ir"&&(T=r.lute.SpinVditorIRDOM(d)),d.indexOf(":")>-1&&r.currentMode!=="sv"){var S=document.createElement("div");S.innerHTML=T,T=S.firstElementChild.firstElementChild.outerHTML+" ",(0,P.oC)(T,r)}else C.extractContents(),C.insertNode(document.createTextNode(d));C.collapse(!1),(0,P.Hc)(C),s.element.lastElementChild.style.display="none",Oe(r)}}),this.element.lastElementChild.addEventListener("mouseover",function(i){var l=(0,F.S)(i.target,"BUTTON");l&&(s.element.querySelector(".vditor-emojis__tip").innerHTML=l.getAttribute("data-key"))})},n}(Ge),jo=function(t,n,r){var s=document.createElement("a");"download"in s?(s.download=r,s.style.display="none",s.href=URL.createObjectURL(new Blob([n])),document.body.appendChild(s),s.click(),s.remove()):t.tip.show(window.VditorI18n.downloadTip,0)},Wa=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),za=function(t){function n(r,s){var i=t.call(this,r,s)||this,l=i.element.children[0],d=document.createElement("div");return d.className="vditor-hint"+(s.level===2?"":" vditor-panel--arrow"),d.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,d.addEventListener((0,v.Le)(),function(C){var T=C.target;if(T.tagName==="BUTTON"){switch(T.getAttribute("data-type")){case"markdown":(function(S){var x=m(S);jo(S,x,x.substr(0,10)+".md")})(r);break;case"pdf":(function(S){S.tip.show(window.VditorI18n.generate,3800);var x=document.querySelector("#vditorExportIframe");x.contentDocument.open(),x.contentDocument.write('<link rel="stylesheet" href="'+S.options.cdn+`/dist/index.css"/>
<script src="`+S.options.cdn+`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    markdown: {
      theme: "`+S.options.preview.theme+`"
    },
    hljs: {
      style: "`+S.options.preview.hljs.style+`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`),x.contentDocument.close(),setTimeout(function(){x.contentWindow.postMessage(m(S),"*")},200)})(r);break;case"html":(function(S){var x=Do(S),B='<html><head><link rel="stylesheet" type="text/css" href="'+S.options.cdn+`/dist/index.css"/>
<script src="`+S.options.cdn+"/dist/js/i18n/"+S.options.lang+`.js"><\/script>
<script src="`+S.options.cdn+`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`+x+`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`+S.options.preview.theme.current+"', '"+S.options.preview.theme.path+`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`+JSON.stringify(S.options.preview.hljs)+", previewElement, '"+S.options.cdn+`');
    Vditor.mathRender(previewElement, {
        cdn: '`+S.options.cdn+`',
        math: `+JSON.stringify(S.options.preview.math)+`,
    });
    Vditor.mermaidRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.markmapRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.flowchartRender(previewElement, '`+S.options.cdn+`');
    Vditor.graphvizRender(previewElement, '`+S.options.cdn+`');
    Vditor.chartRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.mindmapRender(previewElement, '`+S.options.cdn+"', '"+S.options.theme+`');
    Vditor.abcRender(previewElement, '`+S.options.cdn+`');
    Vditor.mediaRender(previewElement);
    Vditor.speechRender(previewElement);
<\/script>
<script src="`+S.options.cdn+"/dist/js/icons/"+S.options.icon+'.js"><\/script></body></html>';jo(S,B,x.substr(0,10)+".html")})(r)}A(r,["subToolbar"]),C.preventDefault(),C.stopPropagation()}}),i.element.appendChild(d),H(r,d,l,s.level),i}return Wa(n,t),n}(Ge),$a=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ga=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i._bindEvent(r,s),i}return $a(n,t),n.prototype._bindEvent=function(r,s){this.element.children[0].addEventListener((0,v.Le)(),function(i){i.preventDefault(),r.element.className.includes("vditor--fullscreen")?(s.level||(this.innerHTML=s.icon),r.element.style.zIndex="",document.body.style.overflow="",r.element.classList.remove("vditor--fullscreen"),Object.keys(r.toolbar.elements).forEach(function(l){var d=r.toolbar.elements[l].firstChild;d&&(d.className=d.className.replace("__s","__n"))}),r.counter&&(r.counter.element.className=r.counter.element.className.replace("__s","__n"))):(s.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),r.element.style.zIndex=r.options.fullscreen.index.toString(),document.body.style.overflow="hidden",r.element.classList.add("vditor--fullscreen"),Object.keys(r.toolbar.elements).forEach(function(l){var d=r.toolbar.elements[l].firstChild;d&&(d.className=d.className.replace("__n","__s"))}),r.counter&&(r.counter.element.className=r.counter.element.className.replace("__n","__s"))),r.devtools&&r.devtools.renderEchart(r),s.click&&s.click(i,r),M(r),D(r)})},n}(Ge),Za=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ja=function(t){function n(r,s){var i=t.call(this,r,s)||this,l=document.createElement("div");return l.className="vditor-hint vditor-panel--arrow",l.innerHTML='<button data-tag="h1" data-value="# ">'+window.VditorI18n.heading1+" "+(0,v.ns)("&lt;\u2325\u23181>")+`</button>
<button data-tag="h2" data-value="## ">`+window.VditorI18n.heading2+" &lt;"+(0,v.ns)("\u2325\u23182")+`></button>
<button data-tag="h3" data-value="### ">`+window.VditorI18n.heading3+" &lt;"+(0,v.ns)("\u2325\u23183")+`></button>
<button data-tag="h4" data-value="#### ">`+window.VditorI18n.heading4+" &lt;"+(0,v.ns)("\u2325\u23184")+`></button>
<button data-tag="h5" data-value="##### ">`+window.VditorI18n.heading5+" &lt;"+(0,v.ns)("\u2325\u23185")+`></button>
<button data-tag="h6" data-value="###### ">`+window.VditorI18n.heading6+" &lt;"+(0,v.ns)("\u2325\u23186")+"></button>",i.element.appendChild(l),i._bindEvent(r,l),i}return Za(n,t),n.prototype._bindEvent=function(r,s){var i=this.element.children[0];i.addEventListener((0,v.Le)(),function(d){d.preventDefault(),i.classList.contains(h.g.CLASS_MENU_DISABLED)||(i.blur(),i.classList.contains("vditor-menu--current")?(r.currentMode==="wysiwyg"?(ve(r),V(r)):r.currentMode==="ir"&&Fn(r,""),i.classList.remove("vditor-menu--current")):(A(r,["subToolbar"]),s.style.display="block"))});for(var l=0;l<6;l++)s.children.item(l).addEventListener((0,v.Le)(),function(d){d.preventDefault(),r.currentMode==="wysiwyg"?(me(r,d.target.getAttribute("data-tag")),V(r),i.classList.add("vditor-menu--current")):r.currentMode==="ir"?(Fn(r,d.target.getAttribute("data-value")),i.classList.add("vditor-menu--current")):fo(r,d.target.getAttribute("data-value")),s.style.display="none"})},n}(Ge),Xa=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ya=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),r.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown \u4F7F\u7528\u6307\u5357</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">\u8BED\u6CD5\u901F\u67E5\u624B\u518C</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">\u57FA\u7840\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">\u6269\u5C55\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">\u952E\u76D8\u5FEB\u6377\u952E</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor \u652F\u6301</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">\u5B98\u65B9\u8BA8\u8BBA\u533A</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">\u5F00\u53D1\u624B\u518C</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">\u6F14\u793A\u5730\u5740</a></li>
    </ul>
</div></div>`,0)}),i}return Xa(n,t),n}(Ge),Qa=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),ec=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,v.Le)(),function(l){if(l.preventDefault(),!i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)&&r.currentMode!=="sv"){var d=(0,P.zh)(r),C=(0,k.lG)(d.startContainer,"LI");C&&bo(r,C,d)}}),i}return Qa(n,t),n}(Ge),tc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),nc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),r.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>\u4E0B\u4E00\u4EE3\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u4E3A\u672A\u6765\u800C\u6784\u5EFA</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor \u662F\u4E00\u6B3E\u6D4F\u89C8\u5668\u7AEF\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u652F\u6301\u6240\u89C1\u5373\u6240\u5F97\u3001\u5373\u65F6\u6E32\u67D3\uFF08\u7C7B\u4F3C Typora\uFF09\u548C\u5206\u5C4F\u9884\u89C8\u6A21\u5F0F\u3002
        \u5B83\u4F7F\u7528 TypeScript \u5B9E\u73B0\uFF0C\u652F\u6301\u539F\u751F JavaScript \u4EE5\u53CA Vue\u3001React\u3001Angular \u548C Svelte \u7B49\u6846\u67B6\u3002
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        \u9879\u76EE\u5730\u5740\uFF1A<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        \u5F00\u6E90\u534F\u8BAE\uFF1AMIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        \u7EC4\u4EF6\u7248\u672C\uFF1AVditor v`+h.H+" / Lute v"+Lute.Version+`
        </li>
        <li>
        \u8D5E\u52A9\u6350\u8D60\uFF1A<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`,0)}),i}return tc(n,t),n}(Ge),rc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),ic=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)||r.currentMode==="sv"||ar(r,"afterend")}),i}return rc(n,t),n}(Ge),oc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),sc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)||r.currentMode==="sv"||ar(r,"beforebegin")}),i}return oc(n,t),n}(Ge),lc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),ac=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i.element.children[0].addEventListener((0,v.Le)(),function(l){if(l.preventDefault(),!i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)&&r.currentMode!=="sv"){var d=(0,P.zh)(r),C=(0,k.lG)(d.startContainer,"LI");C&&ni(r,C,d,C.parentElement)}}),i}return lc(n,t),n}(Ge),cc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),dc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return r.options.outline&&i.element.firstElementChild.classList.add("vditor-menu--current"),i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),r.toolbar.elements.outline.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)||(r.options.outline.enable=!i.element.firstElementChild.classList.contains("vditor-menu--current"),r.outline.toggle(r,r.options.outline.enable))}),i}return cc(n,t),n}(Ge),uc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),fc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i._bindEvent(r),i}return uc(n,t),n.prototype._bindEvent=function(r){var s=this;this.element.children[0].addEventListener((0,v.Le)(),function(i){i.preventDefault();var l=s.element.firstElementChild;if(!l.classList.contains(h.g.CLASS_MENU_DISABLED)){var d=h.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);l.classList.contains("vditor-menu--current")?(l.classList.remove("vditor-menu--current"),r.currentMode==="sv"?(r.sv.element.style.display="block",r.options.preview.mode==="both"?r.preview.element.style.display="block":r.preview.element.style.display="none"):(r[r.currentMode].element.parentElement.style.display="block",r.preview.element.style.display="none"),L(r.toolbar.elements,d),r.outline.render(r)):(O(r.toolbar.elements,d),r.preview.element.style.display="block",r.currentMode==="sv"?r.sv.element.style.display="none":r[r.currentMode].element.parentElement.style.display="none",r.preview.render(r),l.classList.add("vditor-menu--current"),A(r,["subToolbar","hint","popover"]),setTimeout(function(){r.outline.render(r)},r.options.preview.delay+10)),M(r)}})},n}(Ge),pc=function(){function t(n){var r;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,typeof AudioContext<"u")r=new AudioContext;else{if(!webkitAudioContext)return;r=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=r.sampleRate;var s=r.createGain();r.createMediaStreamSource(n).connect(s),this.recorder=r.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,s.connect(this.recorder),this.recorder.connect(r.destination),this.readyFlag=!0}return t.prototype.cloneChannelData=function(n,r){this.leftChannel.push(new Float32Array(n)),this.rightChannel.push(new Float32Array(r)),this.recordingLength+=2048},t.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},t.prototype.stopRecording=function(){this.isRecording=!1},t.prototype.buildWavFileBlob=function(){for(var n=this.mergeBuffers(this.leftChannel),r=this.mergeBuffers(this.rightChannel),s=new Float32Array(n.length),i=0;i<n.length;++i)s[i]=.5*(n[i]+r[i]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(s=this.downSampleBuffer(s,this.SAMPLE_RATE));var l=44+2*s.length,d=new ArrayBuffer(l),C=new DataView(d);this.writeUTFBytes(C,0,"RIFF"),C.setUint32(4,l,!0),this.writeUTFBytes(C,8,"WAVE"),this.writeUTFBytes(C,12,"fmt "),C.setUint32(16,16,!0),C.setUint16(20,1,!0),C.setUint16(22,1,!0),C.setUint32(24,this.SAMPLE_RATE,!0),C.setUint32(28,2*this.SAMPLE_RATE,!0),C.setUint16(32,2,!0),C.setUint16(34,16,!0);var T=2*s.length;this.writeUTFBytes(C,36,"data"),C.setUint32(40,T,!0);for(var S=s.length,x=44,B=0;B<S;B++)C.setInt16(x,32767*s[B],!0),x+=2;return new Blob([C],{type:"audio/wav"})},t.prototype.downSampleBuffer=function(n,r){if(r===this.DEFAULT_SAMPLE_RATE||r>this.DEFAULT_SAMPLE_RATE)return n;for(var s=this.DEFAULT_SAMPLE_RATE/r,i=Math.round(n.length/s),l=new Float32Array(i),d=0,C=0;d<l.length;){for(var T=Math.round((d+1)*s),S=0,x=0,B=C;B<T&&B<n.length;B++)S+=n[B],x++;l[d]=S/x,d++,C=T}return l},t.prototype.mergeBuffers=function(n){for(var r=new Float32Array(this.recordingLength),s=0,i=n.length,l=0;l<i;++l){var d=n[l];r.set(d,s),s+=d.length}return r},t.prototype.writeUTFBytes=function(n,r,s){for(var i=s.length,l=0;l<i;l++)n.setUint8(r+l,s.charCodeAt(l))},t}(),mc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),hc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return i._bindEvent(r),i}return mc(n,t),n.prototype._bindEvent=function(r){var s,i=this;this.element.children[0].addEventListener((0,v.Le)(),function(l){if(l.preventDefault(),!i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)){var d=r[r.currentMode].element;if(s)if(s.isRecording){s.stopRecording(),r.tip.hide();var C=new File([s.buildWavFileBlob()],"record"+new Date().getTime()+".wav",{type:"video/webm"});ti(r,[C]),i.element.children[0].classList.remove("vditor-menu--current")}else r.tip.show(window.VditorI18n.recording),d.setAttribute("contenteditable","false"),s.startRecordingNewWavFile(),i.element.children[0].classList.add("vditor-menu--current");else navigator.mediaDevices.getUserMedia({audio:!0}).then(function(T){(s=new pc(T)).recorder.onaudioprocess=function(S){if(s.isRecording){var x=S.inputBuffer.getChannelData(0),B=S.inputBuffer.getChannelData(1);s.cloneChannelData(x,B)}},s.startRecordingNewWavFile(),r.tip.show(window.VditorI18n.recording),d.setAttribute("contenteditable","false"),i.element.children[0].classList.add("vditor-menu--current")}).catch(function(){r.tip.show(window.VditorI18n["record-tip"])})}})},n}(Ge),vc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),gc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return O({redo:i.element},["redo"]),i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)||r.undo.redo(r)}),i}return vc(n,t),n}(Ge),yc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),bc=function(t){function n(r,s){var i=t.call(this,r,s)||this;return O({undo:i.element},["undo"]),i.element.children[0].addEventListener((0,v.Le)(),function(l){l.preventDefault(),i.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED)||r.undo.undo(r)}),i}return yc(n,t),n}(Ge),wc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ec=function(t){function n(r,s){var i=t.call(this,r,s)||this,l='<input type="file"';return r.options.upload.multiple&&(l+=' multiple="multiple"'),r.options.upload.accept&&(l+=' accept="'+r.options.upload.accept+'"'),i.element.children[0].innerHTML=""+(s.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>')+l+">",i._bindEvent(r),i}return wc(n,t),n.prototype._bindEvent=function(r){var s=this;this.element.children[0].addEventListener((0,v.Le)(),function(i){if(s.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED))return i.stopPropagation(),void i.preventDefault()}),this.element.querySelector("input").addEventListener("change",function(i){if(s.element.firstElementChild.classList.contains(h.g.CLASS_MENU_DISABLED))return i.stopPropagation(),void i.preventDefault();i.target.files.length!==0&&ti(r,i.target.files,i.target)})},n}(Ge),_c=function(){function t(n){var r=this,s=n.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",s.toolbar.forEach(function(i,l){var d=r.genItem(n,i,l);if(r.element.appendChild(d),i.toolbar){var C=document.createElement("div");C.className="vditor-hint vditor-panel--arrow",C.addEventListener((0,v.Le)(),function(T){C.style.display="none"}),i.toolbar.forEach(function(T,S){T.level=2,C.appendChild(r.genItem(n,T,l+S))}),d.appendChild(C),H(n,C,d.children[0])}}),n.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),n.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),n.options.counter.enable&&(n.counter=new ja(n),this.element.appendChild(n.counter.element))}return t.prototype.genItem=function(n,r,s){var i;switch(r.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":i=new Ge(n,r);break;case"emoji":i=new Ka(n,r);break;case"headings":i=new Ja(n,r);break;case"|":i=new Fa;break;case"br":i=new Na;break;case"undo":i=new bc(n,r);break;case"redo":i=new gc(n,r);break;case"help":i=new Ya(n,r);break;case"both":i=new Ha(n,r);break;case"preview":i=new fc(n,r);break;case"fullscreen":i=new Ga(n,r);break;case"upload":i=new Ec(n,r);break;case"record":i=new hc(n,r);break;case"info":i=new nc(n,r);break;case"edit-mode":i=new la(n,r);break;case"devtools":i=new qa(n,r);break;case"outdent":i=new ac(n,r);break;case"indent":i=new ec(n,r);break;case"outline":i=new dc(n,r);break;case"insert-after":i=new ic(n,r);break;case"insert-before":i=new sc(n,r);break;case"code-theme":i=new Da(n,r);break;case"content-theme":i=new Pa(n,r);break;case"export":i=new za(n,r);break;default:i=new Ba(n,r)}if(i){var l=r.name;return l!=="br"&&l!=="|"||(l+=s),this.elements[l]=i.element,i.element}},t}(),Cc=f(760),kc=function(){function t(){this.stackSize=50,this.resetStack(),this.dmp=new Cc}return t.prototype.clearStack=function(n){this.resetStack(),this.resetIcon(n)},t.prototype.resetIcon=function(n){n.toolbar&&(this[n.currentMode].undoStack.length>1?L(n.toolbar.elements,["undo"]):O(n.toolbar.elements,["undo"]),this[n.currentMode].redoStack.length!==0?L(n.toolbar.elements,["redo"]):O(n.toolbar.elements,["redo"]))},t.prototype.undo=function(n){if(n[n.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[n.currentMode].undoStack.length<2)){var r=this[n.currentMode].undoStack.pop();r&&(this[n.currentMode].redoStack.push(r),this.renderDiff(r,n),this[n.currentMode].hasUndo=!0,A(n,["hint"]))}},t.prototype.redo=function(n){if(n[n.currentMode].element.getAttribute("contenteditable")!=="false"){var r=this[n.currentMode].redoStack.pop();r&&(this[n.currentMode].undoStack.push(r),this.renderDiff(r,n,!0))}},t.prototype.recordFirstPosition=function(n,r){if(getSelection().rangeCount!==0&&!(this[n.currentMode].undoStack.length!==1||this[n.currentMode].undoStack[0].length===0||this[n.currentMode].redoStack.length>0||(0,v.vU)()&&r.key==="Backspace"||(0,v.G6)())){var s=this.addCaret(n);s.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[n.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[n.currentMode].undoStack[0][0].diffs[0][1]=s,this[n.currentMode].lastText=s)}},t.prototype.addToUndoStack=function(n){var r=this.addCaret(n,!0),s=this.dmp.diff_main(r,this[n.currentMode].lastText,!0),i=this.dmp.patch_make(r,this[n.currentMode].lastText,s);i.length===0&&this[n.currentMode].undoStack.length>0||(this[n.currentMode].lastText=r,this[n.currentMode].undoStack.push(i),this[n.currentMode].undoStack.length>this.stackSize&&this[n.currentMode].undoStack.shift(),this[n.currentMode].hasUndo&&(this[n.currentMode].redoStack=[],this[n.currentMode].hasUndo=!1,O(n.toolbar.elements,["redo"])),this[n.currentMode].undoStack.length>1&&L(n.toolbar.elements,["undo"]))},t.prototype.renderDiff=function(n,r,s){var i;if(s===void 0&&(s=!1),s){var l=this.dmp.patch_deepCopy(n).reverse();l.forEach(function(C){C.diffs.forEach(function(T){T[0]=-T[0]})}),i=this.dmp.patch_apply(l,this[r.currentMode].lastText)[0]}else i=this.dmp.patch_apply(n,this[r.currentMode].lastText)[0];if(this[r.currentMode].lastText=i,r[r.currentMode].element.innerHTML=i,r.currentMode!=="sv"&&r[r.currentMode].element.querySelectorAll(".vditor-"+r.currentMode+"__preview[data-render='2']").forEach(function(C){Ue(C,r)}),r[r.currentMode].element.querySelector("wbr"))(0,P.ib)(r[r.currentMode].element,r[r.currentMode].element.ownerDocument.createRange()),tt(r);else{var d=getSelection().getRangeAt(0);d.setEndBefore(r[r.currentMode].element),d.collapse(!1)}Xe(r),Oe(r,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),et(r),r[r.currentMode].element.querySelectorAll(".vditor-"+r.currentMode+"__preview[data-render='2']").forEach(function(C){Ue(C,r)}),this[r.currentMode].undoStack.length>1?L(r.toolbar.elements,["undo"]):O(r.toolbar.elements,["undo"]),this[r.currentMode].redoStack.length!==0?L(r.toolbar.elements,["redo"]):O(r.toolbar.elements,["redo"])},t.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},t.prototype.addCaret=function(n,r){var s;if(r===void 0&&(r=!1),getSelection().rangeCount!==0&&!n[n.currentMode].element.querySelector("wbr")){var i=getSelection().getRangeAt(0);if(n[n.currentMode].element.contains(i.startContainer)){s=i.cloneRange();var l=document.createElement("span");l.className="vditor-wbr",i.insertNode(l)}}n.ir.element.cloneNode(!0).querySelectorAll(".vditor-"+n.currentMode+"__preview[data-render='1']").forEach(function(C){(C.firstElementChild.classList.contains("language-echarts")||C.firstElementChild.classList.contains("language-plantuml")||C.firstElementChild.classList.contains("language-mindmap"))&&(C.firstElementChild.removeAttribute("_echarts_instance_"),C.firstElementChild.removeAttribute("data-processed"),C.firstElementChild.innerHTML=C.previousElementSibling.firstElementChild.innerHTML,C.setAttribute("data-render","2")),C.firstElementChild.classList.contains("language-math")&&(C.setAttribute("data-render","2"),C.firstElementChild.textContent=C.firstElementChild.getAttribute("data-math"),C.firstElementChild.removeAttribute("data-math"))});var d=n[n.currentMode].element.innerHTML;return n[n.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(C){C.remove()}),r&&s&&(0,P.Hc)(s),d.replace('<span class="vditor-wbr"></span>',"<wbr>")},t}(),Sc=f(640),xc=function(){function t(n){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:h.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"\u{1F44D}","-1":"\u{1F44E}",confused:"\u{1F615}",eyes:"\u{1F440}\uFE0F",heart:"\u2764\uFE0F",rocket:"\u{1F680}\uFE0F",smile:"\u{1F604}",tada:"\u{1F389}\uFE0F"},emojiPath:h.g.CDN+"/dist/images/emoji",extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:h.g.HLJS_OPTIONS,markdown:h.g.MARKDOWN_OPTIONS,math:h.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:h.g.THEME_OPTIONS},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(r){return r.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=n}return t.prototype.merge=function(){var n,r,s;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((r=(n=this.options.preview)===null||n===void 0?void 0:n.theme)===null||r===void 0)&&r.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((s=this.options.hint)===null||s===void 0)&&s.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment));var i=(0,Sc.T)(this.defaultOptions,this.options);if(i.cache.enable&&!i.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return i},t.prototype.mergeToolbar=function(n){var r=this,s=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"\u2318E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"\u2318H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"\u2318B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"\u2318I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"\u2318D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"\u2318K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"\u2318L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"\u2318O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"\u2318J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"\u21E7\u2318I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"\u21E7\u2318O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"\u2318;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"\u21E7\u2318H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"\u2318U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"\u2318G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"\u21E7\u2318B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"\u21E7\u2318E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"\u2318M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"\u2318Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"\u2318Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"\u2318'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"\u2318P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],i=[];return n.forEach(function(l){var d=l;s.forEach(function(C){typeof l=="string"&&C.name===l&&(d=C),typeof l=="object"&&C.name===l.name&&(d=Object.assign({},C,l))}),l.toolbar&&(d.toolbar=r.mergeToolbar(l.toolbar)),i.push(d)}),i},t}(),Tc=function(){function t(n){var r=this;this.composingLock=!1,this.commentIds=[];var s=document.createElement("div");s.className="vditor-wysiwyg",s.innerHTML='<pre class="vditor-reset" placeholder="'+n.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`+window.VditorI18n.comment+`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`,this.element=s.firstElementChild,this.popover=s.firstElementChild.nextElementSibling,this.selectPopover=s.lastElementChild,this.bindEvent(n),Gr(n,this.element),ao(n,this.element),Zr(n,this.element),Qr(n,this.element),ei(n,this.element),Jr(n,this.element),Xr(n,this.element,this.copy),Yr(n,this.element,this.copy),n.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var i,l,d=Lute.NewNodeID(),C=getSelection().getRangeAt(0),T=C.cloneRange(),S=C.extractContents(),x=!1,B=!1;S.childNodes.forEach(function(j,z){var le=!1;if(j.nodeType===3?le=!0:j.classList.contains("vditor-comment")?j.classList.contains("vditor-comment")&&j.setAttribute("data-cmtids",j.getAttribute("data-cmtids")+" "+d):le=!0,le)if(j.nodeType!==3&&j.getAttribute("data-block")==="0"&&z===0&&T.startOffset>0)j.innerHTML='<span class="vditor-comment" data-cmtids="'+d+'">'+j.innerHTML+"</span>",i=j;else if(j.nodeType!==3&&j.getAttribute("data-block")==="0"&&z===S.childNodes.length-1&&T.endOffset<T.endContainer.textContent.length)j.innerHTML='<span class="vditor-comment" data-cmtids="'+d+'">'+j.innerHTML+"</span>",l=j;else if(j.nodeType!==3&&j.getAttribute("data-block")==="0")z===0?x=!0:z===S.childNodes.length-1&&(B=!0),j.innerHTML='<span class="vditor-comment" data-cmtids="'+d+'">'+j.innerHTML+"</span>";else{var se=document.createElement("span");se.classList.add("vditor-comment"),se.setAttribute("data-cmtids",d),j.parentNode.insertBefore(se,j),se.appendChild(j)}});var Z=(0,k.F9)(T.startContainer);Z&&(i?(Z.insertAdjacentHTML("beforeend",i.innerHTML),i.remove()):Z.textContent.trim().replace(h.g.ZWSP,"")===""&&x&&Z.remove());var ee=(0,k.F9)(T.endContainer);ee&&(l?(ee.insertAdjacentHTML("afterbegin",l.innerHTML),l.remove()):ee.textContent.trim().replace(h.g.ZWSP,"")===""&&B&&ee.remove()),C.insertNode(S),n.options.comment.add(d,C.toString(),r.getComments(n,!0)),V(n,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),r.hideComment()})}return t.prototype.getComments=function(n,r){var s=this;if(r===void 0&&(r=!1),n.currentMode!=="wysiwyg"||!n.options.comment.enable)return[];this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(l){s.commentIds=s.commentIds.concat(l.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var i=[];return r?(this.commentIds.forEach(function(l){i.push({id:l,top:s.element.querySelector('.vditor-comment[data-cmtids="'+l+'"]').offsetTop})}),i):void 0},t.prototype.triggerRemoveComment=function(n){var r,s,i;if(n.currentMode==="wysiwyg"&&n.options.comment.enable&&n.wysiwyg.commentIds.length>0){var l=JSON.parse(JSON.stringify(this.commentIds));this.getComments(n);var d=(r=l,s=this.commentIds,i=new Set(s),r.filter(function(C){return!i.has(C)}));d.length>0&&n.options.comment.remove(d)}},t.prototype.showComment=function(){var n=(0,P.Ny)(this.element);this.selectPopover.setAttribute("style","left:"+n.left+"px;display:block;top:"+Math.max(-8,n.top-21)+"px")},t.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},t.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},t.prototype.copy=function(n,r){var s=getSelection().getRangeAt(0);if(s.toString()!==""){n.stopPropagation(),n.preventDefault();var i=(0,k.lG)(s.startContainer,"CODE"),l=(0,k.lG)(s.endContainer,"CODE");if(i&&l&&l.isSameNode(i)){var d="";return d=i.parentElement.tagName==="PRE"?s.toString():"`"+s.toString()+"`",n.clipboardData.setData("text/plain",d),void n.clipboardData.setData("text/html","")}var C=(0,k.lG)(s.startContainer,"A"),T=(0,k.lG)(s.endContainer,"A");if(C&&T&&T.isSameNode(C)){var S=C.getAttribute("title")||"";return S&&(S=' "'+S+'"'),n.clipboardData.setData("text/plain","["+s.toString()+"]("+C.getAttribute("href")+S+")"),void n.clipboardData.setData("text/html","")}var x=document.createElement("div");x.appendChild(s.cloneContents()),n.clipboardData.setData("text/plain",r.lute.VditorDOM2Md(x.innerHTML).trim()),n.clipboardData.setData("text/html","")}},t.prototype.bindEvent=function(n){var r=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(A(n,["hint"]),r.popover.style.display==="block"&&r.selectPopover.style.display==="block"){var s=parseInt(r.popover.getAttribute("data-top"),10);if(n.options.height==="auto"){if(n.options.toolbarConfig.pin){var i=Math.max(s,window.scrollY-n.element.offsetTop-8)+"px";r.popover.style.display==="block"&&(r.popover.style.top=i),r.selectPopover.style.display==="block"&&(r.selectPopover.style.top=i)}}else if(n.options.toolbarConfig.pin&&n.toolbar.element.getBoundingClientRect().top===0){var l=Math.max(window.scrollY-n.element.offsetTop-8,Math.min(s-n.wysiwyg.element.scrollTop,r.element.clientHeight-21))+"px";r.popover.style.display==="block"&&(r.popover.style.top=l),r.selectPopover.style.display==="block"&&(r.selectPopover.style.top=l)}}}),this.element.addEventListener("scroll",function(){if(A(n,["hint"]),n.options.comment&&n.options.comment.enable&&n.options.comment.scroll&&n.options.comment.scroll(n.wysiwyg.element.scrollTop),r.popover.style.display==="block"){var s=parseInt(r.popover.getAttribute("data-top"),10)-n.wysiwyg.element.scrollTop,i=-8;n.options.toolbarConfig.pin&&n.toolbar.element.getBoundingClientRect().top===0&&(i=window.scrollY-n.element.offsetTop+i);var l=Math.max(i,Math.min(s,r.element.clientHeight-21))+"px";r.popover.style.top=l,r.selectPopover.style.top=l}}),this.element.addEventListener("paste",function(s){fr(n,s,{pasteCode:function(i){var l=(0,P.zh)(n),d=document.createElement("template");d.innerHTML=i,l.insertNode(d.content.cloneNode(!0));var C=(0,k.a1)(l.startContainer,"data-block","0");C?C.outerHTML=n.lute.SpinVditorDOM(C.outerHTML):n.wysiwyg.element.innerHTML=n.lute.SpinVditorDOM(n.wysiwyg.element.innerHTML),(0,P.ib)(n.wysiwyg.element,l)}})}),this.element.addEventListener("compositionstart",function(){r.composingLock=!0}),this.element.addEventListener("compositionend",function(s){var i=(0,F.W)(getSelection().getRangeAt(0).startContainer);i&&i.textContent===""?Xe(n):((0,v.vU)()||lr(n,getSelection().getRangeAt(0).cloneRange(),s),r.composingLock=!1)}),this.element.addEventListener("input",function(s){if(s.inputType!=="deleteByDrag"&&s.inputType!=="insertFromDrop"){if(r.preventInput)return r.preventInput=!1,void V(n);if(r.composingLock||s.data==="\u2018"||s.data==="\u201C"||s.data==="\u300A")V(n);else{var i=getSelection().getRangeAt(0),l=(0,k.F9)(i.startContainer);if(l||(ge(n,i),l=(0,k.F9)(i.startContainer)),l){for(var d=(0,P.im)(l,n.wysiwyg.element,i).start,C=!0,T=d-1;T>l.textContent.substr(0,d).lastIndexOf(`
`);T--)if(l.textContent.charAt(T)!==" "&&l.textContent.charAt(T)!=="	"){C=!1;break}d===0&&(C=!1);var S=!0;for(T=d-1;T<l.textContent.length;T++)if(l.textContent.charAt(T)!==" "&&l.textContent.charAt(T)!==`
`){S=!1;break}var x=(0,F.W)(getSelection().getRangeAt(0).startContainer);x&&x.textContent===""&&(Xe(n),x.remove()),C&&l.getAttribute("data-type")!=="code-block"||S||ii(l.innerHTML)||ri(l.innerHTML)&&l.previousElementSibling?typeof n.options.input=="function"&&n.options.input(m(n)):lr(n,i,s)}}}}),this.element.addEventListener("click",function(s){if(s.target.tagName==="INPUT"){var i=s.target;return i.checked?i.setAttribute("checked","checked"):i.removeAttribute("checked"),r.preventInput=!0,void V(n)}if(s.target.tagName!=="IMG"||s.target.parentElement.classList.contains("vditor-wysiwyg__preview")){if(s.target.tagName==="A")return n.options.link.click?n.options.link.click(s.target):n.options.link.isOpen&&window.open(s.target.getAttribute("href")),void s.preventDefault();var l=(0,P.zh)(n);if(s.target.isEqualNode(r.element)&&r.element.lastElementChild&&l.collapsed){var d=r.element.lastElementChild.getBoundingClientRect();s.y>d.top+d.height&&(r.element.lastElementChild.tagName==="P"&&r.element.lastElementChild.textContent.trim().replace(h.g.ZWSP,"")===""?(l.selectNodeContents(r.element.lastElementChild),l.collapse(!1)):(r.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+h.g.ZWSP+"<wbr></p>"),(0,P.ib)(r.element,l)))}Ie(n);var C=(0,k.fb)(s.target,"vditor-wysiwyg__preview");C||(C=(0,k.fb)((0,P.zh)(n).startContainer,"vditor-wysiwyg__preview")),C&&Ce(C,n),rn(s,n)}else s.target.getAttribute("data-type")==="link-ref"?$e(n,s.target):function(T,S){var x=T.target;S.wysiwyg.popover.innerHTML="";var B=function(){x.setAttribute("src",ee.value),x.setAttribute("alt",z.value),x.setAttribute("title",se.value)},Z=document.createElement("span");Z.setAttribute("aria-label",window.VditorI18n.imageURL),Z.className="vditor-tooltipped vditor-tooltipped__n";var ee=document.createElement("input");Z.appendChild(ee),ee.className="vditor-input",ee.setAttribute("placeholder",window.VditorI18n.imageURL),ee.value=x.getAttribute("src")||"",ee.oninput=function(){B()},ee.onkeydown=function(ie){Ee(S,ie)};var j=document.createElement("span");j.setAttribute("aria-label",window.VditorI18n.alternateText),j.className="vditor-tooltipped vditor-tooltipped__n";var z=document.createElement("input");j.appendChild(z),z.className="vditor-input",z.setAttribute("placeholder",window.VditorI18n.alternateText),z.style.width="52px",z.value=x.getAttribute("alt")||"",z.oninput=function(){B()},z.onkeydown=function(ie){Ee(S,ie)};var le=document.createElement("span");le.setAttribute("aria-label",window.VditorI18n.title),le.className="vditor-tooltipped vditor-tooltipped__n";var se=document.createElement("input");le.appendChild(se),se.className="vditor-input",se.setAttribute("placeholder",window.VditorI18n.title),se.value=x.getAttribute("title")||"",se.oninput=function(){B()},se.onkeydown=function(ie){Ee(S,ie)},mt(x,S),S.wysiwyg.popover.insertAdjacentElement("beforeend",Z),S.wysiwyg.popover.insertAdjacentElement("beforeend",j),S.wysiwyg.popover.insertAdjacentElement("beforeend",le),Me(S,x)}(s,n)}),this.element.addEventListener("keyup",function(s){if(!s.isComposing&&!(0,v.yl)(s)){s.key==="Enter"&&tt(n),s.key!=="Backspace"&&s.key!=="Delete"||n.wysiwyg.element.innerHTML===""||n.wysiwyg.element.childNodes.length!==1||!n.wysiwyg.element.firstElementChild||n.wysiwyg.element.firstElementChild.tagName!=="P"||n.wysiwyg.element.firstElementChild.childElementCount!==0||n.wysiwyg.element.textContent!==""&&n.wysiwyg.element.textContent!==`
`||(n.wysiwyg.element.innerHTML="");var i=(0,P.zh)(n);if(s.key==="Backspace"&&(0,v.vU)()&&i.startContainer.textContent===`
`&&i.startOffset===1&&(i.startContainer.textContent=""),ge(n,i),Ie(n),s.key==="ArrowDown"||s.key==="ArrowRight"||s.key==="Backspace"||s.key==="ArrowLeft"||s.key==="ArrowUp"){s.key!=="ArrowLeft"&&s.key!=="ArrowRight"||n.hint.render(n);var l=(0,k.fb)(i.startContainer,"vditor-wysiwyg__preview");if(!l&&i.startContainer.nodeType!==3&&i.startOffset>0&&(C=i.startContainer).classList.contains("vditor-wysiwyg__block")&&(l=C.lastElementChild),l)if(l.previousElementSibling.style.display!=="none"){var d=l.previousElementSibling;if(d.tagName==="PRE"&&(d=d.firstElementChild),s.key==="ArrowDown"||s.key==="ArrowRight"){var C,T=function(x){for(var B=x;B&&!B.nextSibling;)B=B.parentElement;return B.nextSibling}(C=l.parentElement);if(T&&T.nodeType!==3){var S=T.querySelector(".vditor-wysiwyg__preview");if(S)return void Ce(S,n)}if(T.nodeType===3){for(;T.textContent.length===0&&T.nextSibling;)T=T.nextSibling;i.setStart(T,1)}else i.setStart(T.firstChild,0)}else i.selectNodeContents(d),i.collapse(!1)}else s.key==="ArrowDown"||s.key==="ArrowRight"?Ce(l,n):Ce(l,n,!1)}}})},t}(),Lc=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var l in i)i.hasOwnProperty(l)&&(s[l]=i[l])},t(n,r)};return function(n,r){function s(){this.constructor=n}t(n,r),n.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}();const Ac=function(t){function n(r,s){var i=t.call(this)||this;i.version=h.H,typeof r=="string"&&(s?s.cache?s.cache.id||(s.cache.id="vditor"+r):s.cache={id:"vditor"+r}:s={cache:{id:"vditor"+r}},r=document.getElementById(r));var l=new xc(s).merge();if(l.i18n)window.VditorI18n=l.i18n,i.init(r,l);else{if(!["en_US","ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(l.lang))throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");var d="vditorI18nScript",C=d+l.lang;document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(T){T.id!==C&&document.head.removeChild(T)}),(0,p.G)(l.cdn+"/dist/js/i18n/"+l.lang+".js",C).then(function(){i.init(r,l)})}return i}return Lc(n,t),n.prototype.setTheme=function(r,s,i,l){this.vditor.options.theme=r,Fe(this.vditor),s&&(this.vditor.options.preview.theme.current=s,(0,De.Z)(s,l||this.vditor.options.preview.theme.path)),i&&(this.vditor.options.preview.hljs.style=i,(0,Po.Y)(i,this.vditor.options.cdn))},n.prototype.getValue=function(){return m(this.vditor)},n.prototype.getCurrentMode=function(){return this.vditor.currentMode},n.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},n.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},n.prototype.disabled=function(){A(this.vditor,["subToolbar","hint","popover"]),O(this.vditor.toolbar.elements,h.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},n.prototype.enable=function(){L(this.vditor.toolbar.elements,h.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},n.prototype.getSelection=function(){return this.vditor.currentMode==="wysiwyg"?Un(this.vditor.wysiwyg.element):this.vditor.currentMode==="sv"?Un(this.vditor.sv.element):this.vditor.currentMode==="ir"?Un(this.vditor.ir.element):void 0},n.prototype.renderPreview=function(r){this.vditor.preview.render(this.vditor,r)},n.prototype.getCursorPosition=function(){return(0,P.Ny)(this.vditor[this.vditor.currentMode].element)},n.prototype.isUploading=function(){return this.vditor.upload.isUploading},n.prototype.clearCache=function(){localStorage.removeItem(this.vditor.options.cache.id)},n.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},n.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},n.prototype.html2md=function(r){return this.vditor.lute.HTML2Md(r)},n.prototype.exportJSON=function(r){return this.vditor.lute.RenderJSON(r)},n.prototype.getHTML=function(){return Do(this.vditor)},n.prototype.tip=function(r,s){this.vditor.tip.show(r,s)},n.prototype.setPreviewMode=function(r){si(r,this.vditor)},n.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},n.prototype.updateValue=function(r){document.execCommand("insertHTML",!1,r)},n.prototype.insertValue=function(r,s){s===void 0&&(s=!0);var i=(0,P.zh)(this.vditor);i.collapse(!0);var l=document.createElement("template");l.innerHTML=r,i.insertNode(l.content.cloneNode(!0)),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,s&&Re(this.vditor)):this.vditor.currentMode==="wysiwyg"?(this.vditor.wysiwyg.preventInput=!0,s&&lr(this.vditor,getSelection().getRangeAt(0))):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,s&&Be(this.vditor,getSelection().getRangeAt(0),!0))},n.prototype.setValue=function(r,s){var i=this;s===void 0&&(s=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>"+this.vditor.lute.SpinVditorSVDOM(r)+"</div>",rt(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?wt(this.vditor,r,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(r),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(l){Ue(l,i.vditor)}),jt(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),r||(A(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),s&&this.clearStack()},n.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},n.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var r=document.getElementById("vditorIconScript");r&&r.remove(),this.clearCache(),R(),this.vditor.wysiwyg.unbindListener()},n.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},n.prototype.hlCommentIds=function(r){if(this.vditor.currentMode==="wysiwyg"){var s=function(i){i.classList.remove("vditor-comment--hover"),r.forEach(function(l){i.getAttribute("data-cmtids").indexOf(l)>-1&&i.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)})}},n.prototype.unHlCommentIds=function(r){if(this.vditor.currentMode==="wysiwyg"){var s=function(i){r.forEach(function(l){i.getAttribute("data-cmtids").indexOf(l)>-1&&i.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(i){s(i)})}},n.prototype.removeCommentIds=function(r){var s=this;if(this.vditor.currentMode==="wysiwyg"){var i=function(l,d){var C=l.getAttribute("data-cmtids").split(" ");C.find(function(T,S){if(T===d)return C.splice(S,1),!0}),C.length===0?(l.outerHTML=l.innerHTML,(0,P.zh)(s.vditor).collapse(!0)):l.setAttribute("data-cmtids",C.join(" "))};r.forEach(function(l){s.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(d){i(d,l)}),s.vditor.preview.element.style.display!=="none"&&s.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(d){i(d,l)})}),V(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},n.prototype.init=function(r,s){var i=this;this.vditor={currentMode:s.mode,element:r,hint:new Ea(s.hint.extend),lute:void 0,options:s,originalInnerHTML:r.innerHTML,outline:new ka(window.VditorI18n.outline),tip:new Aa},this.vditor.sv=new La(this.vditor),this.vditor.undo=new kc,this.vditor.wysiwyg=new Tc(this.vditor),this.vditor.ir=new _a(this.vditor),this.vditor.toolbar=new _c(this.vditor),s.resize.enable&&(this.vditor.resize=new Ta(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new w),(s.upload.url||s.upload.handler)&&(this.vditor.upload=new fa),(0,p.G)(s._lutePath||s.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){i.vditor.lute=(0,Ca.X)({autoSpace:i.vditor.options.preview.markdown.autoSpace,codeBlockPreview:i.vditor.options.preview.markdown.codeBlockPreview,emojiSite:i.vditor.options.hint.emojiPath,emojis:i.vditor.options.hint.emoji,fixTermTypo:i.vditor.options.preview.markdown.fixTermTypo,footnotes:i.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:i.vditor.options.preview.math.inlineDigit,linkBase:i.vditor.options.preview.markdown.linkBase,linkPrefix:i.vditor.options.preview.markdown.linkPrefix,listStyle:i.vditor.options.preview.markdown.listStyle,mark:i.vditor.options.preview.markdown.mark,mathBlockPreview:i.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:i.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:i.vditor.options.preview.markdown.sanitize,toc:i.vditor.options.preview.markdown.toc}),i.vditor.preview=new xa(i.vditor),function(l){l.element.innerHTML="",l.element.classList.add("vditor"),l.options.rtl&&l.element.setAttribute("dir","rtl"),Fe(l),(0,De.Z)(l.options.preview.theme.current,l.options.preview.theme.path),typeof l.options.height=="number"?l.element.style.height=l.options.height+"px":l.element.style.height=l.options.height,typeof l.options.minHeight=="number"&&(l.element.style.minHeight=l.options.minHeight+"px"),typeof l.options.width=="number"?l.element.style.width=l.options.width+"px":l.element.style.width=l.options.width,l.element.appendChild(l.toolbar.element);var d=document.createElement("div");if(d.className="vditor-content",l.options.outline.position==="left"&&d.appendChild(l.outline.element),d.appendChild(l.wysiwyg.element.parentElement),d.appendChild(l.sv.element),d.appendChild(l.ir.element.parentElement),d.appendChild(l.preview.element),l.toolbar.elements.devtools&&d.appendChild(l.devtools.element),l.options.outline.position==="right"&&(l.outline.element.classList.add("vditor-outline--right"),d.appendChild(l.outline.element)),l.upload&&d.appendChild(l.upload.element),l.options.resize.enable&&d.appendChild(l.resize.element),d.appendChild(l.hint.element),d.appendChild(l.tip.element),l.element.appendChild(d),d.addEventListener("click",function(){A(l,["subToolbar"])}),l.toolbar.elements.export&&l.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),on(l,l.options.mode,ne(l)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&window.visualViewport!==void 0){var C=!1,T=function(S){C||(C=!0,requestAnimationFrame(function(){C=!1;var x=l.toolbar.element;x.style.transform="none",x.getBoundingClientRect().top<0&&(x.style.transform="translate(0, "+-x.getBoundingClientRect().top+"px)")}))};window.visualViewport.addEventListener("scroll",T),window.visualViewport.addEventListener("resize",T)}}(i.vditor),s.after&&s.after(),s.icon&&(0,p.J)(s.cdn+"/dist/js/icons/"+s.icon+".js","vditorIconScript")})},n}(y.default)})(),g=g.default})()})})(Fl);const Mf=Af(Fl.exports);const oo=()=>{const{userInfo:e}=$r(),o=(()=>{const g=new URL(location.href.replace("/#/","/")),b=g.searchParams.get("repo"),y=g.searchParams.get("path");return b&&y?{repo:b,path:y}:void 0})(),a=(()=>{var y;const g=(y=e.value)==null?void 0:y.login;return!g||!o?Promise.resolve(void 0):yf({user:g,...o})})(),c=Kt(!Boolean(o==null?void 0:o.path)),f=Kt();return a.then(g=>{f.value=g,c.value=!1}),{routeInfo:o,loading:c,initialContent:f}},Vl="3.7.5",Hf=Vl,Nf=typeof atob=="function",Of=typeof btoa=="function",Bn=typeof Buffer=="function",xs=typeof TextDecoder=="function"?new TextDecoder:void 0,Ts=typeof TextEncoder=="function"?new TextEncoder:void 0,Df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wn=Array.prototype.slice.call(Df),_r=(e=>{let o={};return e.forEach((a,c)=>o[a]=c),o})(Wn),If=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ct=String.fromCharCode.bind(String),Ls=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Kl=e=>e.replace(/=/g,"").replace(/[+\/]/g,o=>o=="+"?"-":"_"),Wl=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),zl=e=>{let o,a,c,f,g="";const b=e.length%3;for(let y=0;y<e.length;){if((a=e.charCodeAt(y++))>255||(c=e.charCodeAt(y++))>255||(f=e.charCodeAt(y++))>255)throw new TypeError("invalid character found");o=a<<16|c<<8|f,g+=Wn[o>>18&63]+Wn[o>>12&63]+Wn[o>>6&63]+Wn[o&63]}return b?g.slice(0,b-3)+"===".substring(b):g},so=Of?e=>btoa(e):Bn?e=>Buffer.from(e,"binary").toString("base64"):zl,Ni=Bn?e=>Buffer.from(e).toString("base64"):e=>{let a=[];for(let c=0,f=e.length;c<f;c+=4096)a.push(ct.apply(null,e.subarray(c,c+4096)));return so(a.join(""))},xr=(e,o=!1)=>o?Kl(Ni(e)):Ni(e),Pf=e=>{if(e.length<2){var o=e.charCodeAt(0);return o<128?e:o<2048?ct(192|o>>>6)+ct(128|o&63):ct(224|o>>>12&15)+ct(128|o>>>6&63)+ct(128|o&63)}else{var o=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return ct(240|o>>>18&7)+ct(128|o>>>12&63)+ct(128|o>>>6&63)+ct(128|o&63)}},jf=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,$l=e=>e.replace(jf,Pf),As=Bn?e=>Buffer.from(e,"utf8").toString("base64"):Ts?e=>Ni(Ts.encode(e)):e=>so($l(e)),Hn=(e,o=!1)=>o?Kl(As(e)):As(e),Ms=e=>Hn(e,!0),Rf=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Bf=e=>{switch(e.length){case 4:var o=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),a=o-65536;return ct((a>>>10)+55296)+ct((a&1023)+56320);case 3:return ct((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return ct((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Gl=e=>e.replace(Rf,Bf),Zl=e=>{if(e=e.replace(/\s+/g,""),!If.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let o,a="",c,f;for(let g=0;g<e.length;)o=_r[e.charAt(g++)]<<18|_r[e.charAt(g++)]<<12|(c=_r[e.charAt(g++)])<<6|(f=_r[e.charAt(g++)]),a+=c===64?ct(o>>16&255):f===64?ct(o>>16&255,o>>8&255):ct(o>>16&255,o>>8&255,o&255);return a},lo=Nf?e=>atob(Wl(e)):Bn?e=>Buffer.from(e,"base64").toString("binary"):Zl,Jl=Bn?e=>Ls(Buffer.from(e,"base64")):e=>Ls(lo(e).split("").map(o=>o.charCodeAt(0))),Xl=e=>Jl(Yl(e)),Uf=Bn?e=>Buffer.from(e,"base64").toString("utf8"):xs?e=>xs.decode(Jl(e)):e=>Gl(lo(e)),Yl=e=>Wl(e.replace(/[-_]/g,o=>o=="-"?"+":"/")),Oi=e=>Uf(Yl(e)),qf=e=>{if(typeof e!="string")return!1;const o=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(o)||!/[^\s0-9a-zA-Z\-_]/.test(o)},Ql=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),ea=function(){const e=(o,a)=>Object.defineProperty(String.prototype,o,Ql(a));e("fromBase64",function(){return Oi(this)}),e("toBase64",function(o){return Hn(this,o)}),e("toBase64URI",function(){return Hn(this,!0)}),e("toBase64URL",function(){return Hn(this,!0)}),e("toUint8Array",function(){return Xl(this)})},ta=function(){const e=(o,a)=>Object.defineProperty(Uint8Array.prototype,o,Ql(a));e("toBase64",function(o){return xr(this,o)}),e("toBase64URI",function(){return xr(this,!0)}),e("toBase64URL",function(){return xr(this,!0)})},Ff=()=>{ea(),ta()},na={version:Vl,VERSION:Hf,atob:lo,atobPolyfill:Zl,btoa:so,btoaPolyfill:zl,fromBase64:Oi,toBase64:Hn,encode:Hn,encodeURI:Ms,encodeURL:Ms,utob:$l,btou:Gl,decode:Oi,isValid:qf,fromUint8Array:xr,toUint8Array:Xl,extendString:ea,extendUint8Array:ta,extendBuiltins:Ff},Vf=e=>{const o=Kt(""),{initialContent:a}=oo(),c=(()=>{var b;return(b=new URL(location.href.replace("/#/","/")).searchParams.get("assets_site"))!=null?b:"https://local.assets.server"})();let f;return Xi(()=>{!e.value||(f=new Mf(e.value,{cache:{enable:!1},upload:{url:c},placeholder:"Type here",input:g=>{o.value=g}}),Bd(async()=>{if(a.value){const g=na.decode(a.value.content);f.setValue(g)}}))}),{value:o}},ra=nn({__name:"Overlay",props:{bindings:null,transitionProps:null},setup(e){return(o,a)=>(lt(),Rn(ef,Ft(mn(e.transitionProps)),{default:Xt(()=>[(lt(!0),xt(it,null,gl(e.bindings,(c,f)=>vn(o.$slots,"default",Ft(Mn({key:c.key},{...c,index:f})))),128))]),_:3},16))}}),Hs=(()=>{let e=-1;return()=>(e+=1,e)})(),ia=()=>{const e=Kt([]);return{bindings:e,unshift:f=>{const g=Hs();return e.value.unshift({bind:f,key:g}),g},push:f=>{const g=Hs();return e.value.push({bind:f,key:g}),g},remove:f=>{e.value=e.value.filter(g=>g.key!==f)}}},Tr=Symbol("UNSELECT_CLOSE"),Kf=()=>{const{bindings:e,push:o,remove:a}=ia(),c=(g,b)=>{e.value.findIndex(h=>h.key===g)!=-1&&tl(()=>{a(g)})};return{bindings:e,showConfirm:g=>new Promise((b,y)=>{const h={selections:["Cancel","Ok"],...g,onSelect:m=>{m===Tr?y("confirm closed without selection"):m!==void 0&&b(m),c(u)}},u=o(h)})}},Wf=["innerHTML"],oa=nn({__name:"Content",props:{content:null,contentHtml:null,contentNode:null},setup(e){return(o,a)=>(lt(),xt("div",null,[e.content?(lt(),xt(it,{key:0},[Ml(Ir(e.content),1)],64)):e.contentHtml?(lt(),xt("div",{key:1,innerHTML:e.contentHtml},null,8,Wf)):e.contentNode?(lt(),Rn(Xd(e.contentNode),{key:2})):ir("",!0)]))}}),zf={class:"vl-confirm-content__header"},$f={class:"vl-confirm-content__footer"},Gf=["disabled","onClick"],Zf=nn({__name:"Confirm",props:{customClass:null,customContentClass:null,selections:null,showClose:{type:Boolean},modalClose:{type:Boolean},content:null,contentHtml:null,contentNode:null},emits:["select"],setup(e,{emit:o}){const a=e,c=Kt(),f=y=>({content:y.content,contentHtml:y.contentHtml,contentNode:y.contentNode}),g=y=>typeof y=="string"?y:y.label,b=async(y,h)=>{if(c.value===void 0){if(typeof y=="string"){o("select",y);return}if(!y.entering){o("select",y.value);return}c.value=h;try{await y.entering(),c.value=void 0,o("select",y.value)}catch{c.value=void 0}}};return(y,h)=>(lt(),xt("div",{class:Nn(["vl-confirm-provider",[e.customClass]])},[st("div",{class:"vl-confirm-modal",onClick:h[0]||(h[0]=()=>e.modalClose&&y.$emit("select",Ye(Tr)))}),st("div",{class:Nn(["vl-confirm-content",[e.customContentClass]])},[st("div",zf,[e.showClose?vn(y.$slots,"closeButton",Ft(Mn({key:0},{close:()=>y.$emit("select",Ye(Tr))})),()=>[st("button",{class:"close-button",onClick:h[1]||(h[1]=u=>y.$emit("select",Ye(Tr)))}," close ")]):ir("",!0)]),vn(y.$slots,"default",Ft(mn({...f(a)})),()=>[Ke(Ye(oa),Mn(f(a),{class:"vl-confirm-content__body"}),null,16)]),st("div",$f,[(lt(!0),xt(it,null,gl(e.selections,(u,m)=>vn(y.$slots,"footerButton",Ft(Mn({key:m},{select:()=>b(u,m),selection:u,index:m,enteringIndex:c.value})),()=>[st("button",{class:"selection-button",disabled:c.value!==void 0,onClick:p=>b(u,m)},Ir(c.value===m?"Waiting...":g(u)),9,Gf)])),128))])],2)],2))}}),Jf=nn({__name:"ConfirmProvider",props:{bindings:null},setup(e){return(o,a)=>(lt(),Rn(xl,{to:"body"},[Ke(Ye(ra),{bindings:e.bindings,"transition-props":{name:"fade"}},{default:Xt(({bind:c,key:f})=>[Ke(Zf,Ft(mn(c)),{closeButton:Xt(g=>[vn(o.$slots,"closeButton",Ft(mn(g)))]),default:Xt(g=>[vn(o.$slots,"default",Ft(mn(g)))]),footerButton:Xt(g=>[vn(o.$slots,"footerButton",Ft(mn(g)))]),_:2},1040)]),_:3},8,["bindings"])]))}});const Xf=()=>{const{bindings:e,unshift:o,remove:a}=ia();return{showNotice:f=>{const g={type:"success",timeout:2e3,...f},b=o(g);setTimeout(()=>{a(b)},g.timeout)},bindings:e}},Yf={key:0,class:"vl-notice-provider"},Qf=nn({__name:"NoticeProvider",props:{bindings:null},setup(e){const o=c=>c,a=c=>({content:c.content,contentHtml:c.contentHtml,contentNode:c.contentNode});return(c,f)=>(lt(),Rn(xl,{to:"body"},[Ke(ro,{name:"slide"},{default:Xt(()=>[e.bindings.length?(lt(),xt("div",Yf,[Ke(Ye(ra),{bindings:e.bindings,"transition-props":{name:"slide"}},{default:Xt(({bind:g,index:b,key:y})=>[Ke(Ye(oa),Mn(a(g),{class:["vl-notice",[o(g.type)]],style:{zIndex:e.bindings.length}}),null,16,["class","style"])]),_:1},8,["bindings"])])):ir("",!0)]),_:1})]))}});const{bindings:ep,showNotice:bi}=Xf(),tp=()=>{const{userInfo:e}=$r(),{routeInfo:o,initialContent:a}=oo(),c=Kt(!1);return{upload:async g=>{var y,h;const b=(y=e.value)==null?void 0:y.login;if(!b||!o){bi({type:"warning",content:"user, path or repo not in url"});return}c.value=!0;try{await gf({user:b,repo:o.repo,message:"feat: edit or add file by linkhub",path:o.path,content:na.encode(g),sha:(h=a.value)==null?void 0:h.sha}),bi({type:"success",content:"Upload success!"})}catch(u){bi({type:"error",content:u})}c.value=!1},uploading:c}},{bindings:np,showConfirm:cp}=Kf(),rp={class:"w-full flex justify-between p-2"},ip={class:"flex items-center"},op=st("a",{class:"mr-2",href:"",target:"_blank"},[st("div",{class:"i-mdi:question-mark-circle-outline w-5 h-5 bg-stone-400"})],-1),sp=["disabled"],lp={class:"flex-1 w-full px-4 py-4 max-w-[1000px] h-[400px]"},ap=nn({__name:"App",setup(e){const{upload:o,uploading:a}=tp(),{isLogin:c}=$r(),{routeInfo:f}=oo(),g=Kt(),{value:b}=Vf(g),y=()=>{!c.value||!b.value||(console.log(b),o(b.value))},h=Dl(()=>a.value?f!=null&&f.path?"Editing...":"Creating":f!=null&&f.path?"Edit":"Create");return(u,m)=>(lt(),xt(it,null,[st("div",rp,[Ke(Tf),st("div",ip,[op,st("button",{disabled:!Ye(c)||!Ye(b)||Ye(a),class:"primary-button",onClick:y},Ir(Ye(h)),9,sp)])]),st("div",lp,[st("div",{ref_key:"editorRef",ref:g},null,512)]),Ke(Ye(Jf),{bindings:Ye(np)},null,8,["bindings"]),Ke(Ye(Qf),{bindings:Ye(ep)},null,8,["bindings"])],64))}});uf();af(ap).mount("#app");
